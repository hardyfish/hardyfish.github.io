<!DOCTYPE html>
<html lang="en" oncontextmenu="return false;">

<head oncontextmenu="return false;">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="baidu-site-verification" content="codeva-QodU0Nk5F7" />
	<meta name="google-site-verification" content="DbSTw8OJwtH5Qei7n8Jnew0YyQ5naPzdLAPiscu7zQE" />
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">

	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?7eeb54583579fabc0878be210d6ad60a";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>

	
	<!-- title -->
	
	<title>
	
		配置系统 | 
	 
	月伴飞鱼
	</title>
	
	<!-- keywords,description -->
	 

	<!-- favicon -->
	
	<link rel="shortcut icon" href="/%E5%A4%B4%E5%83%8F.jpg">
	
  
  	
<link rel="stylesheet" href="/css/main.css">

  	
<link rel="stylesheet" href="/css/reward.css">

	
<link rel="stylesheet" href="/css/jquery.fancybox.min.css">

	
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="/lib/highlight/darcula.css">

	
<link rel="stylesheet" href="/css/clipboard-use.css">


	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">


	
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>


	
<script src="/lib/highlight/highlight.min.js"></script>


	
<script src="https://readmore.openwrite.cn/js/readmore-2.0.js"></script>

	
<script src="/lib/jquery-3.4.1.min.js"></script>

	
<script src="/lib/jquery.pjax.js"></script>


	
<script src="/js/main.js"></script>

	
<script src="/js/jquery.fancybox.min.js"></script>

	
		
<script src="/lib/valine/av-3.0.4-min.js"></script>

		
<script src="/lib/valine/Valine-1.3.10-min.js"></script>

	
	
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
	
<script src="/js/clipboard.min.js"></script>

<meta name="generator" content="Hexo 6.3.0"></head>

<body oncontextmenu="return false;">
	<header id="header" oncontextmenu="return false;">
    <a id="title" href="/" class="logo">公众号月伴飞鱼</a>

	<ul id="menu">
		<li class="menu-item">
			<a href="/about" class="menu-item-link">关于我</a>
		</li>

		<li class="menu-item">
			<a href="/个人微信.jpeg" class="menu-item-link">联系作者</a>
		</li>

	    <li class="menu-item">
			<a href="/site" class="menu-item-link">关于网站</a>
		</li>

		<li class="menu-item">
			<a href="/个人公众号.jpg" class="menu-item-link" target="_blank">我的公众号</a>
		</li>
		
		<li class="menu-item">
			<a href="https://tech.meituan.com/" class="menu-item-link" target="_blank">
				美团技术团队
			</a>
		</li>
		<li class="menu-item">
			<a href="https://tech.youzan.com/" class="menu-item-link" target="_blank">
				有赞技术团队
			</a>
		</li>
		<!--<li class="menu-item">
			<select class="menu-item-link menu-item-select">
				<option class="menu-item-link"  value="volvo">Volvo</option>
				<option class="menu-item-link"  value="saab">Saab</option>
				<option class="menu-item-link"  value="fiat">Fiat</option>
				<option class="menu-item-link"  value="audi">Audi</option>
			</select>
		</li>-->
	</ul>
</header>

	<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="text" placeholder="按目录搜索一下">
		<div id="tree">
			

			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										AI相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/01/14/AI%E7%9B%B8%E5%85%B3/AIGC/">
										AIGC
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/03/AI%E7%9B%B8%E5%85%B3/ChatGPT/">
										ChatGPT
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/07/AI%E7%9B%B8%E5%85%B3/Sora/">
										Sora
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/01/AI%E7%9B%B8%E5%85%B3/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/">
										提示词工程
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										个人相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/HBase%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">
										HBase最佳实践
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E4%BA%A4%E6%98%93%E7%B3%BB%E7%BB%9F/">
										交易系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%88%97%E8%A1%A8%E7%B3%BB%E7%BB%9F/">
										列表系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/21/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%95%86%E5%93%81%E7%B3%BB%E7%BB%9F/">
										商品系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90/">
										学习资源
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%B9%BF%E5%91%8A%E7%B3%BB%E7%BB%9F/">
										广告系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%BA%93%E5%AD%98%E7%B3%BB%E7%BB%9F/">
										库存系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/">
										生活相关
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E7%94%B5%E5%95%86%E7%B3%BB%E7%BB%9F/">
										电商系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E7%9B%B8%E5%85%B3%E5%8D%9A%E4%B8%BB/">
										相关博主
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/">
										相关工具
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E7%BE%A4%E7%BB%84%E7%B3%BB%E7%BB%9F/">
										群组系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/21/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E8%90%A5%E9%94%80%E7%B3%BB%E7%BB%9F/">
										营销系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/21/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E8%B5%84%E6%BA%90%E4%BD%8D%E7%B3%BB%E7%BB%9F/">
										资源位系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E8%BD%AC%E4%BB%8B%E7%BB%8D/">
										转介绍
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file active">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F/">
										配置系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										中间件
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/30/%E4%B8%AD%E9%97%B4%E4%BB%B6/Dubbo/">
										Dubbo
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/12/19/%E4%B8%AD%E9%97%B4%E4%BB%B6/Elasticsearch/">
										Elasticsearch
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/30/%E4%B8%AD%E9%97%B4%E4%BB%B6/Netty/">
										Netty
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/25/%E4%B8%AD%E9%97%B4%E4%BB%B6/Solr/">
										Solr
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/19/%E4%B8%AD%E9%97%B4%E4%BB%B6/ZooKeeper/">
										ZooKeeper
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										产品相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/18/%E4%BA%A7%E5%93%81%E7%9B%B8%E5%85%B3/%E5%B9%BF%E5%91%8A%E4%B8%9A%E5%8A%A1/">
										广告业务
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/18/%E4%BA%A7%E5%93%81%E7%9B%B8%E5%85%B3/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/">
										推荐系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/06/%E4%BA%A7%E5%93%81%E7%9B%B8%E5%85%B3/%E7%94%A8%E6%88%B7%E5%A2%9E%E9%95%BF/">
										用户增长
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										代码思想
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/12/15/%E4%BB%A3%E7%A0%81%E6%80%9D%E6%83%B3/CodeReview/">
										CodeReview
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/02/%E4%BB%A3%E7%A0%81%E6%80%9D%E6%83%B3/%E4%BB%A3%E7%A0%81%E9%87%8D%E6%9E%84/">
										代码重构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										前端相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/CSS/">
										CSS
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/26/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/React/">
										React
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/26/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/Vue/">
										Vue
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/12/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">
										小程序
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										基础知识
									</a>
									
							<ul>
								<li class="file">
									<a href="/2022/11/27/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/JVM/">
										JVM
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%88%86%E5%B8%83%E5%BC%8F/">
										分布式
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/12/10/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">
										并发编程
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">
										设计模式
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										大数据相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/21/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/DataX/">
										DataX
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/25/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Doris/">
										Doris
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/20/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Flink/">
										Flink
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/21/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Hadoop/">
										Hadoop
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/07/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Hive/">
										Hive
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/23/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/SQOOP/">
										SQOOP
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/20/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Spark/">
										Spark
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										学习专栏
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/04/05/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/22%E8%AE%B2%E9%80%9A%E5%85%B3Go%E8%AF%AD%E8%A8%80/">
										22讲通关Go语言
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/25/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/23%E8%AE%B2%E6%90%9E%E5%AE%9A%E5%90%8E%E5%8F%B0%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98/">
										23讲搞定后台架构实战
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/04/18/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/Dubbo%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%E4%B8%8E%E5%AE%9E%E6%88%98/">
										Dubbo源码解读与实战
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/16/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%9E%B6%E6%9E%84/">
										从0开始学架构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/31/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/%E4%BB%A3%E7%A0%81%E4%B9%8B%E4%B8%91/">
										代码之丑
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/26/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97/">
										大厂晋升指南
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/19/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/%E5%A6%82%E4%BD%95%E6%88%90%E4%B8%BA%E5%AD%A6%E4%B9%A0%E9%AB%98%E6%89%8B/">
										如何成为学习高手
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										学习书籍
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/05/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/HBase%E4%B8%8D%E7%9D%A1%E8%A7%89%E4%B9%A6/">
										HBase不睡觉书
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/02/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98/">
										Java并发编程实战
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/02/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E7%9A%84%E8%89%BA%E6%9C%AF/">
										Java并发编程的艺术
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/16/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/Java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C/">
										Java开发手册
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/22/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/">
										MySQL技术内幕
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/23/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/">
										Redis设计与实现
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/11/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E4%BA%BF%E7%BA%A7%E6%B5%81%E9%87%8F%E7%BD%91%E7%AB%99%E6%9E%B6%E6%9E%84%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/">
										亿级流量网站架构核心技术
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/05/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/">
										代码整洁之道
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/03/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E5%A4%A7%E5%9E%8B%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84/">
										大型网站技术架构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/07/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E5%A4%A7%E5%9E%8B%E7%BD%91%E7%AB%99%E7%B3%BB%E7%BB%9F/">
										大型网站系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/06/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/">
										深入理解Java虚拟机
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/08/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E8%8B%B1%E8%AF%AD%E9%AD%94%E6%B3%95%E5%B8%88%E4%B9%8B%E8%AF%AD%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8/">
										英语魔法师之语法俱乐部
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										工具相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/11/09/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/Arthas/">
										Arthas
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/24/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/ChatGPT/">
										ChatGPT
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/21/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/GIT/">
										GIT
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/21/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/Hexo/">
										Hexo
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/21/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/MAC/">
										MAC
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/01/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/Maven/">
										Maven
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/09/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/PlantUML/">
										PlantUML
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/22/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/UTools/">
										UTools
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/">
										实用工具
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										成长相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/03/26/%E6%88%90%E9%95%BF%E7%9B%B8%E5%85%B3/%E5%B7%A5%E4%BD%9C%E7%9B%B8%E5%85%B3/">
										工作相关
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/31/%E6%88%90%E9%95%BF%E7%9B%B8%E5%85%B3/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/">
										技术学习
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/07/%E6%88%90%E9%95%BF%E7%9B%B8%E5%85%B3/%E8%AF%BB%E4%B9%A6%E8%AE%A1%E5%88%92/">
										读书计划
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/09/%E6%88%90%E9%95%BF%E7%9B%B8%E5%85%B3/%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/">
										面试相关
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										数据库
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/06/%E6%95%B0%E6%8D%AE%E5%BA%93/ClickHouse/">
										ClickHouse
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/27/%E6%95%B0%E6%8D%AE%E5%BA%93/HBase/">
										HBase
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/09/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/">
										MongoDB
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/12/02/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">
										MySQL
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/21/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/">
										Redis
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/04/07/%E6%95%B0%E6%8D%AE%E5%BA%93/TIDB/">
										TIDB
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										文章速读
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/03/18/%E6%96%87%E7%AB%A0%E9%80%9F%E8%AF%BB/%E5%A4%A7%E5%8E%82%E6%96%87%E7%AB%A0/">
										大厂文章
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										服务器
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E6%9C%8D%E5%8A%A1%E5%99%A8/Docker/">
										Docker
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/09/%E6%9C%8D%E5%8A%A1%E5%99%A8/Nginx/">
										Nginx
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/03/%E6%9C%8D%E5%8A%A1%E5%99%A8/Tomcat/">
										Tomcat
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/09/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E8%BF%90%E7%BB%B4%E7%9F%A5%E8%AF%86/">
										运维知识
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										架构相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/21/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/DDD/">
										DDD
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/02/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E6%9E%B6%E6%9E%84%E5%9B%BE/">
										架构图
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/02/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E6%9E%B6%E6%9E%84%E5%AD%A6%E4%B9%A0/">
										架构学习
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/26/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E4%BF%9D%E9%9A%9C/">
										系统保障
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/31/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E6%80%A7%E8%83%BD/">
										系统性能
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/26/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">
										系统设计
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										框架相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/01/07/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Caffeine/">
										Caffeine
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/06/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Guava/">
										Guava
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/15/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/JWT/">
										JWT
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/08/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/MyBatis/">
										MyBatis
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/14/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/RPC%E6%A1%86%E6%9E%B6/">
										RPC框架
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/26/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Seata/">
										Seata
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/03/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/ShardingSphere/">
										ShardingSphere
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/14/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Spring/">
										Spring
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/03/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Thrift/">
										Thrift
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/29/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/XXLJOB/">
										XXLJOB
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/10/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/">
										开源框架
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										消息队列
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/KAFKA/">
										KAFKA
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/20/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/RabbitMQ/">
										RabbitMQ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/RocketMQ/">
										RocketMQ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										源码相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/12/13/%E6%BA%90%E7%A0%81%E7%9B%B8%E5%85%B3/RocketMQ/">
										RocketMQ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										生活相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/24/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E6%B3%95%E5%BE%8B/">
										法律
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/17/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E7%83%B9%E9%A5%AA/">
										烹饪
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/10/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E7%94%B5%E5%BD%B1/">
										电影
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/10/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E7%94%B5%E8%A7%86%E5%89%A7/">
										电视剧
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/11/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E7%BA%AA%E5%BD%95%E7%89%87/">
										纪录片
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/09/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E9%9F%B3%E4%B9%90/">
										音乐
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										算法相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2022/11/26/%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3/LeetCode/">
										LeetCode
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/11/26/%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3/%E5%89%91%E6%8C%87OFFER/">
										剑指OFFER
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/11/25/%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3/%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95/">
										面试算法
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										编程语言
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/04/05/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go%E5%9F%BA%E7%A1%80/">
										Go基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/11/21/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java%E5%9F%BA%E7%A1%80/">
										Java基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/29/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python%E5%9F%BA%E7%A1%80/">
										Python基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										英语相关
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										摩登家庭
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/03/05/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E6%91%A9%E7%99%BB%E5%AE%B6%E5%BA%AD/%E7%AC%AC%E4%B8%80%E5%AD%A3/">
										第一季
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										老友记
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/08/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E8%80%81%E5%8F%8B%E8%AE%B0/%E7%AC%AC%E4%B8%80%E5%AD%A3/">
										第一季
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/08/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E8%80%81%E5%8F%8B%E8%AE%B0/%E7%AC%AC%E4%B8%89%E5%AD%A3/">
										第三季
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/23/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E8%80%81%E5%8F%8B%E8%AE%B0/%E7%AC%AC%E4%BA%94%E5%AD%A3/">
										第五季
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										雅思
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/01/25/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E9%9B%85%E6%80%9D/%E5%89%91%E6%A1%A5%E9%9B%85%E6%80%9D%E5%90%AC%E5%8A%9B%E7%9C%9F%E9%A2%9815/">
										剑桥雅思听力真题15
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/12/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E9%9B%85%E6%80%9D/%E5%89%91%E6%A1%A5%E9%9B%85%E6%80%9D%E5%90%AC%E5%8A%9B%E7%9C%9F%E9%A2%984/">
										剑桥雅思听力真题4
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/08/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E9%9B%85%E6%80%9D/%E9%9B%85%E6%80%9D%E9%98%85%E8%AF%BB538%E8%80%83%E7%82%B9%E8%AF%8D/">
										雅思阅读538考点词
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										计算机基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
										操作系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
										数据结构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%AE%97%E6%B3%95%E7%9F%A5%E8%AF%86/">
										算法知识
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/12/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/">
										网络基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content">
		<h1 id="article-title" oncontextmenu="return false;">

	配置系统
</h1>
<div class="article-meta" oncontextmenu="return false;">
	<span>月伴飞鱼</span>
	<span>2024-05-20 17:33:43</span>
    
		<div id="article-categories">
            
                
                    <span>
                        <i class="fa fa-folder" aria-hidden="true"></i>
                        <a href="/categories/个人相关/">个人相关</a>
						
                    </span>
                
            
		</div>
    
</div>

<div id="container" class = "content999" oncontextmenu="return false;">
<!--打赏-->
        <div class="reward">
       <div class="reward-button">赏 <span class="reward-code">
        <span class="alipay-code"> <img class="alipay-img wdp-appear" src="/alipay.png"><b>支付宝打赏</b> </span> 
        <span class="wechat-code"> <img class="wechat-img wdp-appear" src="/weipay.jpeg"><b>微信打赏</b> </span> 
       </div>
      <p class="reward-notice">如果文章对你有帮助，欢迎点击上方按钮打赏作者！</p>
      </div>
      <!--打赏-->
	<div id="article-content">
		<p><strong>背景</strong></p>
<p><strong>业务分析</strong></p>
<p>展示构成情况</p>
<p>页面构成：每个页面都是由几个不同的<strong>模块</strong>组成的，如图首页包含了顶通、品宣、金刚、瓷片、猜喜等模块。</p>
<p>模块构成：每个模块可以包含多个<strong>子模块</strong>，如猜喜模块包含猜喜tab和猜喜商品列表两个子模块。</p>
<p>每个<strong>模块</strong>是由<strong>坑位</strong>列表组成，如猜喜商品列表包含很多商卡<strong>坑位</strong>和轮播卡片等其他的<strong>坑位</strong>；除了页面展示构成外，每个模块都对应一套系统处理<strong>流程</strong>，流程中包括取值逻辑，数据处理逻辑等流程逻辑，如猜喜tab处理需从猜喜配置接口获取猜喜tab信息，并对tab列表数据进行过滤，排序，截断等操作。</p>
<p>坑位构成：每个坑位是由多个<strong>内容</strong>组成的信息集合；</p>
<p>内容构成：每个内容是<strong>位置</strong>+具体的<strong>元素</strong>组成。一个位置可以是展示任意一个或多个元素，一个元素可以展示在任意一个位置上，如副标题位置可以展示推荐理由也可以展示商品副标题，同理促销标签可以展示在图片右下角也可以展示在图片左下角。多个元素通过一定的取值规则决定这个位置上最终展示什么元素。</p>
<p>元素构成：每个元素都是由一个或多个<strong>元数据</strong>通过一定的取值规则组成的。如售价是由商品原价，促销价等多个下游数据组成；取值规则为按照促销价&gt;商品原价的顺序进行优先级选择得来。</p>
<p>元数据构成：每个元数据都对应一个下游接口字段。</p>
<p><strong>现状</strong></p>
<p>页面布局调整不灵活：</p>
<p>1.目前首页模块布局是通过vcc写死几种模块布局dsl，代码通过if..else判断获取对应dsl，不够灵活。</p>
<p>2.其他页面不支持布局调整。</p>
<p>无法快速新增和修改模块数据：</p>
<p>1.模块流程硬编码，新增和调整都需要开发代码。</p>
<p>2.很多模块相似性高，流程可复用性强，但由于业务细节逻辑不同导致都单独维护，例如：tab列表类型的模块页面中包括很多场景（猜喜，秒杀，菜谱列表，会员权益页，会员落地页，新品发现）的tab组成流程，商品列表组成流程相似。</p>
<p>3.列表服务可以实现商品列表的流程复用，流程编排和扩展点配置化，但没有配置平台。</p>
<p>页面展示内容快速调整支持粒度不够：</p>
<p>1.目前仅支持商品标签维度部分需求的配置化调整，除标签外其他字段不支持配置化，每次调整需要需要硬编码。</p>
<p>2.标签配置化支持粒度不全面，目前业务数据取值逻辑固定的不支持动态变更，内容展示规则仅支持优先级，黑白名单等，且规则配置与M端配置结构强耦合，增加修改规则要调整M端界面和代码改动成本高。</p>
<p><strong>问题</strong></p>
<p><strong>产品角度：</strong></p>
<ul>
<li>产品迭代速度慢，流程长；</li>
</ul>
<p><strong>研发角度：</strong></p>
<ul>
<li><p>业务差异大，不同模块，不同版本，不同渠道实现逻辑都不同，在代码里维护，系统复杂度高，维护成本大；</p>
</li>
<li><p>硬编码较多，每个小功能或一个相同类型的模块都要投入人力去开发，开发效率低；</p>
</li>
<li><p>业务变更频繁研发投入占比较高，但需求实现的成就感较低；</p>
</li>
</ul>
<p><strong>目标</strong></p>
<ul>
<li><p>核心目标（降本提效）：</p>
<p> 1.运营和产品可以灵活调整线上内容，减少在需求上花费的精力，释放精力放在创造更好的用户体验和挖掘更有价值的内容。</p>
<p> 2.减少开发量，释放精力更多关注底层能力的扩展性和复用性。</p>
</li>
<li><p>收益评估<br>  1.可以解决展示内容调整类需求90%的开发工作量。<br>  2.可以解决页面模块调整类需求100%的开发工作量。<br>  3.可以解决模块逻辑调整类需求50%的开发工作量。</p>
</li>
</ul>
<p><strong>实现方案分析</strong></p>
<p>方案分析</p>
<p><strong>如何实现页面布局调整</strong></p>
<p>要求：调整模块顺序无需开发，不同策略（ab实验，版本）可实现不同页面布局。</p>
<p>实现方案分析：页面模块可标识，页面模块顺序通过dsl表示，增加M端实现dsl配置化（1.dsl配置的能力；2.不同策略绑定不同dsl配置的能力）。</p>
<p><img src="/images/692.png" alt="图片1"></p>
<pre><code class="json">&#123;
    &quot;pages&quot;:[
        &#123;
            &quot;pageType&quot;:&quot;MRNModulePage&quot;,
            &quot;modules&quot;:[
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;tabListTemplate&quot;,
                    &quot;module&quot;:&quot;GuessLikeModule&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;TopCouponModule&quot;,
                    &quot;module&quot;:&quot;TopCouponModule&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;TopBannerModule&quot;,
                    &quot;module&quot;:&quot;TopBannerModule&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;PromotionModule&quot;,
                    &quot;module&quot;:&quot;PromotionModule&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;NoticeContainerView&quot;,
                    &quot;module&quot;:&quot;NoticeContainerView&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;TopIconModule&quot;,
                    &quot;module&quot;:&quot;TopIconModule&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;MiddleBannerModule&quot;,
                    &quot;module&quot;:&quot;MiddleBannerModule&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;GradientDividerModule&quot;,
                    &quot;module&quot;:&quot;GradientDividerModule&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;TileModuleV2&quot;,
                    &quot;module&quot;:&quot;TileModuleV2&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;StoreTilesPlaceholderModule&quot;,
                    &quot;module&quot;:&quot;NavigationBarPlaceholderModule&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;GuessLikeSentryModule&quot;,
                    &quot;module&quot;:&quot;GuessLikeSentryModule&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;`$&#123;PROPS.poi &amp;&amp; PROPS.poi.poiId&#125;_$&#123;STATE.guessLikeRefreshId&#125;_GuessLikeModule`&quot;,
                    &quot;module&quot;:&quot;GuessLikeModule&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;FestivalModule&quot;,
                    &quot;module&quot;:&quot;FestivalModule&quot;
                &#125;,
                &#123;
                    &quot;moduleTemplateCode&quot;:&quot;BottomTipsModule&quot;,
                    &quot;module&quot;:&quot;BottomTipsModule&quot;
                &#125;
            ]
        &#125;
    ]
&#125;
</code></pre>
<p><strong>如何实现模块调整</strong></p>
<p>要求：流程复用，业务逻辑细节可快速调整。</p>
<p>实现方案分析：</p>
<p>1.流程可复用：相似模块流程抽象，将业务差异点进行扩展点预留，通过配置进行流程编排和差异点逻辑细节。a.可基于现有列表服务流程编排和扩展方案实现思路来实现各模块的流程编排和差异点实现。b.不同类型模块流程不同，关键步骤不同，导致需要填写的配置项也会存在差异。定义配置模板，通过配置模板决定不同类型模块需要填写的配置信息。c.通过模块具体的配置信息驱动流程引擎的流程编排实现不同的业务功能。</p>
<p>2.业务逻辑细节可快速调整：业务流程中会变化的点，进行扩展点预留，通过配置实现逻辑细节。不同模块或相同模块不同的策略可以通过绑定不同的配置信息实现业务逻辑的差异化和流程快速调整。</p>
<p><img src="/images/693.png" alt="图片2"></p>
<p><strong>如何实现内容快速调整</strong></p>
<p>要求：数据展示位置可调整，展示数据逻辑快速变更，展示样式可调整，不同策略（ab实验，版本）展示存在差异。</p>
<p>实现方案分析：</p>
<p>数据展示位置可调整：页面每个展示坑位划分不同位置区域，取消展示在某个位置数据的具体业务含义，该位置可以是任意业务数据，与前端交互也屏蔽具体业务字段，通过位置进行数据下发。前端也不需要关注具体是什么数据。</p>
<p>展示数据逻辑快速变更：数据逻辑变更，包含业务数据组装和位置选取业务数据两层。两层都需要增加取值规则配置能力；业务数据组装依赖下游数据，如想实现快速变更还需实现数据源的动态添加能力提高开发效率。</p>
<p>展示样式可调整：展示样式包括展示结构（单文本结构，KV文本结构）和具体样式（单文本结构对应的文本字号，文本颜色，文本背景色），需实现展示结构可选择及具体样式可配置才能实现展示样式的快速调整。</p>
<p>参考到综的BFF模型，将业务分成取数和展示两层，取数层和展示层在做进一步拆解</p>
<p><img src="/images/694.png" alt="图片3"></p>
<p><strong>总结</strong></p>
<p>通过上面的分析我们可以知道，要快速支撑上述需求变动，我们需要具备一下两点能力。</p>
<p>标准化：</p>
<p>1.模块处理流程标准化：相同类型模块抽象流程，定义流程关键步骤，开发和定义各业务关键步骤具体扩展实现，通过配置实现具体的流程编排和差异点逻辑路由；</p>
<p>2.内容封装标准化：提供底层内容封装能力；底层数据到单个展销业务数据再到具体展示内容的封装过程提供一套标准化处理方法和输出API；</p>
<p>配置化：</p>
<p>1.页面模块布局配置化：通过配置平台，调整模块布局dsl，实现页面模块的快速调整。</p>
<p>2.模块流程配置化：建立配置模板，通过配置模板生成模块配置页面，通过模块配置信息+模块的标标准化处理流程实现模块的快速调整。</p>
<p>3.内容配置化：位置配置，取值规则和数据源配置，展示样式配置；实现内容的快速调整。</p>
<p><strong>配置化项目在展销领域中的职责和定位</strong></p>
<p><img src="/images/695.png" alt="图片4"></p>
<p>现有系统与配置系统关系</p>
<table>
<thead>
<tr>
<th>系统</th>
<th>接入方式</th>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody><tr>
<td>标签系统</td>
<td>将标签封装逻辑作为服务接口，返回各种类型标签元数据，配置平台使用元数据封装元素及内容</td>
<td>与配置系统整体模型匹配</td>
<td>不能使用标签配置系统的位置配置</td>
</tr>
<tr>
<td>直接在坑位内容处理时直接调用标签服务获取标签内容信息，将标签配置系统的位置和配置平台的位置打通</td>
<td>可以使用标签配置系统的位置配置</td>
<td>与配置系统整体下游数据接入模型不匹配</td>
<td></td>
</tr>
<tr>
<td>列表服务</td>
<td>1.内容渲染逻辑统一调用配置系统的内容处理api。2.流程编排提取到配置系统的sdk中，通过配置系统sdk实现流程编排。</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><strong>配置化项目本期目标</strong></p>
<p>M端：</p>
<p>1.模板创建：自定义创建模板；</p>
<p>2.模块配置：根据模板生成配置页面，不同从策略关联不同模块配置。</p>
<p>3.内容配置：位置选择，元素选取规则配置，策略与取值规则配置绑定（待定）。</p>
<p>4.元素配置：展示结构定义，取值脚本配置，样式配置，策略与取值规则和样式配置绑定（待定）。</p>
<p>5.元数据配置：依赖接口配置，取值脚本配置。</p>
<p>C端：</p>
<p>1.标准流程搭建，扩展点实现搭建，流程编排通用能力实现；</p>
<p>2.内容组装流程搭建；</p>
<p>3.规则引擎通用能力实现；</p>
<p>4.配置解析；</p>
<p><strong>核心领域分析</strong></p>
<p>模块</p>
<p><strong>4.1.1 流程标准化，扩展方案</strong></p>
<p>   参考列表服务流程编排</p>
<p>通用的业务流程模型和扩展方案</p>
<p><strong>概念说明</strong></p>
<p>流程：用于表示一类模块的抽象处理流程。</p>
<p>阶段：用于表示流程中各个关键执行阶段，每个阶段有很多步骤，每个步骤对应一个可选项，决定了具体业务执行逻辑。</p>
<p>步骤：用于表示每个阶段的一个执行步骤，每个执行步骤是一个业务能力单元，业务能力单元可通过配置项扩展，可被替换。</p>
<p>参数：用于标识可选项内部存在一些可扩展的业务规则。</p>
<p><strong>配置模板</strong></p>
<p>不同类型模块流程不同，关键阶段不同，导致配置页面也会存在差异。通过定义配置模板的方式实现不同类型模块的配置页面。这就涉及两个问题，1.如何定义模板对应的流程阶段；2.如何定义模板需要的配置项，快速创建模板；</p>
<p>1.如何定义模板对应的流程阶段；</p>
<p>一个模板对应一套流程定义，模板的不同配置项对应流程的不同阶段，根据配置项的顺序编排流程阶段；</p>
<p>2.如何定义模板需要的<strong>配置项</strong>，快速创建模板</p>
<p>各模块流程阶段大概为</p>
<p><img src="/images/696.png" alt="图片5"></p>
<table>
<thead>
<tr>
<th>配置项范围</th>
<th>类型</th>
<th>特点</th>
<th>实现方案</th>
<th>控件实现位置</th>
</tr>
</thead>
<tbody><tr>
<td>内容获取阶段说明：模块展示内容举例：猜喜tab内容</td>
<td>动态数据说明：通过下游数据经过一定的展示逻辑组装而成举例：猜喜tab信息从猜喜接口获取</td>
<td>展示逻辑产品会有调整的需求</td>
<td>1.通过定义内容组件实现依赖下游数据内容的获取2.定义<strong>内容组件控件</strong>用于内容组件的选择</td>
<td>配置系统提供</td>
</tr>
<tr>
<td>静态数据说明：配置平台直接输入举例：会员tab是页面输入获取</td>
<td>一般由产品进行输入</td>
<td>1.定义一个单独的模板，作为子模板嵌入到流程配置模板中，模板权限为产品；2定义<strong>基础控件</strong>(文本，图片，选择框等)用于需要输入的信息的录入，录入信息包括展示内容信息，逻辑内容信息及样式内容。如会员tab需要输入tab名称等展示信息，tab后台分类id逻辑信息，商品列表需要输入单双排等样式内容</td>
<td>配置系统提供</td>
<td></td>
</tr>
<tr>
<td>其他流程阶段说明：模块对应抽象流程的关键步骤举例：卡片插入步骤</td>
<td>通用节点说明：不同业务都会应用到的节点举例：数据召回节点，列表过滤节点</td>
<td>研发调整</td>
<td>1.定义<strong>对应节点的能力控件</strong>，每个能力控件可对应执行流程中的一个执行阶段2.每个能力控件提前定义好<strong>可选项</strong>和每个<strong>可选项的参数</strong></td>
<td>定义在配置系统提供通用的执行阶段业务能力</td>
</tr>
<tr>
<td>扩展节点说明：只有某一业务才会用到举例：列表插入节点，这个只有商品列表类型模板才会用到</td>
<td>研发调整</td>
<td>定义在各业务系统，作为业务特有的执行阶段业务能力</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><strong>概念说明</strong></p>
<p>模板：用于描述一类模块处理流程的流程阶段及各阶段的配置。</p>
<p>配置项：用于描述模板的一个流程阶段及这个阶段需要的配置点，配置项由控件生成。如tab列表流程中获取tab信息可以作为一个流程执行阶段，可以在页面建立对应配置项，该配置项由内容组件控件或基础控件生成。</p>
<p>控件：用于定义流程中的各个阶段对应的配置项，每个控件在定义配置项的时候可以填入基础信息，限制信息。从类型上可以划分为一下几种类型：</p>
<p>   内容组件控件：用于定义需要选择内容组件的配置项，可以实现依赖下游数据内容的获取。</p>
<p>   基础控件：用于定义需要页面输入信息的配置项，可以实现业务输入数据内容的获取。</p>
<p>   其他能力控件：用于定义出内容获取外其他流程阶段的配置项，对应执行过程中的一个阶段。每个能力控件存在提前定义好的可选项和每个可选项对应的参数，通过配置页面的配置信息可以实现业务能力逻辑路由。</p>
<p>可选项：</p>
<p>   对应流程中的执行步骤概念，一个可选项绑定执行流程中的一个执行步骤。每个步骤有对应的参数叫做可选项参数。</p>
<p><strong>实体关系</strong></p>
<p><img src="/images/697.png" alt="图片6"></p>
<p>配置过程：</p>
<p><img src="/images/698.png" alt="图片7"></p>
<p>配置信息</p>
<pre><code class="json">
&#123;
  &quot;moduleId&quot;:1,
  &quot;moduleCode&quot;:&quot;GuessLike&quot;,
  &quot;moduleName&quot;:&quot;首页猜喜模块&quot;,
  &quot;stageList&quot;:[
    &#123;
      &quot;name&quot;:&quot;staticContent&quot;,
          &quot;type&quot;:&quot;subModule&quot;,
      &quot;param&quot;:&#123;&quot;moduleId&quot;:2&#125;
    &#125;,
    &#123;
      &quot;name&quot;:&quot;dynamicContent&quot;,
          &quot;type&quot;:&quot;ContentAbility&quot;,
      &quot;param&quot;:&#123;&quot;contentId&quot;:2&#125;
    &#125;,
    &#123;
      &quot;name&quot;:&quot;tabFilter&quot;,
          &quot;type&quot;:&quot;listFilterAbility&quot;,
      &quot;subTaskList&quot;: [
        &#123;
            &quot;name&quot;: &quot;scriptFilter&quot;,
            &quot;type&quot;: &quot;listScriptAbility&quot;,
          &quot;param&quot;:&#123;&quot;script&quot;:&quot;tabCount&gt;10&quot;&#125;
                &#125;
        ]
    &#125;,
    &#123;
      &quot;name&quot;:&quot;insertcard&quot;,
          &quot;type&quot;:&quot;InsertCardAbility&quot;,
      &quot;subTaskList&quot;: [
        &#123;
            &quot;name&quot;: &quot;insertBannerCard&quot;,
            &quot;type&quot;: &quot;InsertBannerCardAbility&quot;,
          &quot;param&quot;:&#123;&quot;tabId&quot;:2,&quot;startIndex&quot;:3,&quot;intervalIndex&quot;:4&#125;
                &#125;,
                &#123;
                    &quot;name&quot;: &quot;insertOftenBuyCard&quot;,
                    &quot;type&quot;: &quot;InsertOftenBuyCardAbility&quot;,
          &quot;param&quot;:&#123;&quot;tabId&quot;:2,&quot;startIndex&quot;:4&#125;
                &#125;
        ]
    &#125;
  ]
&#125;

&#123;
  &quot;moduleId&quot;:2,
  &quot;moduleCode&quot;:&quot;GuessLikeStaticContent&quot;,
  &quot;moduleName&quot;:&quot;首页猜喜静态信息模块&quot;,
  &quot;stageList&quot;:[
    &#123;
      &quot;name&quot;:&quot;location1&quot;,
          &quot;type&quot;:&quot;TextBasicAbility&quot;,
      &quot;param&quot;:&#123;
        &quot;valueJson&quot;:&#123;&quot;value&quot;:&quot;tab名称&quot;,&quot;textSize&quot;:1,&quot;textColor&quot;:&quot;#FFFF&quot;&#125;,
        &quot;type&quot;:&quot;展示内容&quot;
      &#125;
    &#125;,
    &#123;
      &quot;name&quot;:&quot;location2&quot;,
          &quot;type&quot;:&quot;ImageBasicAbility&quot;,
      &quot;param&quot;:&#123;
        &quot;valueJson&quot;:&#123;&quot;value&quot;:&quot;tabIconURL&quot;&#125;,
        &quot;type&quot;:&quot;展示内容&quot;
      &#125;
    &#125;,
    &#123;
      &quot;name&quot;:&quot;tabCount&quot;,
          &quot;type&quot;:&quot;NumberBasicAbility&quot;,
      &quot;param&quot;:&#123;
        &quot;valueJson&quot;:&#123;&quot;value&quot;:10&#125;,
        &quot;type&quot;:&quot;逻辑内容&quot;
      &#125;
    &#125;
  ]
&#125;
</code></pre>
<p>流程编排引擎</p>
<p><img src="/images/699.png" alt="图片8"></p>
<p><img src="/images/700.png" alt="图片9"></p>
<p><strong>内容</strong></p>
<p>一个实体除了包含一些需要在页面展示的信息外还包含一些在业务流程执行过程中会用到的信息。如猜喜tab，一个猜喜tab实体包含标题，副标题，icon等这些页面展示信息，还包含tab顺序等在流程执行过程中用到的规则信息。</p>
<p>展示内容特点：在c端展示的信息，经常会发生变更，包括位置，样式，数据值变更。</p>
<p>逻辑内容特点：不需要在c端直接展示，但处理流程会依赖的数据，包括skuid，sku品类，sku状态等。每一类实体逻辑内容相同取值逻辑变化不大。</p>
<table>
<thead>
<tr>
<th>内容类型</th>
<th>c端是否展示</th>
<th>取值逻辑变更</th>
<th>样式变更</th>
<th>某类内容组件数据是否相同</th>
<th>产品是否需要设置数据或设置取值逻辑</th>
<th>实现方案</th>
</tr>
</thead>
<tbody><tr>
<td>展示内容</td>
<td>是</td>
<td>频繁</td>
<td>频繁</td>
<td>否</td>
<td>是</td>
<td>通过配置的方式实现</td>
</tr>
<tr>
<td>逻辑内容</td>
<td>否</td>
<td>不频繁</td>
<td>无</td>
<td>是</td>
<td>否</td>
<td>每种内容组件的逻辑内容相对固定，调整概率低，系统中固定写死几种内容组件对应的逻辑内容赋值代码。</td>
</tr>
</tbody></table>
<p><strong>展示内容配置</strong></p>
<p><strong>概念说明</strong></p>
<p>元数据：用于表示下游的某个数据字段。如商品接口的原价字段，促销接口的促销活动价格字段等。</p>
<p>元素：用于表示展销的业务数据。如商品售价。</p>
<p>内容：用于表示前端展示的一条数据。如副标题部分数据，可以是商品副标题也可以是推荐理由。</p>
<p>交互事件：用于表示用户某种行为可以产生对应的动作。如长按后弹窗，点击后跳转等。一个行为会触发多个动作。</p>
<table>
<thead>
<tr>
<th>变更类型</th>
<th>细分</th>
<th>问题点</th>
<th>实现方案</th>
</tr>
</thead>
<tbody><tr>
<td>内容样式变更</td>
<td>展示形式变更说明：页面的展示形式发生变化举例：促销标签从只展示标签内容这种单文本结构调整为展示关键字+标签内容这种kv文本结构</td>
<td>业务数据为同一条数据，展示形式会发生变化，数据的取值逻辑会发生变化</td>
<td>同一条业务数据定义不同展示形式的多个元素，多个元素封装好对应元素的取值逻辑，由产品决定具体选哪个元素点击展开内容</td>
</tr>
<tr>
<td>不同的展示形式需要设置的具体样式也会不同</td>
<td>每一种展示形式定义对应的可以配置的<strong>样式字段</strong>，根据产品选择的元素获取需要设置的样式由产品设置样式</td>
<td></td>
<td></td>
</tr>
<tr>
<td>动态数据样式变更说明：当前结构中的某个具体样式发生变化举例：促销标签单文本结构的标签内容，文字颜色从黑色改为灰色；</td>
<td>会涉及到多种配置方式，输入数值，输入文字，颜色色值选择等</td>
<td>定义不同样式的样式字段，不同样式对应页面的一种输入方式</td>
<td></td>
</tr>
<tr>
<td>展示数据逻辑变更</td>
<td>静态数据变更说明：某个业务数据通过展示判断后，返回一个静态数据，该静态数据会发生变更。举例：</td>
<td>数据是否展示逻辑复杂需在元素层由研发设置，具体展示内容由产品选择静态数据；</td>
<td>每种展示结构的<strong>数据字段</strong>可以在元素层赋值也可以在内容层赋值。内容层的赋值可以覆盖元素层的赋值。</td>
</tr>
<tr>
<td>内容选取元素变更说明：某个位置具体展示哪个业务数据的逻辑变化举例：某个位置展示促销标签还是展示服务标签</td>
<td>产品设置取值规则</td>
<td>规则配置可视化1.规则固定，暂时根据不同类型的内容组件增加固定的规则配置；2.代码中写死规则方法通过页面配置判断取值</td>
<td></td>
</tr>
<tr>
<td>内容组件内容取值干预逻辑变更说明：内容组件中，某个展示内容决定了另外一个内容是否展示举例：商卡上当特价标签展示的时候就不展示省心价标签</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>元素组装变更说明：某个元素具体是从哪个下游接口哪个字段经过什么逻辑得来举例：售价元素来源为商品原价和促销价格，取值逻辑按照促销价&gt;原价</td>
<td>依赖数据源变更</td>
<td>1.通过服务编排实现依赖数据源的动态变更。2.增加元数据层，作为对接下游数据的防腐层，将下游取字段逻辑封装在这一层（当下游接口调整或字段变更只调整该部分即可，不需要调整所有依赖该接口的元素信息）；元素在元数据基础上进行取值配置；<strong>元数据</strong>是面向下游的实体，<strong>元素</strong>是面向展销的业务数据；</td>
<td></td>
</tr>
<tr>
<td>取值逻辑复杂</td>
<td>增加脚本配置，挺高取值规则设置的灵活性</td>
<td></td>
<td></td>
</tr>
<tr>
<td>交互事件变更</td>
<td>交互事件说明：某个元素可以进行的<strong>交互</strong>动作，后触发某个<strong>事件</strong>举例：促销标签增加点击交互，点击后会触发跳转凑单页事件</td>
<td>事件依赖数据如何获取</td>
<td>当某个元素增加事件时需增加设置事件所需参数的取值逻辑</td>
</tr>
</tbody></table>
<p><strong>总结</strong></p>
<p>1.定义展示结构，每种展示结构对应页面上的一种展示形式，包括数据和样式两部分信息，数据信息由研发设置，数据信息和样式信息都可以由产品设置，产品设置可以覆盖研发设置。每个元素对应一种展示结构</p>
<p>2.展示结构中不同字段定义样式类型让前端可以根据类型选择配置方式。</p>
<p>3.取值规则针对使用对象，支持可视化配置和脚本配置两种方式。</p>
<p><img src="/images/701.png" alt="图片10"></p>
<p><strong>内容组装</strong></p>
<p><img src="/images/702.png" alt="图片11"></p>
<p><img src="/images/703.png" alt="图片12"></p>
<p><strong>规则</strong></p>
<table>
<thead>
<tr>
<th>类型</th>
<th>特点</th>
<th>实现方案</th>
<th>灵活性</th>
<th>应用场景</th>
</tr>
</thead>
<tbody><tr>
<td>固定方法说明：系统固定规则方法举例：按优先级取值</td>
<td>规则较复杂，复用性高</td>
<td>通过定义规则子类，每种类型定义扩展参数，通过扩展参数调整具体规则</td>
<td>仅支持参数调整，灵活性差</td>
<td>内容取值规则配置，内容组件取值干预规则配置</td>
</tr>
<tr>
<td>可视化表达式规则配置说明：可以通过页面选择实现表达式规则配置举例：页面选择版本小于XXX且业态为XXX且渠道为XXX不下发数据</td>
<td>规则逻辑不复用，产品设置</td>
<td>1.将表达式脚本分为：运算符（Date.getDay() ），比较符，组合符；框（输入&#x2F;元素&#x2F;运算） 比价表达式选  框   +组合表达式选择 &gt;  || <code>[&#123; &quot;condition1&quot;:&#123; &quot;或&quot;:[ &#123;&quot;大于&quot;:[&quot;param1&quot;,&quot;param2&quot;]&#125;, &#123;&quot;小于&quot;:[&quot;param2&quot;,10]&#125;, &#123;&quot;且&quot;:[ &#123;&quot;大于&quot;:[&quot;param1&quot;,30]&#125;, &#123;&quot;小于&quot;:[&#123;&quot;加&quot;:[&quot;param2&quot;,&quot;param1&quot;]&#125;,10]&#125;, &#123;&quot;小于&quot;:[&#123;&quot;加&quot;:[&quot;param2&quot;,&quot;param1&quot;]&#125;,&#123;&quot;减&quot;:[&quot;param3&quot;,&quot;param4&quot;]&#125;]&#125; ]&#125; ] &#125;, &quot;result1&quot;:&quot;param1&quot;/30/&#123;&quot;加&quot;:[&quot;param2&quot;,&quot;param1&quot;]&#125; &#125;]</code>param1&gt;param2||param2&lt;102.将表达式设置对应的可视化映射文案。3.定义和前端的交互结构，将可视化配置结构转换为对应的脚本表达式进行执行即可</td>
<td>灵活性中等，只能使用在可视化映射已经实现的表达式才可以</td>
<td>暂无</td>
</tr>
<tr>
<td>脚本表达式规则配置说明：直接通过脚本实现数据获取举例：list.stream.map(item-&gt; item.getId);</td>
<td>规则逻辑不复用，取值规则复杂，研发设置</td>
<td>1.页面输入处理脚本即可</td>
<td>灵活性最好；任意一段java脚本都可以执行</td>
<td>1.元素取值规则配置2.模块配置处理过程中可以应用到脚本的配置</td>
</tr>
</tbody></table>
<p><strong>术语定义</strong></p>
<blockquote>
<p>c端实体</p>
</blockquote>
<p>页面：用于表示app上一个单独的页面，如首页。</p>
<p>模块：用于表示页面中不同位置区域，如瓷片区，金刚区，列表区；模块存在子模块，举例猜喜模块包括猜喜tab和下面的商卡列表两个子模块。</p>
<p>坑位：用于表示一个内容区域，如一个商品卡片，一个猜喜tab等。</p>
<p>内容：用于表示坑位上某个位置的一个展示信息，没有具体业务含义，具体数据由业务数据和取值规则决定；如副标题位置展示的信息。</p>
<p>位置：用来表示和前端商定的展示标识，在某个坑位上，当新增一个位置的时候需要前端能够识别，已有位置可通过调整组装规则就可以实现该位置内容的变更；如副标题位置</p>
<p>元素：用于表示展销的一个业务数据，对于产品来说比较基础可识别的数据，如：服务标签文案，基础标签文案；</p>
<p>元数据：用于下游原始业务数据，如：促销接口的促销标签字段。</p>
<blockquote>
<p>配置实体</p>
</blockquote>
<p>控件：用于定义流程中的各个阶段对应的配置项。是模板的组成单元。</p>
<p>模板：用于表示一类模块的配置方案。</p>
<p>模块：用于表示页面中不同位置区域。</p>
<p>模块配置：用于表示模块具体的配置信息。</p>
<p>策略：用于表示一个业务对应不同配置信息的差异因素；如ab实验，版本渠道等策略；</p>
<p>展示结构：用于表示c端一种展示形式。如单文本结构，kv文本结构等。</p>
<p>内容组件：用于表示一类坑位组装内容的方法。如商卡内容组件。</p>
<p>内容组件配置：用于表示具体一个内容集合组装的规则。如533版本商卡组装方式。</p>
<p>内容：用于表示坑位上某个位置的一个展示信息。</p>
<p>内容配置：用于表示页面展示信息的组装规则。如左上角位置信息组装方式。</p>
<p>元素：用于表示展销的一个业务数据。如商品售价</p>
<p>元素配置：用于表示展销业务数据的组装规则。如售价组装方式。</p>
<p>元数据：用于表示下游接口的一个字段。如商品原价字段。</p>
<p>元数据配置：用于表示下游原始数据的选取规则。如商品接口原价对应的接口及字段。</p>
<p><strong>模型&amp;分层定义</strong></p>
<p><img src="/images/704.png" alt="图片13"></p>
<p><strong>详细设计</strong></p>
<p>总体架构</p>
<p><img src="/images/705.png" alt="图片14"></p>
<p>系统间交互</p>
<p><img src="/images/706.png" alt="图片15"></p>
<p>标签系统接入方式及优缺点分析</p>
<table>
<thead>
<tr>
<th>接入方式</th>
<th>接入步骤</th>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody><tr>
<td>标签内容单独获取，其他内容通过配置系统配置获取</td>
<td>需要维护内容组件和标签场景的映射关系；涉及到使用标签的内容组件单独增加标签内容获取逻辑，通过标签接口获取标签内容；</td>
<td>1.标签配置还可以在标签配置系统中维护，不需要维护两套2.影响面小只影响一个模块，涉及到的端上工作量小</td>
<td>1.需要维护内容组件和标签的场景映射关系；这个映射关系维护可能会越来越复杂；2.标签内容无法和其他内容配置联动；3.后期接入迁移，配置系统需要将标签配置系统能力做迁移才能支持4.只有接入的模块支持除标签外的其他字段配置</td>
</tr>
<tr>
<td>接入一个模块将这一个模块的标签配置通过配置系统进行维护</td>
<td>与其他内容配置相同，没有单独处理逻辑给该模块配置对应的商卡内容组件</td>
<td>1.没有特殊逻辑处理2.不需要做场景映射3.标签配置能力可以同步迭代4.影响面小只影响一个模块，涉及到的端上工作量小</td>
<td>1.标签配置能力迭代需要维护两份2.如果标签配置需要调整芥末端页面，需要调整两个平台，前端工作量会有增加3.无法实现所有模块内容配置化，只有接入配置平台的模块才支持</td>
</tr>
<tr>
<td>将所有模块商卡内容组件标签配置通过配置系统进行维护</td>
<td>与其他内容配置相同，没有单独处理逻辑配置所有商卡内容组件增加内容组件处理接口，capi和列表服务中通过调用内容组件接口获取内容信息</td>
<td>1.可以支持页面所有模块商卡内容的配置化2.不涉及多个配置平台迭代维护的问题</td>
<td>1.涉及到所有商品列表模块逻辑调整，前后端工作量大2.所有商卡模块内容组件都要调整，风险大</td>
</tr>
</tbody></table>
<p><strong>模块</strong></p>
<p>7.1.1 M端</p>
<p>7.1.1.1 控件</p>
<p>控件结构</p>
<pre><code class="json">&#123;
  &quot;type&quot;:&quot;TextBasicAbility&quot;,
  &quot;name&quot;:&quot;文本控件&quot;,
  &quot;limit&quot;:[
    &#123;
      &quot;name&quot;:&quot;文本长度&quot;,
      &quot;code&quot;:&quot;size&quot;,
      &quot;type&quot;:0 //0-数字，1-文本，2-boolean
    &#125;,
    &#123;
      &quot;name&quot;:&quot;是否必填&quot;,
      &quot;code&quot;:&quot;must&quot;,
      &quot;type&quot;:2 //0-数字，1-文本，2-boolean
    &#125;
  ]
&#125;
&#123;
  &quot;type&quot;:&quot;ContentAbility&quot;,
  &quot;name&quot;:&quot;内容组件控件&quot;,
  &quot;limit&quot;:[
    &#123;
      &quot;name&quot;:&quot;是否必填&quot;,
      &quot;code&quot;:&quot;must&quot;,
      &quot;type&quot;:2 //0-数字，1-文本，2-boolean
    &#125;
  ],
  &quot;param&quot;:[&#123;
      &quot;name&quot;:&quot;内容id&quot;,
      &quot;code&quot;:&quot;contentId&quot;,
      &quot;type&quot;:3 //0-数字，1-文本，2-boolean,3-请求下拉列表
    &#125;
  ]
&#125;

&#123;
  &quot;type&quot;:&quot;InsertCardAbility&quot;,
  &quot;name&quot;:&quot;插入卡片控件&quot;,
  &quot;limit&quot;:[
    &#123;
      &quot;name&quot;:&quot;是否必填&quot;,
      &quot;code&quot;:&quot;must&quot;,
      &quot;type&quot;:2 //0-数字，1-文本，2-boolean
    &#125;
  ],
  &quot;options&quot;:[&#123;
     &quot;name&quot;:&quot;插入banner卡片&quot;,
     &quot;code&quot;:&quot;InsertBannerCardAbility&quot;,
     &quot;param&quot;:[&#123;
        &quot;name&quot;:&quot;bannerId列表&quot;,
        &quot;code&quot;:&quot;bannerIdList&quot;,
        &quot;type&quot;:1 //0-数字，1-文本，2-boolean,3-请求下拉列表
             &#125;,&#123;
        &quot;name&quot;:&quot;开始位置&quot;,
        &quot;code&quot;:&quot;startIndex&quot;,
        &quot;type&quot;:0 //0-数字，1-文本，2-boolean,3-请求下拉列表
             &#125;,&#123;
        &quot;name&quot;:&quot;间隔位置&quot;,
        &quot;code&quot;:&quot;intervalIndex&quot;,
        &quot;type&quot;:0 //0-数字，1-文本，2-boolean,3-请求下拉列表
             &#125;
      ]
  &#125;,&#123;
     &quot;name&quot;:&quot;插入常买卡片&quot;,
     &quot;code&quot;:&quot;InsertOftenBuyCardAbility&quot;,
     &quot;param&quot;:[&#123;
        &quot;name&quot;:&quot;开始位置&quot;,
        &quot;code&quot;:&quot;startIndex&quot;,
        &quot;type&quot;:0 //0-数字，1-文本，2-boolean,3-请求下拉列表
             &#125;,&#123;
        &quot;name&quot;:&quot;间隔位置&quot;,
        &quot;code&quot;:&quot;intervalIndex&quot;,
        &quot;type&quot;:0 //0-数字，1-文本，2-boolean,3-请求下拉列表
             &#125;
      ]
  &#125;
  ]
 
&#125;
</code></pre>
<p>控件需要输入的基础信息需要输入：</p>
<table>
<thead>
<tr>
<th>信息</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>字段</td>
<td>对应系统通过什么字段进行获取，基础控件直接转换成对应的map结构</td>
</tr>
<tr>
<td>标签</td>
<td>对应配置页面展示的配置项名称 如tab标题</td>
</tr>
</tbody></table>
<p>控件的其他信息</p>
<p><strong>模板</strong></p>
<p>属性：</p>
<table>
<thead>
<tr>
<th>属性字段</th>
<th>解释</th>
<th>作用</th>
<th>是否必填</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>templateId</td>
<td>模板唯一标识</td>
<td>自动生成</td>
<td><strong>是</strong>，不可修改</td>
<td>1</td>
</tr>
<tr>
<td>name</td>
<td>模板名称</td>
<td>管理端名称</td>
<td><strong>是</strong>，可修改</td>
<td>卡片列表模板</td>
</tr>
<tr>
<td>content</td>
<td>模板内容</td>
<td>使用json格式存储，前端页面解析使用；用于存储控件及控件信息</td>
<td><strong>是</strong>，可修改</td>
<td><code>&#123; &quot;configInfo&quot;:[ &#123; &quot;type&quot;:&quot;文本控件&quot;, &quot;basicInfo&quot;:&#123; &quot;name&quot;:&quot;tab名称&quot;, &quot;code&quot;:&quot;tabName&quot; &#125;, &quot;limitedInfo&quot;:&#123; &quot;size&quot;:10, &quot;must&quot;:true &#125; &#125; ], &quot;paramInfo&quot;:[ &#123; &quot;paramCode&quot;:&quot;poiId&quot;, &quot;paramSource&quot;:&quot;header/request/body&quot;, &quot;paramSourceCode&quot;:&quot;ci&quot;, &quot;paramTargetCode&quot;:&quot;cityId&quot; &#125; ] &#125;</code></td>
</tr>
<tr>
<td>ctime</td>
<td>创建时间</td>
<td>模板的创建时间</td>
<td><strong>是</strong>，不可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>utime</td>
<td>更新时间</td>
<td>模板的最后修改时间</td>
<td><strong>是</strong>，可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>operator</td>
<td>创建人&#x2F;修改人</td>
<td>模板的操作人</td>
<td><strong>是</strong>，可修改</td>
<td>wangrui37</td>
</tr>
</tbody></table>
<p>功能：</p>
<table>
<thead>
<tr>
<th>功能</th>
<th>作用</th>
<th>功能细节</th>
<th>接口</th>
</tr>
</thead>
<tbody><tr>
<td>检索</td>
<td>用于筛选模板列表</td>
<td>可筛选规则模板ID名称</td>
<td></td>
</tr>
<tr>
<td>新建</td>
<td>新增一个模板</td>
<td>新增模板绑定子模板</td>
<td></td>
</tr>
<tr>
<td>编辑</td>
<td>编辑一个已有模板</td>
<td>修改模板内容修改绑定子模板</td>
<td></td>
</tr>
<tr>
<td>查看</td>
<td>查看某个已存在的模板</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>7.1.1.2 模块</p>
<table>
<thead>
<tr>
<th>属性字段</th>
<th>解释</th>
<th>作用</th>
<th>是否必填</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>模块id</td>
<td>自动生成</td>
<td><strong>是</strong>，不可修改</td>
<td>1</td>
</tr>
<tr>
<td>name</td>
<td>名称</td>
<td>管理名称</td>
<td><strong>是</strong>，可修改</td>
<td>猜喜商品卡片列表模块</td>
</tr>
<tr>
<td>templateId</td>
<td>模板id</td>
<td>关联的模板id</td>
<td>是，不可修改</td>
<td>1</td>
</tr>
<tr>
<td>status</td>
<td>状态</td>
<td>上下线</td>
<td>是，可修改</td>
<td>1-在线</td>
</tr>
<tr>
<td>ctime</td>
<td>创建时间</td>
<td>创建时间</td>
<td><strong>是</strong>，不可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>utime</td>
<td>更新时间</td>
<td>最后修改时间</td>
<td><strong>是</strong>，可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>operator</td>
<td>创建人&#x2F;修改人</td>
<td>操作人</td>
<td><strong>是</strong>，可修改</td>
<td>wangrui37</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>属性字段</th>
<th>解释</th>
<th>作用</th>
<th>是否必填</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>配置id</td>
<td>自动生成</td>
<td><strong>是</strong>，不可修改</td>
<td>1</td>
</tr>
<tr>
<td>rule</td>
<td>策略规则</td>
<td>json，字段包含：ab实验，版本号，渠道，城市等</td>
<td>是，可修改</td>
<td>{startVersion:1,endVersion:100,abTest:”a”}</td>
</tr>
<tr>
<td>name</td>
<td>配置名称</td>
<td>管理名称，建议将配置差异体现在名称上</td>
<td><strong>是</strong>，可修改</td>
<td>猜喜商品卡片列表模块V535配置</td>
</tr>
<tr>
<td>configInfo</td>
<td>配置信息</td>
<td>json，用于存储配置信息，在执行过程中根据配置信息实现业务差异化</td>
<td>是，可修改</td>
<td>1</td>
</tr>
<tr>
<td>ctime</td>
<td>创建时间</td>
<td>创建时间</td>
<td><strong>是</strong>，不可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>utime</td>
<td>更新时间</td>
<td>最后修改时间</td>
<td><strong>是</strong>，可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>operator</td>
<td>创建人&#x2F;修改人</td>
<td>操作人</td>
<td><strong>是</strong>，可修改</td>
<td>wangrui37</td>
</tr>
</tbody></table>
<p>功能：</p>
<table>
<thead>
<tr>
<th>功能</th>
<th>作用</th>
<th>功能细节</th>
<th>接口</th>
</tr>
</thead>
<tbody><tr>
<td>检索</td>
<td>用于筛选模块列表</td>
<td>可筛选规则模块ID模板ID名称</td>
<td></td>
</tr>
<tr>
<td>新建</td>
<td>新增一个模块</td>
<td>新增模块模块绑定模板</td>
<td></td>
</tr>
<tr>
<td>模块新建策略</td>
<td></td>
<td>新建策略配置新建模块配置</td>
<td></td>
</tr>
<tr>
<td>模块编辑策略</td>
<td></td>
<td>编辑策略配置编辑模块配置</td>
<td></td>
</tr>
<tr>
<td>模块查看策略</td>
<td></td>
<td>查看策略配置查看模块配置</td>
<td></td>
</tr>
</tbody></table>
<p>7.1.2 c端流程</p>
<p><img src="/images/707.png" alt="图片16"></p>
<p><strong>配置系统SDK</strong></p>
<p><strong>1.配置缓存</strong></p>
<p><img src="/images/708.png" alt="图片17"></p>
<p>策略解析:</p>
<p><img src="/images/709.png" alt="图片18"></p>
<p>配置缓存结构</p>
<pre><code class="json">
代码块
JSON
key:&quot;模块id&quot;
value:&#123;&quot;template&quot;:&#123;&quot;templateId&quot;:&quot;id&quot;,&quot;service&quot;:&quot;com.sankuai.mall.exhibition.af.list.thriftimpl.SkuListTServiceImpl&quot;,&quot;method&quot;:&quot;getSkuListVO&quot;&#125;,&quot;strategyConfig&quot;:[&#123;&quot;rule&quot;:&quot;ab,渠道。。。&quot;,&quot;configInfo&quot;:&#123;&quot;moduleId&quot;:1,&quot;moduleCode&quot;:&quot;GuessLike&quot;,&quot;moduleName&quot;:&quot;首页猜喜模块&quot;,&quot;stageList&quot;:[&#123;&quot;name&quot;:&quot;staticContent&quot;,&quot;type&quot;:&quot;subModule&quot;,&quot;rule&quot;:&#123;&quot;moduleId&quot;:2&#125;&#125;,&#123;&quot;name&quot;:&quot;InsertCard&quot;,&quot;type&quot;:&quot;ability&quot;,&quot;subTaskList&quot;:[&#123;&quot;name&quot;:&quot;InsertBannerCard&quot;,&quot;type&quot;:&quot;step&quot;&#125;,&#123;&quot;name&quot;:&quot;InsertOftenBuyCard&quot;,&quot;type&quot;:&quot;step&quot;&#125;]&#125;,&#123;&quot;name&quot;:&quot;dynamicContent&quot;,&quot;type&quot;:&quot;contentAbility&quot;,&quot;rule&quot;:&#123;&quot;contentId&quot;:2&#125;&#125;,&#123;&quot;name&quot;:&quot;staticTextContent&quot;,&quot;type&quot;:&quot;basicAbility&quot;,&quot;rule&quot;:&#123;&quot;value&quot;:111,&quot;textSize&quot;:1,&quot;textColor&quot;:&quot;#FFFF&quot;&#125;&#125;]&#125;&#125;,&#123;&quot;rule&quot;:&quot;ab2,渠道。。。&quot;,&quot;configInfo&quot;:&#123;&quot;moduleId&quot;:1,&quot;moduleCode&quot;:&quot;GuessLike&quot;,&quot;moduleName&quot;:&quot;首页猜喜模块&quot;,&quot;stageList&quot;:[&#123;&quot;name&quot;:&quot;staticContent&quot;,&quot;type&quot;:&quot;subModule&quot;,&quot;rule&quot;:&#123;&quot;moduleId&quot;:2&#125;&#125;,&#123;&quot;name&quot;:&quot;InsertCard&quot;,&quot;type&quot;:&quot;ability&quot;,&quot;subTaskList&quot;:[&#123;&quot;name&quot;:&quot;InsertBannerCard&quot;,&quot;type&quot;:&quot;step&quot;&#125;,&#123;&quot;name&quot;:&quot;InsertOftenBuyCard&quot;,&quot;type&quot;:&quot;step&quot;&#125;]&#125;,&#123;&quot;name&quot;:&quot;dynamicContent&quot;,&quot;type&quot;:&quot;contentAbility&quot;,&quot;rule&quot;:&#123;&quot;contentId&quot;:2&#125;&#125;,&#123;&quot;name&quot;:&quot;staticTextContent&quot;,&quot;type&quot;:&quot;basicAbility&quot;,&quot;rule&quot;:&#123;&quot;value&quot;:111,&quot;textSize&quot;:1,&quot;textColor&quot;:&quot;#FFFF&quot;&#125;&#125;]&#125;&#125;]&#125;
</code></pre>
<p><strong>流程编排执行引擎SDK</strong></p>
<p>流程</p>
<p><img src="/images/710.png" alt="图片19"></p>
<p>结构</p>
<p><img src="/images/711.png" alt="图片20"></p>
<p>扩展</p>
<table>
<thead>
<tr>
<th>扩展方式</th>
<th>举例</th>
<th>实现方法</th>
</tr>
</thead>
<tbody><tr>
<td>业务系统定义自身需要的控件</td>
<td>某个业务想增加一个只有自己业务才会设计的执行阶段</td>
<td>定义对应控件Executor并实现该Executor</td>
</tr>
<tr>
<td>公共控件增加可选项</td>
<td>数据召回控件某个业务需要扩展自己的召回方法</td>
<td>继承DataRecallExecutor定义自己的执行步骤能力</td>
</tr>
</tbody></table>
<p>7.2 内容</p>
<p>7.2.1 内容接口</p>
<p>接入入参：所有输入参数+公共参数+内容组件id</p>
<p>接口输出：</p>
<pre><code class="json">&#123;
    &quot;elementTemplateType&quot;:&quot;skuCardList&quot;,
    &quot;content&quot;:[
        &#123;
            &quot;showContent&quot;:&#123;
                &quot;location1&quot;:&#123;
                    &quot;elementList&quot;:[
                        &#123;
                            &quot;elementId&quot;:1,
                            &quot;contentType&quot;:&quot;text&quot;,
                            &quot;data&quot;:&#123;
                                &quot;text&quot;:&quot;服务标签文案&quot;
                            &#125;,
                            &quot;alterEvents&quot;:[
                                &#123;
                                    &quot;alterType&quot;:&quot;alter&quot;,
                                    &quot;events&quot;:[
                                        &#123;
                                            &quot;eventType&quot;:&quot;jump&quot;,
                                            &quot;eventParam&quot;:&#123;
                                                &quot;param1&quot;:1
                                            &#125;
                                        &#125;
                                    ]
                                &#125;
                            ]
                        &#125;
                    ]
                &#125;,
                &quot;location2&quot;:&#123;
                    &quot;elementList&quot;:[
                        &#123;
                            &quot;elementId&quot;:3,
                            &quot;contentType&quot;:&quot;kvText&quot;,
                            &quot;data&quot;:&#123;
                                &quot;keyText&quot;:&quot;折&quot;,
                                &quot;text&quot;:&quot;2件5折&quot;
                            &#125;
                        &#125;
                    ]
                &#125;,
                &quot;location3&quot;:&#123;
                    &quot;elementList&quot;:[
                        &#123;
                            &quot;elementId&quot;:2,
                            &quot;contentType&quot;:&quot;corssGroup&quot;,
                            &quot;data&quot;:[
                                &#123;
                                    &quot;contentType&quot;:&quot;image&quot;,
                                    &quot;url&quot;:&quot;url&quot;
                                &#125;,
                                &#123;
                                    &quot;contentType&quot;:&quot;text&quot;,
                                    &quot;text&quot;:&quot;商品标题&quot;
                                &#125;
                            ]
                        &#125;
                    ]
                &#125;,
                &quot;location4&quot;:&#123;
                    &quot;elementList&quot;:[
                        &#123;
                            &quot;elementId&quot;:1,
                            &quot;contentType&quot;:&quot;text&quot;,
                            &quot;text&quot;:&quot;服务标签文案&quot;
                        &#125;,
                        &#123;
                            &quot;elementId&quot;:1,
                            &quot;contentType&quot;:&quot;image&quot;,
                            &quot;text&quot;:&quot;商品名称&quot;
                        &#125;
                    ]
                &#125;
            &#125;,
            &quot;logicContent&quot;:&#123;
                &quot;skuId&quot;:1,
                &quot;status&quot;:2
            &#125;
        &#125;
    ],
    &quot;style&quot;:&#123;
        &quot;elementStyle&quot;:&#123;
            &quot;1&quot;:&#123;
                &quot;eStyle&quot;:&#123;
                    &quot;textSize&quot;:10,
                    &quot;textColor&quot;:&quot;#FFFFFF&quot;
                &#125;
            &#125;,
            &quot;2&quot;:&#123;
                &quot;eStyle&quot;:&#123;

                &#125;,
                &quot;contentStyle&quot;:&#123;
                    &quot;1&quot;:&#123;
                        &quot;textSize&quot;:10,
                        &quot;textColor&quot;:&quot;#FFFFFF&quot;
                    &#125;,
                    &quot;2&quot;:&#123;
                        &quot;textSize&quot;:10,
                        &quot;textColor&quot;:&quot;#FFFFFF&quot;
                    &#125;
                &#125;
            &#125;
        &#125;,
        &quot;appendStyle&quot;:&#123;
            &quot;location1&quot;:&#123;
                &quot;type&quot;:&quot;&quot;,
                &quot;configInfo&quot;:&#123;
                    &quot;width&quot;:10
                &#125;
            &#125;
        &#125;,
        &quot;locationStyle&quot;:&#123;
            &quot;location1&quot;:&#123;
                &quot;location&quot;:&#123;&#125;,
                &quot;&quot;:&#123;
                  &quot;1&quot;:&quot;右对齐&quot;
                &#125;
                
            &#125;
        &#125;
    &#125;
&#125;
</code></pre>
<p><strong>M端</strong></p>
<p>7.2.2.1 元数据</p>
<p>元数据属性</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>元数据code</td>
<td>元数据key，用于在上下文中获取元数据的key</td>
</tr>
<tr>
<td>依赖接口</td>
<td>id</td>
</tr>
<tr>
<td>依赖接口id</td>
<td>依赖的某个接口id</td>
</tr>
<tr>
<td>获取类型</td>
<td>是否是批量获取</td>
</tr>
<tr>
<td>批量获取key</td>
<td>入参中的某个list参数（通过这个将接口获取结果转换为map类型）</td>
</tr>
<tr>
<td>结果处理脚本</td>
<td>如果用海盗就是jsonpath或freemarker脚本如果是自己通过泛化调用需要配置结果映射和处理groovy脚本</td>
</tr>
</tbody></table>
<p>服务属性</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>主键</td>
</tr>
<tr>
<td>别名</td>
<td>接口结果别名</td>
</tr>
<tr>
<td>接口</td>
<td>appkey,service,method</td>
</tr>
<tr>
<td>超时时间</td>
<td>接口调用超时时间</td>
</tr>
<tr>
<td>入参</td>
<td>入参列表，类型，及映射规则按照海盗的配置方式配置</td>
</tr>
</tbody></table>
<p>功能：</p>
<table>
<thead>
<tr>
<th>功能</th>
<th>作用</th>
<th>功能细节</th>
<th>接口</th>
</tr>
</thead>
<tbody><tr>
<td>检索</td>
<td>用于筛选元数据列表</td>
<td>可筛选规则元数据id元数据code接口id</td>
<td></td>
</tr>
<tr>
<td>新建元数据</td>
<td>新增一个元数据</td>
<td>新增元数据配置信息新增或选择依赖接口</td>
<td></td>
</tr>
<tr>
<td>编辑元数据</td>
<td></td>
<td>修改元数据配置信息新增或选择依赖接口</td>
<td></td>
</tr>
<tr>
<td>查看元数据</td>
<td></td>
<td>查看元数据配置信息</td>
<td></td>
</tr>
</tbody></table>
<p>元素</p>
<table>
<thead>
<tr>
<th>属性字段</th>
<th>解释</th>
<th>作用</th>
<th>是否必填</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>元素id</td>
<td>自动生成</td>
<td><strong>是</strong>，不可修改</td>
<td>1</td>
</tr>
<tr>
<td>name</td>
<td>元素名称</td>
<td>管理名称，用于管理平台查看和使用</td>
<td><strong>是</strong>，可修改</td>
<td>副标题</td>
</tr>
<tr>
<td>code</td>
<td>元素code</td>
<td>用于代码中使用</td>
<td>是，不可修改</td>
<td>subTitle</td>
</tr>
<tr>
<td>rule</td>
<td>策略规则</td>
<td>json，字段包含：ab实验，版本号，渠道，城市等</td>
<td>是，可修改</td>
<td>{startVersion:1,endVersion:100,abTest:”a”}</td>
</tr>
<tr>
<td>type</td>
<td>元素类型</td>
<td>将元素进行分组 促销标签元素</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ModelTypeId</td>
<td>数据类型id</td>
<td>元素类型 0-Integer，1-StyleText</td>
<td>是，不可修改</td>
<td>1</td>
</tr>
<tr>
<td>filterConfigInfo</td>
<td>元素过滤配置信息</td>
<td>String，用于配置元素不展示脚本，根据该脚本过滤元素</td>
<td>是，可修改</td>
<td></td>
</tr>
<tr>
<td>assignConfigInfo</td>
<td>赋值配置信息</td>
<td>String，用于配置赋值脚本，赋值脚本组装元素数据字段</td>
<td>是，可修改</td>
<td></td>
</tr>
<tr>
<td>styleConfigInfo</td>
<td>样式信息</td>
<td>json，用于配置样式字段</td>
<td>是，可修改</td>
<td><code>&#123; &quot;eStyle&quot;:&#123; &quot;textColor&quot;:, &quot;textSize&quot;: &#125;, &quot;contentStyle&quot;:&#123; &quot;1&quot;:&#123; &quot;textColor&quot;:, &quot;textSize&quot;: &#125;, &quot;2&quot;&#123; &quot;width&quot;:, &quot;height&quot;: &#125; &#125;&#125;</code></td>
</tr>
<tr>
<td>alterEvents</td>
<td>交互事件配置信息</td>
<td>json</td>
<td></td>
<td><code>&quot;alterEvents&quot;:[ &#123; &quot;alterType&quot;:&quot;alter&quot;, &quot;events&quot;:[ &#123; &quot;eventType&quot;:&quot;jump&quot;, &quot;eventParam&quot;:&#123; &quot;param1&quot;:&quot;取值脚本&quot; &#125; &#125; ] &#125; ]</code></td>
</tr>
<tr>
<td>ctime</td>
<td>创建时间</td>
<td>创建时间</td>
<td><strong>是</strong>，不可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>utime</td>
<td>更新时间</td>
<td>最后修改时间</td>
<td><strong>是</strong>，可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>operator</td>
<td>创建人&#x2F;修改人</td>
<td>操作人</td>
<td><strong>是</strong>，可修改</td>
<td>wangrui37</td>
</tr>
</tbody></table>
<p>数据类型属性</p>
<table>
<thead>
<tr>
<th>属性字段</th>
<th>解释</th>
<th>作用</th>
<th>是否必填</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>数据类型id</td>
<td>自动生成</td>
<td><strong>是</strong>，不可修改</td>
<td>1</td>
</tr>
<tr>
<td>name</td>
<td>类型名称</td>
<td>管理名称，用于管理平台查看和使用</td>
<td><strong>是</strong>，可修改</td>
<td>文案</td>
</tr>
<tr>
<td>type</td>
<td>类型code</td>
<td>类型名称，用于系统交互</td>
<td><strong>是</strong>，不可修改</td>
<td>Text</td>
</tr>
<tr>
<td>isGroup</td>
<td>是否是组合类型</td>
<td>用于表示该类型是否组合类型</td>
<td>是，不可修改</td>
<td>0-是，1-否</td>
</tr>
<tr>
<td>groupTypeIds</td>
<td>组合子类型</td>
<td>json，用于表示组合类型是由什么类型组合而成的</td>
<td><strong>是</strong>，不可修改</td>
<td>[1,2,3]</td>
</tr>
<tr>
<td>valueFields</td>
<td>类型赋值字段配置</td>
<td>json,该类型需要赋值的字段，组合类型该值为空</td>
<td>是，不可修改</td>
<td><code>[&#123;&quot;name&quot;:&quot;文案&quot;,&quot;code&quot;:&quot;text&quot;,&quot;type&quot;:1&#125;]</code></td>
</tr>
<tr>
<td>styleFields</td>
<td>类型样式字段配置</td>
<td>json，该类型需要赋值的字段，组合类型该值为空</td>
<td>是，不可修改</td>
<td><code>[&#123;&quot;name&quot;:&quot;文案大小&quot;,&quot;code&quot;:&quot;textSize&quot;,&quot;type&quot;:1&#125;,&#123;&quot;name&quot;:&quot;文案颜色&quot;,&quot;code&quot;:&quot;textColor&quot;,&quot;type&quot;:2&#125;]</code></td>
</tr>
<tr>
<td>ctime</td>
<td>创建时间</td>
<td>创建时间</td>
<td><strong>是</strong>，不可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>utime</td>
<td>更新时间</td>
<td>最后修改时间</td>
<td><strong>是</strong>，可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>operator</td>
<td>创建人&#x2F;修改人</td>
<td>操作人</td>
<td><strong>是</strong>，可修改</td>
<td>wangrui37</td>
</tr>
</tbody></table>
<p>功能：</p>
<table>
<thead>
<tr>
<th>功能</th>
<th>作用</th>
<th>功能细节</th>
<th>接口</th>
</tr>
</thead>
<tbody><tr>
<td>检索</td>
<td>用于筛选元素列表</td>
<td>可筛选规则元素id元素code</td>
<td></td>
</tr>
<tr>
<td>新建元素</td>
<td>新增一个元素</td>
<td>新增元素取值配置信息新增元素样式配置信息新增元素交互事件</td>
<td></td>
</tr>
<tr>
<td>编辑元素</td>
<td></td>
<td>编辑元素取值配置信息编辑元素样式配置信息编辑元素交互事件</td>
<td></td>
</tr>
<tr>
<td>查看元素</td>
<td></td>
<td>查看元素取值配置信息查看元素样式配置信息查看元素交互事件</td>
<td></td>
</tr>
</tbody></table>
<p>内容组件</p>
<p>内容组件属性</p>
<table>
<thead>
<tr>
<th>属性字段</th>
<th>解释</th>
<th>作用</th>
<th>是否必填</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>内容组件id</td>
<td>自动生成</td>
<td><strong>是</strong>，不可修改</td>
<td>1</td>
</tr>
<tr>
<td>name</td>
<td>类型名称</td>
<td>管理名称，用于管理平台查看和使用</td>
<td><strong>是</strong>，可修改</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>内容组件类型</td>
<td>商卡内容组件，不同类型对应不同的逻辑内容加工</td>
<td><strong>是</strong>，不可修改</td>
<td></td>
</tr>
<tr>
<td>contentList</td>
<td>内容id</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>contentConfigInfo</td>
<td>内容规则</td>
<td>json</td>
<td></td>
<td><code>[ &#123; &quot;ruleType&quot;:, &quot;ruleParam&quot;: &#125; ]</code></td>
</tr>
<tr>
<td>ctime</td>
<td>创建时间</td>
<td>创建时间</td>
<td><strong>是</strong>，不可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>utime</td>
<td>更新时间</td>
<td>最后修改时间</td>
<td><strong>是</strong>，可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>operator</td>
<td>创建人&#x2F;修改人</td>
<td>操作人</td>
<td><strong>是</strong>，可修改</td>
<td>wangrui37</td>
</tr>
</tbody></table>
<p>内容属性</p>
<table>
<thead>
<tr>
<th>属性字段</th>
<th>解释</th>
<th>作用</th>
<th>是否必填</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>内容id</td>
<td>自动生成</td>
<td><strong>是</strong>，不可修改</td>
<td>1</td>
</tr>
<tr>
<td>locationId</td>
<td>位置id</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>elementIdList</td>
<td>依赖的元素id列表</td>
<td>json，用于获取所有依赖元素</td>
<td>是，可修改</td>
<td>[1,2,3]</td>
</tr>
<tr>
<td>configInfo</td>
<td>赋值配置信息</td>
<td>json，用于配置赋值规则，根据该规则组装元素信息</td>
<td>是，可修改</td>
<td><code>[ &#123; &quot;ruleType&quot;:, &quot;ruleParam&quot;: &#125; ]</code></td>
</tr>
<tr>
<td>ctime</td>
<td>创建时间</td>
<td>创建时间</td>
<td><strong>是</strong>，不可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>utime</td>
<td>更新时间</td>
<td>最后修改时间</td>
<td><strong>是</strong>，可修改</td>
<td>1542030543000</td>
</tr>
<tr>
<td>operator</td>
<td>创建人&#x2F;修改人</td>
<td>操作人</td>
<td><strong>是</strong>，可修改</td>
<td>wangrui37</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>功能</th>
<th>作用</th>
<th>功能细节</th>
<th>接口</th>
</tr>
</thead>
<tbody><tr>
<td>检索</td>
<td>用于筛选内容组件列表</td>
<td>可筛选规则内容组件id内容组件类型</td>
<td></td>
</tr>
<tr>
<td>新建内容组件</td>
<td>新增一个内容组件</td>
<td>新增内容组件策略新增内容组件处理规则新增&#x2F;编辑内容组件内容配置新增内容组件交互事件</td>
<td></td>
</tr>
<tr>
<td>编辑内容组件</td>
<td>编辑一个内容组件</td>
<td>新增内容组件策略修改内容组件处理规则新增&#x2F;编辑内容组件内容配置新增&#x2F;编辑内容组件交互事件</td>
<td></td>
</tr>
<tr>
<td>查看内容组件</td>
<td>查看一个内容组件</td>
<td>查看内容组件策略查看内容组件处理规则查看内容组件内容配置查看内容组件交互事件</td>
<td></td>
</tr>
</tbody></table>
<p><strong>C端</strong></p>
<p>7.2.3.1 元数据动态获取</p>
<p>GraphQL与服务动态编排</p>
<table>
<thead>
<tr>
<th>组件</th>
<th>说明</th>
<th>使用场景</th>
</tr>
</thead>
<tbody><tr>
<td>GraphQL</td>
<td>1.服务端定义好结构，数据源，请求处理器三部分提供数据服务2.客户端根据query定义需要获取的字段，按照结构请求服务端即可获取到多条有关联的数据例子假设如下场景，我们需要一个接口去获取用户的档案与地址，传统的RESTful接口会这么定义：点击展开内容因为REST API的核心是资源，而资源是被URLs以及不同请求类型（GET，POST）所标识的，所以为了获取档案和地址两个资源，我们需要发送两个请求。但如果我们换成GraphQL方案，整个请求会变成如下所示：点击展开内容可以看到，随着我们的“query”变化，返回的JSON也会随着变化。</td>
<td>在服务端定义好数据结构及结构间关系和处理逻辑的前提下，客户端按需取数的场景</td>
</tr>
<tr>
<td>服务动态编排</td>
<td>通过配置dsl编排服务调用的过程</td>
<td>动态添加数据源，服务调用之间有依赖关系</td>
</tr>
</tbody></table>
<p>元数据配置化场景：数据源需要动态添加，数据处理逻辑配置化，元数据是比较原子的一个下有接口字段，元素可绑定单独的元数据。所以最终通过服务动态编排的方式实现元数据的获取，服务动态编排要求：1.实现需要什么字段就获取什么字段，不返回多余数据。2.服务之间依赖关系逻辑可配置。</p>
<p>通过服务编排或直接通过泛化调用实现下游接口的动态添加：</p>
<table>
<thead>
<tr>
<th>组件</th>
<th>说明</th>
<th>使用方式</th>
<th>性能</th>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://km.sankuai.com/page/29176471">海盗</a><a target="_blank" rel="noopener" href="https://km.sankuai.com/page/32057460">海盗DSL 语法介绍</a><a target="_blank" rel="noopener" href="https://km.sankuai.com/page/189500350">海盗支持用户自定义freemarker函数使用说明</a></td>
<td>通过定制一套DSL，可以配置既有服务的服务编排，按照需求获取结果字段，并且可以对入参或结果字段做一些加工处理（通过jsonPath，freemarker并支持用户自定义freemarker函数进行取值处理）。可以通过dsl配置服务依赖和参数依赖thrift服务编排，底层是通过Mthrift泛化调用实现；不同多个服务调用之间是并行调用，有依赖关系的是串行调用thrift服务默认异步调用调用日志可以通过lion配置调整输出比例</td>
<td>引入SDK，即可在业务服务实现dsl解析服务编排及数据处理</td>
<td><a target="_blank" rel="noopener" href="https://km.sankuai.com/page/1283226290">2022.02.14海盗性能压测</a></td>
<td>1.使用方便，拿来即用，节省很多开发量2.扩展性强</td>
<td>1.带有服务编排的性能比直接泛化调用999线高30ms左右，性能稍差注：通过咨询海盗的同学说是因为调用日志导致耗时增加，可通过空值日志输出比例</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://km.sankuai.com/page/28376976">MTthrift 泛化调用使用说明</a><a target="_blank" rel="noopener" href="https://km.sankuai.com/page/1301770285#id-%E4%BB%80%E4%B9%88%E6%98%AF%E6%B3%9B%E5%8C%96%E8%B0%83%E7%94%A8">深入理解thrift-泛化调用客户端初始化解析</a></td>
<td>直接通过配置的appkey,method,参数等进行服务调用拿到接口调用json结果</td>
<td>服务编排，入参依赖及数据处理需要自行处理</td>
<td><a target="_blank" rel="noopener" href="https://km.sankuai.com/page/274479512">mtthrift 泛化调用性能测试</a></td>
<td>1.根据业务需要自行服务编排，性能较好2.功能原子化，业务可在功能基础上进行封装，灵活性好</td>
<td>1.实现业务需求需要开发内容较多，工作量大</td>
</tr>
</tbody></table>
<p>不同的组件对应的处理流程：</p>
<p><img src="/images/713.png" alt="图片21"></p>
<p>建议：直接通过海盗组件实现服务编排</p>
<p>2.海盗 </p>
<p>dsl生成：task部分 通过元数据依赖接口id获取所有服务根据服务配置生成；outputs部分，根据元数据配置生成</p>
<p>3.thrift泛化调用（感觉可以想到的解析方法和海盗差不多，没必要自己再实现一套） </p>
<p>入参处理</p>
<p>1.系统及接口入参在上下文中打平在同一层级中以kv形式存储；</p>
<p>2.接口入参，单值类型直接映射上下文参数key，对象类型如果在上下文中有对应的参数直接获取上下文key进行赋值，如果对象中不同字段对应不同参数，则对象的每个属性都需要单独映射；如果需求数据处理，则在映射中增加 groovy脚本；举例：</p>
<pre><code class="json"> &#123;
        &quot;helloWorld&quot;: &#123;
          &quot;name&quot;: &quot;#name&quot;,
          &quot;sex&quot;: &quot;#sex&quot;,
          &quot;languages&quot;: &quot;#languages&quot;
        &#125;,
        &quot;name&quot;: &quot;#name&quot;,
        &quot;helloWorld&quot;:&quot;#helloWorld&quot;
        &quot;helloWorldSize&quot;:&quot;@String.size(#helloWorld)&quot;
      &#125;
</code></pre>
<p><strong>结果处理</strong></p>
<p>1.如果为批量调用则根据参数key进行分组；</p>
<p>2.如果配置的是普通的结果映射直接通过jsonpath取值即可，如果需要加工处理的结果先通过jsonPath取值后再通过groovy脚本计算后得到结果；</p>
<p>7.2.3.2  整体流程</p>
<p><img src="/images/714.png" alt="图片22"></p>
<p>上下文</p>
<pre><code class="json">&#123;
&quot;metaInfo&quot;:&#123;
  &quot;common&quot;:&#123;
    &quot;metaCode&quot;:&quot;metaValue&quot;,
    &quot;metaCode2&quot;:&quot;metaValue2&quot;
  &#125;
  &quot;group&quot;:&#123;
    &quot;skuId&quot;:&#123;
       &quot;metaCode&quot;:&quot;metaValue&quot;,
       &quot;metaCode2&quot;:&quot;metaValue2&quot;
    &#125;,
    &quot;skuId2&quot;:&#123;
       &quot;metaCode&quot;:&quot;metaValue&quot;,
       &quot;metaCode2&quot;:&quot;metaValue2&quot;
    &#125;
  &#125;
&#125;
  &quot;elementInfo&quot;:&#123;
    &quot;metaCode&quot;:&quot;metaValue&quot;,
    &quot;metaCode2&quot;:&quot;metaValue2&quot;
  &#125;
  &quot;contentInfo&quot;&#123;
    //见上面 
  &#125;
  
&#125;
</code></pre>
<p>兜底配置</p>
<p>元素配置保存，内容组件配置保存时需校验是否有兜底配置，如果没有兜底配置不允许新建策略及配置信息。</p>
<p>7.2.3.3  缓存结构</p>
<p>组件缓存：</p>
<pre><code class="json">组件id:[
  &#123;
    &quot;strategyRule&quot;:&#123;&quot;版本&quot;:...&#125;
    &quot;metadataDsl&quot;:&quot;dsl脚本&quot;,
    &quot;interveneRule&quot;:[&#123;
          &quot;ruleType&quot;:,
          &quot;ruleParam&quot;:&#123;&#125;
      &#125;
     ],
     &quot;events&quot;:&#123;&#125;//交互时间配置
    &quot;contentList&quot;:[&#123;
      &quot;contentType&quot;:1,//内容类型 集合，各种基础类型
      &quot;elementCode&quot;:[1,2],//依赖的元素code列表
      &quot;logicRule&quot;:&#123;&#125;,
      &quot;assignRule&quot;:[&#123;
        //配置
      &#125;]
    &#125;]
  &#125;
]
</code></pre>
<p>元素缓存：</p>
<pre><code class="json">key:元素id
value:&#123;
  &quot;contentList&quot;:[&#123;
    &quot;contentType&quot;:1,//元素类型
    &quot;metadataCode&quot;:[1,2],//依赖的数据code列表
    &quot;filterRule&quot;:&quot;&quot;,
    &quot;assignRule&quot;:&quot;&quot;
  &#125;]
&#125;
</code></pre>
<p>7.2.3.4  代码结构</p>
<p><img src="/images/715.png" alt="图片23"></p>
<p><strong>规则引擎</strong></p>
<p>执行：不同的可选项对应不同的执行类；包括某些写死的固定逻辑；还有执行脚本；脚本执行就涉及到规则引擎和规则配置可视化；</p>
<p><img src="/images/716.png" alt="图片24"></p>
<blockquote>
<p>规则引擎选择</p>
</blockquote>
<p>规则引擎：Groovy、QLExpress、Aviator、Drools，最终选用Groovy，特性支持全面的脚本语言，跟java融合较好,可以引用java各种特性。</p>
<p>详细对比：</p>
<p>点击展开内容</p>
<table>
<thead>
<tr>
<th>引擎名称</th>
<th>类型</th>
<th><strong>优点</strong></th>
<th>缺点</th>
<th>使用案例</th>
</tr>
</thead>
<tbody><tr>
<td>Groovy<a target="_blank" rel="noopener" href="https://groovy-lang.org/">https://groovy-lang.org/</a></td>
<td>脚本引擎</td>
<td>特性支持全面的脚本语言，跟java融合较好,可以引用java各种特性。</td>
<td></td>
<td>公司内部rpc分流、zebra分库分表路由规则</td>
</tr>
<tr>
<td>QLExpress<a target="_blank" rel="noopener" href="https://github.com/alibaba/QLExpress">https://github.com/alibaba/QLExpress</a></td>
<td>脚本引擎</td>
<td>1、线程安全，引擎运算过程中的产生的临时变量都是threadlocal类型。2、高效执行，比较耗时的脚本编译过程可以缓存在本地机器，运行时的临时变量创建采用了缓冲池的技术，和groovy性能相当。3、弱类型脚本语言，和groovy，javascript语法类似，虽然比强类型脚本语言要慢一些，但是使业务的灵活度大大增强。4、安全控制,可以通过设置相关运行参数，预防死循环、高危系统api调用等情况。5、代码精简，依赖最小，250k的jar包适合所有java的运行环境，在android系统的低端pos机也得到广泛运用。</td>
<td>功能简单，对原始的java代码有一定的兼容性问题，一般需要把数据的类型声明全部去掉，同时不支持异常处理、for循环的集合写法 等</td>
<td>阿里内部</td>
</tr>
<tr>
<td>Aviator<a target="_blank" rel="noopener" href="https://github.com/killme2008/aviatorscript">https://github.com/killme2008/aviatorscript</a></td>
<td>表达式引擎（4.0）脚本引擎（5.0）</td>
<td>4.0之前是一个表达式引擎，不支持 if&#x2F;else 条件语句（仅有三元运算符支持 ?: ），没有内置的 for&#x2F;while 循环支持（虽然你可以用 seq 库类似函数式的方式来处理集合），也没有赋值（后来在 4.0 引入），没有作用域的概念（也在 4.0 引入 lambda 函数后部分实现）等等一般语言常见的能力。在 5.0 这个大版本（也就是本指南介绍的主要版本）将支持上述所有的能力，变成一门通用的脚本语言 AviatorScrip</td>
<td>表达式执行引擎，非规则引擎</td>
<td></td>
</tr>
<tr>
<td>Drools<a target="_blank" rel="noopener" href="https://www.drools.org/">https://www.drools.org/</a></td>
<td>脚本引擎</td>
<td>1.java 语言实现，基于Rate算法，Drools提供了一套功能完整的规则引擎2.规则部分抽离出来后，以规则脚本的形式存放在文件中，实现了规则和业务解耦，方便维护3.Rate算法执行效率较高4.规则支持热部署5.功能完善6.社区活跃</td>
<td>1.由于规则主体DSL是编程语言（支持java、groovy、python），因此仍然需要开发工程师维护2.规则较多时维护成本高3.规则非常适合扁平的规则，对于嵌套条件语义（then里嵌套when…then子句）的规则只能将条件进行笛卡尔积组合以后配置4.drools的底层实现就是解析drl规则文件，如果让业务独立使用配置业务规则，那么需要对业务的规则进行解析转换成对应的drl文件5.DSL学习成本高6. 过于重量级</td>
<td>风控</td>
</tr>
</tbody></table>
<blockquote>
<p>表达式可视化配置（无应用场景）</p>
</blockquote>
<p>规则引擎所负责的事情就是：判定某个数据或者对象是否满足某个条件，然后根据判定结果，执行不同的动作。</p>
<p>1.定义基础脚本和前端展示映射</p>
<p>由于可视化操作是为了更好让产品进行业务规则调整；业务操作只涉及一些基础的简单条件判断操作（大于小于等于不等于的或且组合）；所以可视化配置映射暂只需提供基础的一些操作，后期有需要可再进行扩展</p>
<table>
<thead>
<tr>
<th>脚本类型</th>
<th>脚本</th>
<th>前端展示</th>
</tr>
</thead>
<tbody><tr>
<td>数值运算</td>
<td>+,-,*,\</td>
<td>加，减，乘，除</td>
</tr>
<tr>
<td>日期运算</td>
<td>Date.getDayDiffBtwToday(date)</td>
<td>日期差值（单位天）</td>
</tr>
<tr>
<td>集合运算</td>
<td>list.get(indexNum)</td>
<td>获取集合中某个元素</td>
</tr>
<tr>
<td>比较</td>
<td>&gt;，&lt;,&#x3D;&#x3D;,!&#x3D;,&gt;&#x3D;,&lt;&#x3D;</td>
<td>大于，小于，等于，不等于,大于等于，小于等于</td>
</tr>
<tr>
<td>条件组合</td>
<td>||，&amp;&amp;</td>
<td>或，且</td>
</tr>
</tbody></table>
<p>2.脚本配置结构化解析</p>
<p>脚本类型包括：判断脚本，运算脚本，和条件组合脚本3类</p>
<pre><code class="json">页面解析json：
[&#123;
  &quot;condition1&quot;:&#123;
  &quot;或&quot;:[
    &#123;&quot;大于&quot;:[&quot;param1&quot;,&quot;param2&quot;]&#125;,
    &#123;&quot;小于&quot;:[&quot;param2&quot;,10]&#125;,
    &#123;&quot;且&quot;:[
      &#123;&quot;大于&quot;:[&quot;param1&quot;,30]&#125;,
      &#123;&quot;小于&quot;:[&#123;&quot;加&quot;:[&quot;param2&quot;,&quot;param1&quot;]&#125;,10]&#125;,
      &#123;&quot;小于&quot;:[&#123;&quot;加&quot;:[&quot;param2&quot;,&quot;param1&quot;]&#125;,&#123;&quot;减&quot;:[&quot;param3&quot;,&quot;param4&quot;]&#125;]&#125;
    ]&#125;
    ]
&#125;,
&quot;result1&quot;:&quot;param1&quot;/30/&#123;&quot;加&quot;:[&quot;param2&quot;,&quot;param1&quot;]&#125;
&#125;]


表达式 : param1&gt;param2||param2&lt;10
</code></pre>
<p><em><strong>if (condition1) return result1;</strong></em></p>
<p><em><strong>condition1</strong></em>为判断条件，返回值为boolean类型：判断条件包括很多判断脚本的条件组合；判断脚本的参数可以是某个单一参数也可以是参数通过运算脚本运算后的结果；</p>
<p><em><strong>result1</strong></em>为满足condition1后的结果：可以为某个参数，或者某个固定值，或者经过运算脚本运算后的结果；</p>
<p><em><strong>condition和result都可以为空</strong></em>：为空的赋值都为true；举例： 适用于无条件赋值if(true) return result;  适用于单纯条件判断if(condition) return true;</p>
<p>7.3.3 脚本准确性可执行性校验</p>
<p>页面增加脚本测试按钮，在配置完脚本后进行手动输入参数测试结果，来验证脚本的准确性；</p>
<p>7.4 配置灰度发布</p>
<p>7.4.1 配置灰度发布</p>
<p><strong>1.灰度规则</strong></p>
<p>支持poi和user维度，请求百分比维度灰度；</p>
<pre><code class="json">&#123;
  &quot;poiId&quot;:[],
  &quot;userId&quot;:[],
  &quot;ratio&quot;:1
&#125;
</code></pre>
<p>策略中增加poi，user，及请求百分比类型策略</p>
<p><strong>2.灰度方案</strong></p>
<p>在配置中增加灰度开关,灰度规则及灰度配置信息字段；</p>
<p>M端流程</p>
<p><img src="/images/717.png" alt="图片25"></p>
<p>c端流程</p>
<p>7.5 交互方式</p>
<p>7.5.1  单模块返回值结构</p>
<p>入参：commonrequest，模块所需参数</p>
<p>返回值：</p>
<pre><code class="json">&#123;
    &quot;moduleTemplateType&quot;:&quot;skuCardList&quot;,
    &quot;contents&quot;:[
        &#123;
            &quot;contentComponentType&quot;:&quot;skuCard&quot;,
            &quot;showContents&quot;:&#123;
                &quot;location1&quot;:&#123;
                    &quot;elementList&quot;:[
                        &#123;
                            &quot;elementId&quot;:1,
                            &quot;elementInfo&quot;:&#123;
                                &quot;constructionType&quot;:&quot;Image&quot;,
                                &quot;singleDataInfo&quot;:&#123;
                                    &quot;type&quot;:&quot;Image&quot;,
                                    &quot;image&quot;:&#123;
                                        &quot;url&quot;:&quot;文案&quot;,
                                        &quot;width&quot;:1,
                                        &quot;height&quot;:2
                                    &#125;
                                &#125;
                            &#125;,
                            &quot;interactionEvents&quot;:[
                                &#123;
                                    &quot;interactionType&quot;:&quot;alter&quot;,
                                    &quot;events&quot;:[
                                        &#123;
                                            &quot;eventType&quot;:&quot;jump&quot;,
                                            &quot;eventParams&quot;:&#123;
                                                &quot;param1&quot;:1
                                            &#125;
                                        &#125;
                                    ]
                                &#125;
                            ],
                            &quot;appendType&quot;:&quot;VerticalLine&quot;
                        &#125;
                    ]
                &#125;,
                &quot;location2&quot;:&#123;
                    &quot;elementList&quot;:[
                        &#123;
                            &quot;elementId&quot;:2,
                            &quot;elementInfo&quot;:&#123;
                                &quot;constructionType&quot;:&quot;Tag&quot;,
                                &quot;groupDataInfo&quot;:[
                                    &#123;
                                        &quot;constructionType&quot;:&quot;Text&quot;,
                                        &quot;singleDataInfo&quot;:&#123;
                                            &quot;type&quot;:&quot;Text&quot;,
                                            &quot;text&quot;:&quot;文案key&quot;
                                        &#125;
                                    &#125;,
                                    &#123;
                                        &quot;constructionType&quot;:&quot;Text&quot;,
                                        &quot;singleDataInfo&quot;:&#123;
                                            &quot;type&quot;:&quot;Text&quot;,
                                            &quot;text&quot;:&quot;文案value&quot;
                                        &#125;
                                    &#125;
                                ]
                            &#125;
                        &#125;
                    ]
                &#125;,
                &quot;logicContents&quot;:&#123;
                    &quot;skuId&quot;:1,
                    &quot;status&quot;:2
                &#125;
            &#125;
        &#125;
    ],
    &quot;style&quot;:&#123;
        &quot;skuCard&quot;:&#123;
            &quot;elementStyle&quot;:&#123;
                &quot;1&quot;:&#123;
                    &quot;overallStyle&quot;:&#123;
                        &quot;textSize&quot;:10,
                        &quot;textColor&quot;:&quot;#FFFFFF&quot;
                    &#125;,
                    &quot;overallExtraConfig&quot;:&#123;

                    &#125;,
                    &quot;contentStyle&quot;:[
                        &#123;
                            &quot;type&quot;:&quot;&quot;,
                            &quot;textSize&quot;:10,
                            &quot;textColor&quot;:&quot;#FFFFFF&quot;
                        &#125;,
                        &#123;
                            &quot;textSize&quot;:10,
                            &quot;textColor&quot;:&quot;#FFFFFF&quot;
                        &#125;
                    ],
                    &quot;contentExtraConfig&quot;:[

                    ]
                &#125;,
                &quot;2&quot;:&#123;
                    &quot;overallStyle&quot;:&#123;
                        &quot;textSize&quot;:10,
                        &quot;textColor&quot;:&quot;#FFFFFF&quot;
                    &#125;,
                    &quot;overallExtraConfig&quot;:&#123;

                    &#125;,
                    &quot;contentStyle&quot;:[
                        &#123;
                            &quot;type&quot;:&quot;&quot;,
                            &quot;textSize&quot;:10,
                            &quot;textColor&quot;:&quot;#FFFFFF&quot;
                        &#125;,
                        &#123;
                            &quot;textSize&quot;:10,
                            &quot;textColor&quot;:&quot;#FFFFFF&quot;
                        &#125;
                    ],
                    &quot;contentExtraConfig&quot;:[

                    ]
                &#125;
            &#125;,
            &quot;locationStyle&quot;:&#123;
                &quot;location1&quot;:&#123;
                    &quot;locationInfo&quot;:&#123;
                        &quot;name&quot;:&quot;&quot;,
                        &quot;wrapType&quot;:&quot;&quot;,
                        &quot;canFold&quot;:true,
                        &quot;textNeedIndent&quot;:true
                    &#125;,
                    &quot;locationElementStyle&quot;:&#123;
                        &quot;1&quot;:&quot;右对齐&quot;
                    &#125;
                &#125;
            &#125;
        &#125;
    &#125;
&#125;
</code></pre>
<p>7.5.2  父子模块返回值结构</p>
<p>入参：commonrequest，模块所需参数</p>
<p>返回值：</p>
<pre><code class="json">&#123;
    &quot;moduleTemplateType&quot;:&quot;tabSkuList&quot;,
    &quot;elements&quot;:[
        &#123;
            &quot;elementTemplateType&quot;:&quot;tab&quot;,
            &quot;data&quot;:&#123;

            &#125;,
            &quot;subModule&quot;:&#123;
                &quot;moduleTemplateType&quot;:&quot;skuList&quot;,
                &quot;elements&quot;:&#123;
                     &quot;elementTemplateType&quot;:&quot;skucard&quot;,
                     &quot;data&quot;:&#123;

                       &#125;,
                 &#125;,
                &quot;style&quot;:&#123;

                &#125;
            &#125;
        &#125;
    ],
    &quot;style&quot;:&#123;

            &#125;
&#125;
</code></pre>
<p>7.5.3 页面布局及模块</p>
<p>入参：commonrequest，模块所需参数</p>
<p>返回值：</p>
<p><strong>7.6 建表语句</strong></p>
<pre><code class="sql">CREATE TABLE `ab_test` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `name` varchar(50) NOT NULL COMMENT &#39;ab实验名称&#39;,
  `ab_key` varchar(50) NOT NULL COMMENT &#39;ab实验key&#39;,
  `lay_id` int(20) NOT NULL COMMENT &#39;ab实验层id&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  `strategy_list` json DEFAULT NULL COMMENT &#39;ab策略列表&#39;,
  `out_strategy` varchar(10) NOT NULL COMMENT &#39;兜底策略&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COMMENT=&#39;ab实验表&#39;;

CREATE TABLE `content_component` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `code` varchar(50) NOT NULL COMMENT &#39;内容组件code&#39;,
  `name` varchar(50) NOT NULL COMMENT &#39;内容组件名称&#39;,
  `content_component_type_id` bigint(20) NOT NULL COMMENT &#39;内容组件类型&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COMMENT=&#39;内容组件表&#39;;

CREATE TABLE `content_component_config` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `content_component_id` bigint(20) NOT NULL COMMENT &#39;内容组件id&#39;,
  `strategy` json DEFAULT NULL COMMENT &#39;策略规则&#39;,
  `content` json DEFAULT NULL COMMENT &#39;内容列表&#39;,
  `content_rule` json DEFAULT NULL COMMENT &#39;内容间规则&#39;,
  `content_gray` json DEFAULT NULL COMMENT &#39;内容列表-灰度&#39;,
  `content_rule_gray` json DEFAULT NULL COMMENT &#39;内容间规则-灰度&#39;,
  `is_gray` int(2) NOT NULL DEFAULT &#39;1&#39; COMMENT &#39;灰度开关 0-开，1-关&#39;,
  `gray_rule` json DEFAULT NULL COMMENT &#39;灰度规则&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COMMENT=&#39;内容组件配置表&#39;;

CREATE TABLE `content_component_type` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `name` varchar(50) NOT NULL COMMENT &#39;分类名称&#39;,
  `code` varchar(50) NOT NULL COMMENT &#39;分类code&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COMMENT=&#39;内容组件分类表&#39;;

CREATE TABLE `element` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `name` varchar(50) NOT NULL COMMENT &#39;元素名称&#39;,
  `type` bigint(20) NOT NULL COMMENT &#39;元素类型 表示元素分组，举例：促销标签&#39;,
  `construction_id` bigint(20) NOT NULL COMMENT &#39;展示结构id&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COMMENT=&#39;元素表&#39;;

CREATE TABLE `element_config` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `element_id` bigint(20) NOT NULL COMMENT &#39;元素id&#39;,
  `strategy` json DEFAULT NULL COMMENT &#39;策略规则&#39;,
  `metadata_id` json DEFAULT NULL COMMENT &#39;依赖元数据id列表&#39;,
  `filter_rule` varchar(1024) NOT NULL COMMENT &#39;过滤规则脚本&#39;,
  `assign_rule` varchar(1024) NOT NULL COMMENT &#39;赋值规则脚本&#39;,
  `style_config_info` json DEFAULT NULL COMMENT &#39;样式配置信息&#39;,
  `interaction_events` json DEFAULT NULL COMMENT &#39;交互事件配置信息&#39;,
  `metadata_id_gray` json DEFAULT NULL COMMENT &#39;依赖元数据id列表-灰度&#39;,
  `filter_rule_gray` varchar(1024) DEFAULT NULL COMMENT &#39;过滤规则脚本-灰度&#39;,
  `assign_rule_gray` varchar(1024) DEFAULT NULL COMMENT &#39;赋值规则脚本-灰度&#39;,
  `style_config_info_gray` json DEFAULT NULL COMMENT &#39;样式配置信息-灰度&#39;,
  `interaction_events_gray` json DEFAULT NULL COMMENT &#39;交互事件配置信息-灰度&#39;,
  `is_gray` int(2) NOT NULL COMMENT &#39;灰度开关 0-开，1-关&#39;,
  `gray_rule` json DEFAULT NULL COMMENT &#39;灰度规则&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=&#39;元素配置表&#39;;

CREATE TABLE `element_construction` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `code` varchar(50) NOT NULL COMMENT &#39;结构code&#39;,
  `name` varchar(50) NOT NULL COMMENT &#39;结构名称&#39;,
  `is_group` int(2) NOT NULL COMMENT &#39;是否是组合结构 0-组合，1-非组合&#39;,
  `group_type_ids` json DEFAULT NULL COMMENT &#39;组合结构子结构id列表&#39;,
  `fields` json DEFAULT NULL COMMENT &#39;字段配置信息&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COMMENT=&#39;展示结构表&#39;;

CREATE TABLE `element_info_config` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `element_id` bigint(20) NOT NULL COMMENT &#39;元素id&#39;,
  `strategy` json DEFAULT NULL COMMENT &#39;策略规则&#39;,
  `metadata_id` json DEFAULT NULL COMMENT &#39;依赖元数据id列表&#39;,
  `filter_rule` json DEFAULT NULL COMMENT &#39;过滤规则脚本&#39;,
  `assign_rule` json DEFAULT NULL COMMENT &#39;赋值规则脚本&#39;,
  `interaction_events` json DEFAULT NULL COMMENT &#39;交互事件配置信息&#39;,
  `metadata_id_gray` json DEFAULT NULL COMMENT &#39;依赖元数据id列表-灰度&#39;,
  `filter_rule_gray` json DEFAULT NULL COMMENT &#39;过滤规则脚本-灰度&#39;,
  `assign_rule_gray` json DEFAULT NULL COMMENT &#39;赋值规则脚本-灰度&#39;,
  `interaction_events_gray` json DEFAULT NULL COMMENT &#39;交互事件配置信息-灰度&#39;,
  `is_gray` int(2) NOT NULL COMMENT &#39;灰度开关 0-开，1-关&#39;,
  `gray_rule` json DEFAULT NULL COMMENT &#39;灰度规则&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  `style_config` json DEFAULT NULL COMMENT &#39;样式配置信息&#39;,
  `style_config_gray` json DEFAULT NULL COMMENT &#39;样式配置信息-灰度&#39;,
  `multi_elements` int(2) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;是否是多元素 0-否，1-是&#39;,
  `multi_relay_medata_code` varchar(50) DEFAULT NULL COMMENT &#39;多元素依赖code&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=&#39;元素取值配置表&#39;;


CREATE TABLE `element_style_config` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `element_id` bigint(20) NOT NULL COMMENT &#39;元素id&#39;,
  `strategy` json DEFAULT NULL COMMENT &#39;策略规则&#39;,
  `style_config_info` json DEFAULT NULL COMMENT &#39;样式配置信息&#39;,
  `style_config_info_gray` json DEFAULT NULL COMMENT &#39;样式配置信息-灰度&#39;,
  `is_gray` int(2) NOT NULL DEFAULT &#39;1&#39; COMMENT &#39;灰度开关 0-开，1-关&#39;,
  `gray_rule` json DEFAULT NULL COMMENT &#39;灰度规则&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb4 COMMENT=&#39;元素配置表&#39;;

CREATE TABLE `element_type` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `name` varchar(50) NOT NULL COMMENT &#39;分类名称&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COMMENT=&#39;元素分类表&#39;;

CREATE TABLE `event` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `name` varchar(50) NOT NULL COMMENT &#39;事件名称&#39;,
  `code` varchar(50) NOT NULL COMMENT &#39;事件code&#39;,
  `params` json DEFAULT NULL COMMENT &#39;事件参数列表&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=&#39;事件表&#39;;

CREATE TABLE `interaction` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `name` varchar(50) NOT NULL COMMENT &#39;交互名称&#39;,
  `code` varchar(50) NOT NULL COMMENT &#39;交互code&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=&#39;交互表&#39;;

CREATE TABLE `location` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `name` varchar(50) NOT NULL COMMENT &#39;位置名称&#39;,
  `show_style_type` int(2) NOT NULL COMMENT &#39;展示样式类型&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  `width_style` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;宽度表达式&#39;,
  `content_component_type_id` bigint(20) NOT NULL COMMENT &#39;组件类型id&#39;,
  `indent` int(2) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;缩进标识 0-不缩进，1-缩进&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COMMENT=&#39;位置表&#39;;


CREATE TABLE `metadata` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `code` varchar(50) NOT NULL COMMENT &#39;元数据code&#39;,
  `name` varchar(50) NOT NULL COMMENT &#39;元数据名称&#39;,
  `metadata_interface_id` bigint(20) NOT NULL COMMENT &#39;依赖接口id&#39;,
  `is_batch` int(2) NOT NULL COMMENT &#39;是否批量&#39;,
  `batch_key` varchar(50) NOT NULL COMMENT &#39;批量key&#39;,
  `result_script` varchar(1024) NOT NULL COMMENT &#39;结果处理脚本&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COMMENT=&#39;元数据表&#39;;


CREATE TABLE `metadata_interface` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;自增主键&#39;,
  `name` varchar(50) NOT NULL COMMENT &#39;名称&#39;,
  `alias` varchar(50) NOT NULL COMMENT &#39;别名&#39;,
  `appkey` varchar(50) NOT NULL COMMENT &#39;appkey&#39;,
  `service` varchar(100) NOT NULL COMMENT &#39;服务&#39;,
  `method` varchar(50) NOT NULL COMMENT &#39;方法&#39;,
  `timeout` int(11) NOT NULL DEFAULT &#39;500&#39; COMMENT &#39;超时时间&#39;,
  `param` json DEFAULT NULL COMMENT &#39;入参列表&#39;,
  `operator` varchar(20) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;操作人&#39;,
  `ctime` bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,
  `utime` bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,
  `switch_rule` varchar(100) NOT NULL COMMENT &#39;接口执行条件&#39;,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8mb4 COMMENT=&#39;元数据服务表&#39;;
</code></pre>

	</div>
	<!--打赏-->
        <div class="reward">
       <div class="reward-button">赏 <span class="reward-code">
        <span class="alipay-code"> <img class="alipay-img wdp-appear" src="/alipay.png"><b>支付宝打赏</b> </span> 
        <span class="wechat-code"> <img class="wechat-img wdp-appear" src="/weipay.jpeg"><b>微信打赏</b> </span> 
       </div>
      <p class="reward-notice">如果文章对你有帮助，欢迎点击上方按钮打赏作者！</p>
      </div>
      <!--打赏-->
</div>


    <div class="post-guide">
        <div class="item left">
            
              <a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  学习资源
              </a>
            
        </div>
        <div class="item right">
            
              <a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E7%9B%B8%E5%85%B3%E5%8D%9A%E4%B8%BB/">
                相关博主
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>






<script>

    //document.oncontextmenu=new Function("event.returnValue=false");
	//document.onselectstart=new Function("event.returnValue=false");

	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?7eeb54583579fabc0878be210d6ad60a";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();

	

	$(function () {
		const btw = new BTWPlugin();
	    btw.init({
	        id: 'container',
	        blogId: '22377-1713171226726-221',
	        name: '月伴飞鱼',
	        qrcode: '/小程序码.jpg',
	        keyword: '验证码',
	        btnText: '为防止机器刷接口，需要完成人机检测',
        	cookieAge: 1
	    });

	    var contents = document.getElementsByClassName("content999");
	    //监听文章内容的copy事件
	    contents[0].addEventListener('copy',function(e){
	        setClipboardText(e);
	    });

	    function setClipboardText(event){
	        // clipboardData 对象是为通过编辑菜单、快捷菜单和快捷键执行的编辑操作所保留的，也就是你复制或者剪切内容
	        let clipboardData = event.clipboardData || window.clipboardData;

	        // 如果未复制或者未剪切，则return出去
	        if (!clipboardData) { return; }

	        event.preventDefault();

	        // Selection 对象，表示用户选择的文本范围或光标的当前位置。
	        // 声明一个变量接收 -- 用户输入的剪切或者复制的文本转化为字符串
	        let text = window.getSelection().toString();
	    
	        if (text) {
	            // 如果文本存在则先取消文本默认事件
	            event.preventDefault();
	            // 通过调用常clipboardData对象的 setData(format, data) 方法；来设置相关文本
	            // format: 一个DOMString 表示要添加到 drag object的拖动数据的类型。
	            // data: 一个 DOMString表示要添加到 drag object的数据。
	            var copyright = '\n\n'
	            + '\n著作权归作者所有。'
	            + '\n商业转载请联系作者获得授权，非商业转载请注明出处。'
	            + '\n作者: 月伴飞鱼'
	            + '\n原文地址: http://hardyfish.top/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F/'
	    
	            clipboardData.setData('text/plain', text + copyright);
	    
	        }
	    };
	});

	
</script>

<script>
    const btw = new BTWPlugin();
    btw.init({
        id: 'container',
        blogId: '22377-1713171226726-221',
        name: '月伴飞鱼',
        qrcode: '/小程序码.jpg',
        keyword: '验证码',
        btnText: '为防止机器刷接口，需要完成人机检测',
        cookieAge: 1
    });

	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?7eeb54583579fabc0878be210d6ad60a";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
</script>
	</div>
	<div id="footer">
	<p>
	©2019-<span id="footerYear"></span> 
	<a href="/">月伴飞鱼</a> 
	
	
		|
		<span id="busuanzi_container_site_pv">
			PV 180986
		</span>
		|
		<span id="busuanzi_container_site_uv"> 
			UV 10079
		</span>
	
	<br>
	微信搜索 <a href="https://xiaoflyfish.oss-cn-beijing.aliyuncs.com/image/个人公众号.jpg" target="_blank">月伴飞鱼</a> 关注我
	</p>
</div>
<script type="text/javascript"> 
	document.getElementById('footerYear').innerHTML = new Date().getFullYear() + '';
</script>
	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>