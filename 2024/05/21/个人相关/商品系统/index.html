<!DOCTYPE html>
<html lang="en" oncontextmenu="return false;">

<head oncontextmenu="return false;">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="baidu-site-verification" content="codeva-QodU0Nk5F7" />
	<meta name="google-site-verification" content="DbSTw8OJwtH5Qei7n8Jnew0YyQ5naPzdLAPiscu7zQE" />
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">

	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?7eeb54583579fabc0878be210d6ad60a";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>

	
	<!-- title -->
	
	<title>
	
		商品系统 | 
	 
	月伴飞鱼
	</title>
	
	<!-- keywords,description -->
	 

	<!-- favicon -->
	
	<link rel="shortcut icon" href="/%E5%A4%B4%E5%83%8F.jpg">
	
  
  	
<link rel="stylesheet" href="/css/main.css">

  	
<link rel="stylesheet" href="/css/reward.css">

	
<link rel="stylesheet" href="/css/jquery.fancybox.min.css">

	
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="/lib/highlight/darcula.css">

	
<link rel="stylesheet" href="/css/clipboard-use.css">


	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">


	
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>


	
<script src="/lib/highlight/highlight.min.js"></script>


	
<script src="https://readmore.openwrite.cn/js/readmore-2.0.js"></script>

	
<script src="/lib/jquery-3.4.1.min.js"></script>

	
<script src="/lib/jquery.pjax.js"></script>


	
<script src="/js/main.js"></script>

	
<script src="/js/jquery.fancybox.min.js"></script>

	
		
<script src="/lib/valine/av-3.0.4-min.js"></script>

		
<script src="/lib/valine/Valine-1.3.10-min.js"></script>

	
	
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
	
<script src="/js/clipboard.min.js"></script>

<meta name="generator" content="Hexo 6.3.0"></head>

<body oncontextmenu="return false;">
	<header id="header" oncontextmenu="return false;">
    <a id="title" href="/" class="logo">公众号月伴飞鱼</a>

	<ul id="menu">
		<li class="menu-item">
			<a href="/about" class="menu-item-link">关于我</a>
		</li>

		<li class="menu-item">
			<a href="/个人微信.jpeg" class="menu-item-link">联系作者</a>
		</li>

	    <li class="menu-item">
			<a href="/site" class="menu-item-link">关于网站</a>
		</li>

		<li class="menu-item">
			<a href="/个人公众号.jpg" class="menu-item-link" target="_blank">我的公众号</a>
		</li>
		
		<li class="menu-item">
			<a href="https://tech.meituan.com/" class="menu-item-link" target="_blank">
				美团技术团队
			</a>
		</li>
		<li class="menu-item">
			<a href="https://tech.youzan.com/" class="menu-item-link" target="_blank">
				有赞技术团队
			</a>
		</li>
		<!--<li class="menu-item">
			<select class="menu-item-link menu-item-select">
				<option class="menu-item-link"  value="volvo">Volvo</option>
				<option class="menu-item-link"  value="saab">Saab</option>
				<option class="menu-item-link"  value="fiat">Fiat</option>
				<option class="menu-item-link"  value="audi">Audi</option>
			</select>
		</li>-->
	</ul>
</header>

	<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="text" placeholder="按目录搜索一下">
		<div id="tree">
			

			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										AI相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/01/14/AI%E7%9B%B8%E5%85%B3/AIGC/">
										AIGC
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/03/AI%E7%9B%B8%E5%85%B3/ChatGPT/">
										ChatGPT
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/07/AI%E7%9B%B8%E5%85%B3/Sora/">
										Sora
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/01/AI%E7%9B%B8%E5%85%B3/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/">
										提示词工程
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										个人相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/HBase%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">
										HBase最佳实践
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E4%BA%A4%E6%98%93%E7%B3%BB%E7%BB%9F/">
										交易系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%88%97%E8%A1%A8%E7%B3%BB%E7%BB%9F/">
										列表系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file active">
									<a href="/2024/05/21/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%95%86%E5%93%81%E7%B3%BB%E7%BB%9F/">
										商品系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90/">
										学习资源
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%B9%BF%E5%91%8A%E7%B3%BB%E7%BB%9F/">
										广告系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%BA%93%E5%AD%98%E7%B3%BB%E7%BB%9F/">
										库存系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/">
										生活相关
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E7%94%B5%E5%95%86%E7%B3%BB%E7%BB%9F/">
										电商系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E7%9B%B8%E5%85%B3%E5%8D%9A%E4%B8%BB/">
										相关博主
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/">
										相关工具
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E7%BE%A4%E7%BB%84%E7%B3%BB%E7%BB%9F/">
										群组系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/21/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E8%90%A5%E9%94%80%E7%B3%BB%E7%BB%9F/">
										营销系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/21/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E8%B5%84%E6%BA%90%E4%BD%8D%E7%B3%BB%E7%BB%9F/">
										资源位系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E8%BD%AC%E4%BB%8B%E7%BB%8D/">
										转介绍
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F/">
										配置系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										中间件
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/30/%E4%B8%AD%E9%97%B4%E4%BB%B6/Dubbo/">
										Dubbo
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/12/19/%E4%B8%AD%E9%97%B4%E4%BB%B6/Elasticsearch/">
										Elasticsearch
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/30/%E4%B8%AD%E9%97%B4%E4%BB%B6/Netty/">
										Netty
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/25/%E4%B8%AD%E9%97%B4%E4%BB%B6/Solr/">
										Solr
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/19/%E4%B8%AD%E9%97%B4%E4%BB%B6/ZooKeeper/">
										ZooKeeper
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										产品相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/18/%E4%BA%A7%E5%93%81%E7%9B%B8%E5%85%B3/%E5%B9%BF%E5%91%8A%E4%B8%9A%E5%8A%A1/">
										广告业务
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/18/%E4%BA%A7%E5%93%81%E7%9B%B8%E5%85%B3/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/">
										推荐系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/06/%E4%BA%A7%E5%93%81%E7%9B%B8%E5%85%B3/%E7%94%A8%E6%88%B7%E5%A2%9E%E9%95%BF/">
										用户增长
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										代码思想
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/12/15/%E4%BB%A3%E7%A0%81%E6%80%9D%E6%83%B3/CodeReview/">
										CodeReview
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/02/%E4%BB%A3%E7%A0%81%E6%80%9D%E6%83%B3/%E4%BB%A3%E7%A0%81%E9%87%8D%E6%9E%84/">
										代码重构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										前端相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/CSS/">
										CSS
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/26/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/React/">
										React
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/26/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/Vue/">
										Vue
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/12/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">
										小程序
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										基础知识
									</a>
									
							<ul>
								<li class="file">
									<a href="/2022/11/27/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/JVM/">
										JVM
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%88%86%E5%B8%83%E5%BC%8F/">
										分布式
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/12/10/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">
										并发编程
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">
										设计模式
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										大数据相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/21/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/DataX/">
										DataX
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/25/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Doris/">
										Doris
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/20/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Flink/">
										Flink
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/21/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Hadoop/">
										Hadoop
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/07/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Hive/">
										Hive
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/23/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/SQOOP/">
										SQOOP
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/20/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Spark/">
										Spark
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										学习专栏
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/04/05/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/22%E8%AE%B2%E9%80%9A%E5%85%B3Go%E8%AF%AD%E8%A8%80/">
										22讲通关Go语言
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/25/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/23%E8%AE%B2%E6%90%9E%E5%AE%9A%E5%90%8E%E5%8F%B0%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98/">
										23讲搞定后台架构实战
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/04/18/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/Dubbo%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%E4%B8%8E%E5%AE%9E%E6%88%98/">
										Dubbo源码解读与实战
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/16/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%9E%B6%E6%9E%84/">
										从0开始学架构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/31/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/%E4%BB%A3%E7%A0%81%E4%B9%8B%E4%B8%91/">
										代码之丑
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/26/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97/">
										大厂晋升指南
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/19/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/%E5%A6%82%E4%BD%95%E6%88%90%E4%B8%BA%E5%AD%A6%E4%B9%A0%E9%AB%98%E6%89%8B/">
										如何成为学习高手
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										学习书籍
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/05/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/HBase%E4%B8%8D%E7%9D%A1%E8%A7%89%E4%B9%A6/">
										HBase不睡觉书
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/02/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98/">
										Java并发编程实战
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/02/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E7%9A%84%E8%89%BA%E6%9C%AF/">
										Java并发编程的艺术
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/16/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/Java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C/">
										Java开发手册
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/22/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/">
										MySQL技术内幕
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/23/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/">
										Redis设计与实现
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/11/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E4%BA%BF%E7%BA%A7%E6%B5%81%E9%87%8F%E7%BD%91%E7%AB%99%E6%9E%B6%E6%9E%84%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/">
										亿级流量网站架构核心技术
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/05/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/">
										代码整洁之道
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/03/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E5%A4%A7%E5%9E%8B%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84/">
										大型网站技术架构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/07/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E5%A4%A7%E5%9E%8B%E7%BD%91%E7%AB%99%E7%B3%BB%E7%BB%9F/">
										大型网站系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/06/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/">
										深入理解Java虚拟机
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/08/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E8%8B%B1%E8%AF%AD%E9%AD%94%E6%B3%95%E5%B8%88%E4%B9%8B%E8%AF%AD%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8/">
										英语魔法师之语法俱乐部
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										工具相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/11/09/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/Arthas/">
										Arthas
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/24/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/ChatGPT/">
										ChatGPT
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/21/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/GIT/">
										GIT
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/21/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/Hexo/">
										Hexo
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/21/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/MAC/">
										MAC
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/01/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/Maven/">
										Maven
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/09/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/PlantUML/">
										PlantUML
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/22/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/UTools/">
										UTools
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/">
										实用工具
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										成长相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/03/26/%E6%88%90%E9%95%BF%E7%9B%B8%E5%85%B3/%E5%B7%A5%E4%BD%9C%E7%9B%B8%E5%85%B3/">
										工作相关
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/31/%E6%88%90%E9%95%BF%E7%9B%B8%E5%85%B3/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/">
										技术学习
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/07/%E6%88%90%E9%95%BF%E7%9B%B8%E5%85%B3/%E8%AF%BB%E4%B9%A6%E8%AE%A1%E5%88%92/">
										读书计划
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/09/%E6%88%90%E9%95%BF%E7%9B%B8%E5%85%B3/%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/">
										面试相关
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										数据库
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/06/%E6%95%B0%E6%8D%AE%E5%BA%93/ClickHouse/">
										ClickHouse
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/27/%E6%95%B0%E6%8D%AE%E5%BA%93/HBase/">
										HBase
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/09/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/">
										MongoDB
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/12/02/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">
										MySQL
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/21/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/">
										Redis
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/04/07/%E6%95%B0%E6%8D%AE%E5%BA%93/TIDB/">
										TIDB
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										文章速读
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/03/18/%E6%96%87%E7%AB%A0%E9%80%9F%E8%AF%BB/%E5%A4%A7%E5%8E%82%E6%96%87%E7%AB%A0/">
										大厂文章
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										服务器
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E6%9C%8D%E5%8A%A1%E5%99%A8/Docker/">
										Docker
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/09/%E6%9C%8D%E5%8A%A1%E5%99%A8/Nginx/">
										Nginx
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/03/%E6%9C%8D%E5%8A%A1%E5%99%A8/Tomcat/">
										Tomcat
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/09/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E8%BF%90%E7%BB%B4%E7%9F%A5%E8%AF%86/">
										运维知识
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										架构相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/21/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/DDD/">
										DDD
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/02/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E6%9E%B6%E6%9E%84%E5%9B%BE/">
										架构图
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/02/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E6%9E%B6%E6%9E%84%E5%AD%A6%E4%B9%A0/">
										架构学习
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/26/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E4%BF%9D%E9%9A%9C/">
										系统保障
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/31/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E6%80%A7%E8%83%BD/">
										系统性能
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/26/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">
										系统设计
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										框架相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/01/07/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Caffeine/">
										Caffeine
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/06/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Guava/">
										Guava
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/15/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/JWT/">
										JWT
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/08/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/MyBatis/">
										MyBatis
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/14/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/RPC%E6%A1%86%E6%9E%B6/">
										RPC框架
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/26/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Seata/">
										Seata
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/03/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/ShardingSphere/">
										ShardingSphere
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/14/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Spring/">
										Spring
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/03/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Thrift/">
										Thrift
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/29/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/XXLJOB/">
										XXLJOB
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/10/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/">
										开源框架
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										消息队列
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/KAFKA/">
										KAFKA
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/20/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/RabbitMQ/">
										RabbitMQ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/RocketMQ/">
										RocketMQ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										源码相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/12/13/%E6%BA%90%E7%A0%81%E7%9B%B8%E5%85%B3/RocketMQ/">
										RocketMQ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										生活相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/24/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E6%B3%95%E5%BE%8B/">
										法律
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/17/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E7%83%B9%E9%A5%AA/">
										烹饪
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/10/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E7%94%B5%E5%BD%B1/">
										电影
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/10/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E7%94%B5%E8%A7%86%E5%89%A7/">
										电视剧
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/11/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E7%BA%AA%E5%BD%95%E7%89%87/">
										纪录片
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/09/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E9%9F%B3%E4%B9%90/">
										音乐
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										算法相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2022/11/26/%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3/LeetCode/">
										LeetCode
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/11/26/%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3/%E5%89%91%E6%8C%87OFFER/">
										剑指OFFER
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/11/25/%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3/%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95/">
										面试算法
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										编程语言
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/04/05/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go%E5%9F%BA%E7%A1%80/">
										Go基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/11/21/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java%E5%9F%BA%E7%A1%80/">
										Java基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/29/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python%E5%9F%BA%E7%A1%80/">
										Python基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										英语相关
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										摩登家庭
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/03/05/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E6%91%A9%E7%99%BB%E5%AE%B6%E5%BA%AD/%E7%AC%AC%E4%B8%80%E5%AD%A3/">
										第一季
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										老友记
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/08/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E8%80%81%E5%8F%8B%E8%AE%B0/%E7%AC%AC%E4%B8%80%E5%AD%A3/">
										第一季
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/08/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E8%80%81%E5%8F%8B%E8%AE%B0/%E7%AC%AC%E4%B8%89%E5%AD%A3/">
										第三季
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/23/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E8%80%81%E5%8F%8B%E8%AE%B0/%E7%AC%AC%E4%BA%94%E5%AD%A3/">
										第五季
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										雅思
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/01/25/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E9%9B%85%E6%80%9D/%E5%89%91%E6%A1%A5%E9%9B%85%E6%80%9D%E5%90%AC%E5%8A%9B%E7%9C%9F%E9%A2%9815/">
										剑桥雅思听力真题15
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/12/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E9%9B%85%E6%80%9D/%E5%89%91%E6%A1%A5%E9%9B%85%E6%80%9D%E5%90%AC%E5%8A%9B%E7%9C%9F%E9%A2%984/">
										剑桥雅思听力真题4
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/08/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E9%9B%85%E6%80%9D/%E9%9B%85%E6%80%9D%E9%98%85%E8%AF%BB538%E8%80%83%E7%82%B9%E8%AF%8D/">
										雅思阅读538考点词
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										计算机基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
										操作系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
										数据结构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%AE%97%E6%B3%95%E7%9F%A5%E8%AF%86/">
										算法知识
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/12/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/">
										网络基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content">
		<h1 id="article-title" oncontextmenu="return false;">

	商品系统
</h1>
<div class="article-meta" oncontextmenu="return false;">
	<span>月伴飞鱼</span>
	<span>2024-05-21 09:53:37</span>
    
		<div id="article-categories">
            
                
                    <span>
                        <i class="fa fa-folder" aria-hidden="true"></i>
                        <a href="/categories/个人相关/">个人相关</a>
						
                    </span>
                
            
		</div>
    
</div>

<div id="container" class = "content999" oncontextmenu="return false;">
<!--打赏-->
        <div class="reward">
       <div class="reward-button">赏 <span class="reward-code">
        <span class="alipay-code"> <img class="alipay-img wdp-appear" src="/alipay.png"><b>支付宝打赏</b> </span> 
        <span class="wechat-code"> <img class="wechat-img wdp-appear" src="/weipay.jpeg"><b>微信打赏</b> </span> 
       </div>
      <p class="reward-notice">如果文章对你有帮助，欢迎点击上方按钮打赏作者！</p>
      </div>
      <!--打赏-->
	<div id="article-content">
		<p><strong>业务能力视图</strong></p>
<p><img src="/images/781.png" alt="图片11"></p>
<p><strong>商品中心</strong></p>
<blockquote>
<p>商品中心所有资源，根据BizId进行数据隔离和访问。</p>
</blockquote>
<p><strong>功能视图</strong></p>
<blockquote>
<p>主要完成商品及商品相关能力（后台类目，价格，库存）的存储查询、创建编辑能力，同时定义商品状态和销售参数，如「上架」「下架」「预售时间」「开售时间」等</p>
</blockquote>
<p><img src="/images/782.png" alt="图片12"></p>
<p><strong>模型定义</strong></p>
<p>完成商品模型由三级构成：后台类目→spu→sku，同时结合属性管理，完成商品的完整定义。</p>
<ol>
<li>一个类目下有多个spu</li>
<li>一个spu下有多个sku</li>
<li>一个类目/spu/sku下有多个属性</li>
</ol>
<p><img src="/images/783.png" alt="图片13"></p>
<img src="/images/784.png" alt="图片14" style="zoom:50%;" />
<p><strong>后台类目</strong></p>
<p>类目具有层级结构，通常情况下不超过三层。</p>
<p>根类目：即一级类目，其下可以挂二级类目，也可以直接作为叶子挂spu</p>
<p>叶子类目：叶子类目下可以直接挂spu</p>
<p>类目属性：只有叶子类目有类目属性，所有在该类目属性下的spu共用的？？属性</p>
<p><strong>spu</strong></p>
<p>标准化产品单元：是商品信息聚合的最小单位（信息多为可复用、标准化）。具有独立的售卖时间，价格和库存。</p>
<p><strong>sku</strong></p>
<p>商品基本库存单元，即库存进出计量的单位。同一个spu下的sku价格可能不同。</p>
<p>spu下无sku的处理：默认生成一个spu复制版，作为spu下唯一sku存在。</p>
<p><strong>销售时间</strong></p>
<p>目前仅可以挂在spu，sku销售时间默认与spu一致。</p>
<p><strong>库存</strong></p>
<p>sku可以单独设置库存，也可以多个sku共享spu的库存。</p>
<p><strong>价格</strong></p>
<p>spu可以单独价格，sku也可以单独设置价格</p>
<p>同时，提供渠道价格管理的能力</p>
<p><strong>支付中心</strong></p>
<p>支付能力：支持代币/第三方渠道的跨场景多种交易类型。</p>
<p>支付配置：在支付和退款流程中，提供标准化配置规则和拓展点，支持不同业务线不同支付场景的需求。</p>
<p><img src="/images/785.png" alt="图片15"></p>
<p><strong>交易订单</strong></p>
<p>功能视图</p>
<blockquote>
<p>完成下单、退单的流程编排，并将其中涉及的数据进行存储、管理和聚合</p>
</blockquote>
<p><img src="/images/786.png" alt="图片16"></p>
<p><strong>商品基础模型</strong></p>
<p><strong>商品模型</strong></p>
<p><img src="/images/787.png" alt="图片1"></p>
<p><strong>类目属性模型</strong></p>
<p><img src="/images/788.png" alt="图片2"></p>
<p><strong>类目Category</strong></p>
<p>类目即分类，是商品管理方法学的基础与核心，类目建设是一个标准化的过程。</p>
<p>类目属性体系，解决了不同商品所需要的数据模型不同的问题。</p>
<p>类目一般分为前台类目和后台类目。</p>
<p><strong>后台类目</strong></p>
<p>后台类目又叫标准类目，通过关键属性、绑定属性、商品属性、销售属性，确定SPU、商品、SKU，下面再详细说一下。</p>
<p>后台类目是运营同学发布商品、管理商品、制定规则的依据，是标准化的信息。</p>
<p><img src="/images/789.png" alt="图片3"></p>
<p><strong>前台类目</strong></p>
<p>前台类目又叫导航类目，是前端导航与搜索的依据。</p>
<p><strong>前后台类目的关系</strong></p>
<p>商品本身的固有属性是稳定的，但是为了导购，运营同学会希望能够有不同的组合方式，为买家带来更好的体验。</p>
<p>对于类目系统而言，一套系统无法满足不同的两种场景。</p>
<p>这种情况下，通过调研传统商超发现同一个产品在货架和仓库的存储是不同的方式：</p>
<p>仓库相对固定，食品在食品区，洗护品在洗护品区；货架则会根据季节、销售情况、社会事件而随时调整；前台类目便是参考货架设计给成。</p>
<p>类目管理是一个相对复杂的事情，早期的前台类目一般是运营同学手动管理的，成体系的电商公司一般是自动化抽取，形成前后台类目一般是多对多的关系。</p>
<p><strong>属性Property</strong></p>
<p>属性又叫属性项，注意：“属性”和“类目属性”是不同的概念。</p>
<p>属性：基础名词，一类特征含义的集合，如“颜色”。</p>
<p>类目属性：关系名词，类目和属性的关联关系，指类目下的实体具有公共属性的定义。</p>
<p>属性本身是离散的数据，通过绑定到类目完成结构化。</p>
<p><strong>属性值Value</strong></p>
<p>属性值是一类特征含义的名称，同样的”属性值“和”类目属性值“是不同的概念，这个后面再说。</p>
<p>单独的属性值，如红色、苹果，是没有意义的，属性和属性值构成属性对，作为属性库的基本单元，称为 PV。</p>
<p><strong>属性库PV</strong></p>
<p>属性库是属性对的集合，属性库根据具体的属性可以细分到不同的品牌库、型号库、颜色库等。</p>
<p>属性对可以作为搜索的基本单元，如搜索一年级的所有课程对应的商品，即可通过属性对”年级：一年级“进行搜索。</p>
<p>目前看属性对是描述商品离散化信息的最佳方式。</p>
<p><strong>类目属性CP</strong></p>
<p>上面说过，类目属性是指定类目下的实体所具有的公共属性的定义，如手机品牌、手机颜色、手机型号都是手机这个类目的类目属性。</p>
<p>类目属性是一种具有唯一性的关系，如手机和笔记本都有品牌，但是是两个不同的类目属性。</p>
<p>类目属性是商品管理中最为复杂的内容，根据不同的场景可以分为：</p>
<p>第一类特性：关键属性、绑定属性、商品属性、销售属性，4者是互斥的。</p>
<p>第二类特性：是否必选，是否多选，是否可输入，是否可枚举，4者是可组合的。</p>
<p><strong>第一类特性</strong></p>
<p>关键属性：约束产品，能够确定唯一SPU，如品牌：iPhone、型号：11，即可确定 iPhone 11 这个 SPU。关键属性都是必选属性。</p>
<p>绑定属性：关键属性确定后即可确定的属性，如 iPhone 11 确定后，屏幕大小就是确定的。</p>
<p>商品属性：营销等补充性质的属性，也叫补充属性，如手机成色、是否保修等。</p>
<p>销售属性：销售属性是商品上能确定库存的属性， 是能决定发生买卖行为的属性。可以确定 CSPU 和 SKU。销售属性都是必选属性。</p>
<p><strong>第二类特性</strong></p>
<p>必选：发布商品必须填写的属性。</p>
<p>多选：填写的属性值是 单值 还是 多值。</p>
<p>可枚举：属性默认是可枚举的，如性别，只有”男“、”女“两个选项。</p>
<p>可输入：不能枚举的，可以自行输入，可枚举与可输入至少有一个。</p>
<p><strong>类目属性值CPV</strong></p>
<p>类目属性值是指定类目下的实体所具有的共同的特征的特征值。比如，手机类目的品牌属性的属性值有：苹果、华为、小米等。</p>
<p>类目属性值是类目属性的具体内容。</p>
<p><strong>特征</strong></p>
<p>一个实体或者一组实体共有特性的抽象结果，和属性不同：属性是商品的物理描述，特征是商品的业务信息，特征的内容一般为 JSON，用于存储复杂数据结构。</p>
<p>特征是商品管理中可控性最低的，很容易被滥用，必须谨慎，典型的特征如：支持自动发货，不支持退货等。</p>
<p>特征不仅可以出现在类目、子类目，也可以在 SPU、商品、SKU 等出现。</p>
<p>标签 Tags，可以认为是特殊的特征，对应标签库，如 Tags:135,124,563。</p>
<p><strong>商品</strong></p>
<p><strong>SPU</strong></p>
<p>SPU 的英文全称是 Standard Product Unit，即标准产品单。SPU 是一组可复用、易检索的标准化信息的集合，该集合描述了一个“产品”的特性。</p>
<p>SPU 是商品信息聚合的最小单位，一个类目上的关键属性即可决定一个 SPU，如：品牌:iPhone;型号:11，这组关键属性就能确定一个SPU。关键属性确定后，绑定属性即可唯一确定，如镜头数:3。</p>
<p><strong>CSPU</strong></p>
<p>子 SPU，是 SKU 的标准化单位，可以理解为真正的产品，一般用于生命周期追溯。</p>
<p><strong>商品</strong></p>
<p>即某个商家售卖的一类物品，能够标准化的商品会映射到 SPU，在 SPU 的基础上添加商品属性，并关联图片、标题、商家等。</p>
<p>商品无法直接售卖，必须细化到一个或若干个 SKU。</p>
<p><strong>SKU</strong></p>
<p>SKU 的英文全称是 Stock Keeping Unit，即库存基本单元。在商品的基础上添加销售属性，并关联价格、库存，进行售卖。</p>
<p><strong>库存</strong></p>
<p><strong>意义</strong></p>
<p>库存对电商而言，除了存货功能外，也是商品交易流程的重要组成部分。</p>
<p>对商品交易而言，库存主要解决的问题：</p>
<table>
<thead>
<tr>
<th style="text-align:left">恶拍</th>
<th>恶意拍下商品，但是不付款的行为，此行为会导致商品少卖</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">超卖</td>
<td>被付款了的商品比库存商品要多，造成交易订单无法正常履约</td>
</tr>
<tr>
<td style="text-align:left">少卖</td>
<td>实际库存比透出的库存要多，造成实际有货但是显示无货的现象</td>
</tr>
</tbody>
</table>
<p><strong>库存方案</strong></p>
<p>库存服务为 SKU 或 活动 Offer 等场景提供库存能力。商品绑定库存 id 后，交易在特定节点通过库存 id 申请扣减或回补。</p>
<p>库存分为3个层级</p>
<ul>
<li>库存记录：记录库存id，可售 O、预扣 W、占用 S 的当前数量。</li>
<li>库存流水：通过外部 id + 库存 id，唯一确认的一系列操作的当前状态。</li>
<li>库存流水记录：每次库存操作的详情，用于审计。</li>
</ul>
<p>库存形式：除普通库存外，还有日历库存、渠道库存、地理库存等。</p>
<p><strong>库存交易设计</strong></p>
<p><strong>拍减</strong></p>
<p>下单即扣减库存，容易造成少卖</p>
<p><img src="/images/790.png" alt="图片4"></p>
<p><strong>付减</strong></p>
<p>付款才扣减库存，容易造成超卖</p>
<p><img src="/images/791.png" alt="图片5"></p>
<p><strong>预扣</strong></p>
<p>预扣结合拍减和付减，相当于两者的结合：</p>
<ol>
<li>设置一个小于订单超时时间的预扣超时时间，将订单对库存(预扣)占用时间限制在合理范围内</li>
<li>下单时，只进行预扣</li>
<li>如果迟迟不进行付款，会提前释放预扣库存</li>
<li>付款时，真正进行扣减</li>
</ol>
<p>预扣避免不了超卖的情况，可以根据需要退款或者发货。</p>
<p><img src="/images/792.png" alt="图片6"></p>
<p><strong>状态机</strong></p>
<p><img src="/images/793.png" alt="图片7"></p>
<p><strong>价格</strong></p>
<p>价格，描述 SKU 售卖时货币的数量的多少。价格一般分为标签价和售卖价，标签价仅供参考，售卖价为真正使用的价格。</p>
<p>维度不同，价格就可能不同，一般采取默认价格加特定维度价格相结合的策略。</p>
<p>商品提供的价格是原价，折扣优惠一般通过营销服务，永久价格调整才会修改商品价格。</p>
<p>针对 IAP 支付，需要提供对应的 IAP 商品。</p>
<p>针对虚拟币、外币定价商品，需要提供币种支持，一般采取本位货币定价+汇率换算的方式。</p>
<p><strong>商品生命流程</strong></p>
<p>针对平台自营</p>
<p><img src="/images/794.png" alt="图片8"></p>
<p><strong>商品架构</strong></p>
<p><img src="/images/795.png" alt="图片9"></p>
<p><strong>一、现状：</strong></p>
<p>商品中心redis一直被当做存储来使用，DB和Redis存储两份数据，目前商品中心使用redis+Caffeine本地缓存承受所有读压力，DB用来持久化数据没有接收处理业务线的读请求。</p>
<p><strong>二、商品缓存的使用场景：</strong></p>
<p>缓存创建：</p>
<ul>
<li>创建sku/spu ：保存DB，同步保存Redis（TTL永久有效）</li>
</ul>
<p>缓存更新：</p>
<ul>
<li>更新删除sku：更新DB，消息更新Redis，消息广播删除Caffeine本地缓存；</li>
</ul>
<p>缓存使用：</p>
<ul>
<li>例如getSkuById ：查询缓存Caffeine，Caffeine缓存加载自Redis，Redis缓存不存在则返回空；</li>
</ul>
<p>缓存key梳理：</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">Redis  key</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">数据库表</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">“categoryPropertyInfo:” + categoryId;</td>
<td style="text-align:left">HASH</td>
<td style="text-align:left">category_property</td>
<td style="text-align:left">类目缓存</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">“ChannelProductRelation:” + bizId +“_” + channelKey;</td>
<td style="text-align:left">HASH</td>
<td style="text-align:left">channel_product_relation</td>
<td style="text-align:left">渠道商品关系,Hash key为spuId/skuId</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">“SpuId2ChannelKey:” + spuId</td>
<td style="text-align:left">SET</td>
<td style="text-align:left">channel_product_relation</td>
<td style="text-align:left">商品对应的渠道Key，channel_product_relation分片键为channelKey；</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left">“ProductPool:” + productPoolId</td>
<td style="text-align:left">HASH</td>
<td style="text-align:left">product_pool_item</td>
<td style="text-align:left">商品池ID包含的商品item对象</td>
</tr>
<tr>
<td style="text-align:left">5</td>
<td style="text-align:left">“price:” + outId + “_” + type</td>
<td style="text-align:left">HASH</td>
<td style="text-align:left">product_price</td>
<td style="text-align:left">缓存商品价格对象</td>
</tr>
<tr>
<td style="text-align:left">6</td>
<td style="text-align:left">“k2p:”+ skuId</td>
<td style="text-align:left">STRING</td>
<td style="text-align:left">sku</td>
<td style="text-align:left">skuId对应的spuId，sku表分片键为spuId；</td>
</tr>
<tr>
<td style="text-align:left">7</td>
<td style="text-align:left">“Sku:”+ spuId</td>
<td style="text-align:left">HASH</td>
<td style="text-align:left">sku</td>
<td style="text-align:left">spuId对应sku对象</td>
</tr>
<tr>
<td style="text-align:left">8</td>
<td style="text-align:left">“SkuProperty:” + spuId + “_” + skuId</td>
<td style="text-align:left">HASH</td>
<td style="text-align:left">sku_property</td>
<td style="text-align:left">skuId对应的属性信息对象</td>
</tr>
<tr>
<td style="text-align:left">9</td>
<td style="text-align:left">“SkuIdempotent”</td>
<td style="text-align:left">HASH</td>
<td style="text-align:left">无</td>
<td style="text-align:left">创建sku的幂等校验。hash的key为 ”幂等建+bizId“</td>
</tr>
<tr>
<td style="text-align:left">10</td>
<td style="text-align:left">“SPU_ID_2_SKU_ID:” + spuId</td>
<td style="text-align:left">STRING</td>
<td style="text-align:left">sku</td>
<td style="text-align:left">spuId对应的skuId（只适合单sku的商品）；TTL为1天；</td>
</tr>
<tr>
<td style="text-align:left">11</td>
<td style="text-align:left">“Spu:” + spuId</td>
<td style="text-align:left">HASH</td>
<td style="text-align:left">spu</td>
<td style="text-align:left">spuId对应spu对象</td>
</tr>
<tr>
<td style="text-align:left">12</td>
<td style="text-align:left">“SpuProperty:” + spuId</td>
<td style="text-align:left">HASH</td>
<td style="text-align:left">sku_property</td>
<td style="text-align:left">spuId对应的属性信息对象</td>
</tr>
<tr>
<td style="text-align:left">13</td>
<td style="text-align:left">“SpuIdempotentKey”</td>
<td style="text-align:left">HASH</td>
<td style="text-align:left">无</td>
<td style="text-align:left">创建sku的幂等校验。hash的key为 ”幂等建+bizId“</td>
</tr>
</tbody>
</table>
<p><strong>三、目标：</strong></p>
<p>将商品Redis的使用改为缓存形式，支持从 DB 加载。应对Redis中数据被恶意删除或误删除等情况。</p>
<p><strong>四、方案：</strong></p>
<p>对bolt-product查询redis的实现类XXXCacheImpl进行改造。在Redis没有数据的情况下，从DB查询加载到redis中。</p>
<p><strong>4.1 DB查询没有拆分建</strong></p>
<p>“SpuId2ChannelKey:”+spuId 和 “k2p:”+skuId 两个缓存数据，如果从DB查询，查询条件没有拆分建。</p>
<p>方案：对channel_product_relation建spuId到channelKey的对应关系表。“SpuId2ChannelKey:”+spuId可直接加载关系表；对sku建id到spuId的对应关系表。“k2p:”+skuId可以直接读关系表；两个表的历史数据写job刷到关系表，新增数据同步新增关系表数据，渠道商品创建和sku创建为业务操作，同步写对现有数据库QPS无影响；</p>
<p><strong>4.2 缓存穿透</strong></p>
<p>缓存和数据库中都没有的数据，这样每次请求都会去查库，不会查缓存，如果同一时间有大量请求进来的话，就会给数据库造成巨大的查询压力，甚至击垮 db 系统；现状是不查询DB，所有不会有缓存的一些列问题。</p>
<p>方案：对查询结果为空的情况也进行缓存，缓存时间设置短一点，查询结果不为空则不设置TTL时间。</p>
<p><strong>4.3 缓存击穿</strong></p>
<p>缓存击穿主要针对热点key。这些key可能会在某些时间点被超高并发地访问，是一种非常&quot;热点&quot;的数据。当热点key失效时有高并发访问，这期间会有大量线程并发请求DB,可能会瞬间把后端DB压垮。</p>
<p>方案：互斥锁，使用redis的setnx互斥锁先进行判断，这样其他线程就处于等待状态，保证不会有大并发操作去操作数据库。<br>
if(redis.sexnx()==1){ //查询数据库 }</p>
<p><img src="/images/796.png" alt="图片18"></p>
<p><strong>4.4 缓存雪崩</strong></p>
<p>和缓存击穿情况一样，缓存不被恶意删除的情况下是不会出现的。因为redis的缓存设置为永不过期。</p>
<p>方案：对查询DB按bizId进行限流；</p>
<p>job快速恢复数据：完善商品 Redis 数据订正 job，实现全部数据的指定范围、全量扫表等方式恢复比对；</p>
<p>流程：</p>
<p><img src="/images/797.png" alt="图片17"></p>
<p>电商中台采用Caffeine实现了商品中心中的本地缓存，并通过消息广播解决了本地缓存和存储数据不一致的问题</p>
<p><strong>背景</strong></p>
<p>redis承受所有读压力：</p>
<blockquote>
<p>在商品中心中商品库存redis当做存储使用，所有读请求全部通过redis，qps超过300w，cpu使用率超过80%，水位较高</p>
</blockquote>
<p>商品请求量加大，redis承受压力越来越大：</p>
<blockquote>
<p>随着辅导的业务快速发展，在售规格超过百万，上游业务系统通过定时刷新其本地缓存(每10秒进行调用刷新一次)，QPS 大概为 <code>100w/pageSize * 机器数 * 5 / 10 s</code></p>
<p>中台接入新业务线: 斑马</p>
</blockquote>
<p><strong>目标</strong></p>
<p>降低redis承受压力，使系统风险可控。</p>
<p><strong>方案选型</strong></p>
<p>想要降低redis压力，只能把部分流量分发到其他地方。</p>
<p><strong>方案比较</strong></p>
<p><strong>数据库</strong></p>
<p>数据库的吞吐量远不及redis，如果要承受同等请求量，成本是一个问题</p>
<p><strong>本地缓存</strong></p>
<p>把数据缓存到服务器内存里</p>
<p>优点：</p>
<ol>
<li>能够减少网络耗时，访问效率比访问redis更快</li>
</ol>
<p>缺点：</p>
<ol>
<li>数据一致性问题</li>
<li>内存大小问题[如果数据量非常大，则不适合]</li>
<li>内存无法共用，一定程度上存在浪费</li>
</ol>
<p><strong>最终方案：本地缓存</strong></p>
<p>由于商品访问量一般来自于C端，和业务在售商品数量有关，所以我们属于数据量不大，但是访问量巨大的场景。但需要考虑本地缓存数据一致性问题。</p>
<p><strong>本地缓存方案选型: Caffeine</strong></p>
<p><strong>缓存的特征</strong></p>
<p>命中率：</p>
<blockquote>
<p>命中率 = 返回正确结果数/请求缓存次数，命中率越高，说明缓存的使用率越高</p>
</blockquote>
<p>最大空间：</p>
<blockquote>
<p>缓存中可以存放最大元素的数量，一旦缓存超过这个数量，则将触发缓存清空策略。防止空间无限扩大</p>
</blockquote>
<p>清空策略 ：</p>
<blockquote>
<p>FIFO：先进先出策略</p>
<p>LFU：最少使用</p>
<p>LRU：最近最少使用</p>
<p>根据过期时间清理</p>
</blockquote>
<p><strong>本地缓存方案比较</strong></p>
<p>如下图: 无论是全读场景、全写场景、或者读写混合场景，Caffeine都是完胜对手。所以建议使用 Caffeine 来做本地缓存</p>
<blockquote>
<p>压测对比数据详细查看：<a target="_blank" rel="noopener" href="https://github.com/ben-manes/caffeine/wiki/Benchmarks"> https://github.com/ben-manes/caffeine/wiki/Benchmarks</a></p>
</blockquote>
<p><strong>Caffeine</strong></p>
<p><strong>简介</strong></p>
<p>caffeine 是基于JDK8 的高性能本地缓存库，类似于ConcurrentHashMap，其LocalCache接口就是实现了JDK中的ConcurrentMap接口。但是caffeine为了保护应用程序，提供了自动剔除策略。</p>
<p><strong>特点</strong></p>
<ul>
<li>自动加载数据到本地缓存中，并且可以配置成异步加载</li>
<li>提供了基于数量剔除策略</li>
<li>提供了基于失效时间剔除策略，这个时间可以是最后 一次 访问或者写入算起</li>
<li>异步刷新</li>
<li>Key可以被包装成Weak引用，在下一次GC时可以被回收。value被封装为weak或者soft引用[内存不足时被回收]</li>
</ul>
<p><strong>填充策略</strong></p>
<ul>
<li>手动加载: 直接调用<code>cache.put(key, value)</code></li>
<li>同步加载: <code>Caffeine.build()</code></li>
<li>异步加载：<code>Caffeine.buildAsync()</code>，默认使用<code>ForkJoinPool.commonPool()</code>来执行异步线程，但是我们可以通过<code>Caffeine.executor(Executor)</code> 方法来替换线程池。</li>
</ul>
<pre><code class="language-java">//同步加载
private LoadingCache&lt;Long, InventoryEntity&gt; inventoryLocalCache = Caffeine.newBuilder()
            .expireAfterWrite(15, TimeUnit.MINUTES)
            .initialCapacity(1024 * 64)
            .maximumSize(1024 * 1024)
            .executor(ThreadPoolConfiguration.localCacheExecutor)
            .build(new CacheLoader&lt;Long, InventoryEntity&gt;() &#123;
                @Override
                public InventoryEntity load(@NotNull Long key) throws Exception &#123;
                    return inventoryCache.getInventoryById(key);
                &#125;
            &#125;);
 
 
//异步加载
private LoadingCache&lt;Long, InventoryEntity&gt; asyncLoadingCache = Caffeine.newBuilder()
            .expireAfterWrite(15, TimeUnit.MINUTES)
            .initialCapacity(1024 * 64)
            .maximumSize(1024 * 1024)
            .executor(ThreadPoolConfiguration.localCacheExecutor)
            .buildAsync(new CacheLoader&lt;Long, InventoryEntity&gt;() &#123;
                @Override
                public InventoryEntity load(@NotNull Long key) throws Exception &#123;
                    return inventoryCache.getInventoryById(key);
                &#125;
            &#125;);
 
//异步加载返回Future
CompletableFuture result = asyncLoadingCache.get(id);
//异步转同步，synchronous 返回了一个LoadingCacheView视图, 可以转换成了一个同步加载的缓存LoadingCache。底层还是通过异步来获取值，只是封装了一下future.get()
loadingCache = asyncLoadingCache.synchronous();
</code></pre>
<p><strong>失效策略</strong></p>
<ul>
<li>基于大小</li>
</ul>
<blockquote>
<p>Caffeine.maximumSize(MAX_SIZE)，当数量超过 MAX_SIZE 时，会使用<a target="_blank" rel="noopener" href="https://github.com/ben-manes/caffeine/wiki/Efficiency">Window TinyLfu策略</a>来删除缓存。</p>
</blockquote>
<ul>
<li>基于时间</li>
</ul>
<blockquote>
<p>expireAfterAccess(long, TimeUnit):在最后一次访问或者写入后开始计时，在指定的时间后过期。假如一直有请求访问该key，那么这个缓存将一直不会过期。</p>
<p>expireAfterWrite(long, TimeUnit): 在最后一次写入缓存后开始计时，在指定的时间后过期。</p>
<p>expireAfter(Expiry): 自定义策略，过期时间由Expiry实现独自计算</p>
</blockquote>
<ul>
<li>基于引用：AsyncLoadingCache不支持弱引用和软引用</li>
</ul>
<blockquote>
<p>Caffeine.weakKeys() 使用弱引用存储key。如果没有其他地方对该key有强引用，那么该缓存就会被垃圾回收器回收。</p>
<p>Caffeine.weakValues() 使用弱引用存储value。如果没有其他地方对该value有强引用，那么该缓存就会被垃圾回收器回收。</p>
<p>Caffeine.softValues() 使用软引用存储value。当内存满了过后，软引用的对象以将使用最近最少使用(least-recently-used ) 的方式进行垃圾回收。由于使用软引用是需要等到内存满了才进行回收，所以我们通常建议给缓存配置一个使用内存的最大值。</p>
<p><strong>Caffeine.weakValues()和Caffeine.softValues()不可以一起使用。</strong></p>
</blockquote>
<p><strong>刷新策略</strong></p>
<p>刷新的是通过<code>LoadingCache.refresh(key)</code>方法来指定，并通过调用<code>CacheLoader.reload</code>方法来执行，刷新key会异步地为这个key加载新的value，并返回旧的值（如果有的话）。</p>
<p>刷新操作是使用Executor异步执行的，默认执行程序是<code>ForkJoinPool.commonPool()</code>, 可以通过 <code>Caffeine.executor(Executor)</code>覆盖。</p>
<p><strong>异步刷新注意事项</strong></p>
<p>由于是异步刷新，所以从本地缓存get的时候，会返回旧值再去异步刷新，如果在访问量特别小并且机器数特别多的时候，旧值可能会存在很长一段时间。</p>
<p>所以可以结合expireAfterWrite 一起使用，expireAfterWrite在访问时会判断是否过期，如果过期了，会同步加载并返回新结果。</p>
<pre><code class="language-java">private LoadingCache&lt;Long, InventoryEntity&gt; inventoryLocalCache = Caffeine.newBuilder()
            .expireAfterWrite(15, TimeUnit.MINUTES)
            .initialCapacity(1024 * 64)
            .maximumSize(1024 * 1024)
            .executor(ThreadPoolConfiguration.localCacheExecutor)
            .build(new CacheLoader&lt;Long, InventoryEntity&gt;() &#123;
                @Override
                public InventoryEntity load(@NotNull Long key) throws Exception &#123;
                    return inventoryCache.getInventoryById(key);
                &#125;
 
                @Override
                public @NotNull
                Map&lt;Long, InventoryEntity&gt; loadAll(@NotNull Iterable&lt;? extends Long&gt; keys)
                        throws Exception &#123;
                    List&lt;InventoryEntity&gt; inventoryEntities = inventoryCache.getInventoriesByIds(Lists.newArrayList(keys));
                    Map&lt;Long, InventoryEntity&gt; inventoryEntityMap = inventoryEntities
                            .stream()
                            .collect(Collectors.toMap(InventoryEntity::getId, Function.identity()));
                    return inventoryEntityMap;
                &#125;
            &#125;);
</code></pre>
<p><strong>Caffeine原理简介</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ben-manes/caffeine/wiki/Efficiency">Window TinyLfu策略</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903648875528206">Disruptor</a></li>
<li>LRU多级队列</li>
</ul>
<p><strong>实际应用</strong></p>
<p><strong>本地缓存在商品中的应用: 本地缓存+广播消息</strong></p>
<p>分析：</p>
<p>由于本地缓存会带来数据一致性的问题，可以把商品的信息分为三类：</p>
<blockquote>
<p>(1) 数据永远不会发生改变：比如id关联关系，比如 skuId – spuId</p>
<p>(2) 数据会发生改变，但不会影响下单: 比如价格、商品基本信息</p>
<p>(3) 数据会发生改变，但会影响下单：比如库存。说明: 库存不足时，下单肯定会失败</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
<th style="text-align:left">特点</th>
<th style="text-align:left">本地缓存</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">数据永远不会改变</td>
<td style="text-align:left">不存在数据一致性问题</td>
<td style="text-align:left">缓存时间以天为单位</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">数据会改变，但不影响下单</td>
<td style="text-align:left">数据一致性容忍度比较高</td>
<td style="text-align:left">缓存时间以秒为单位</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">数据会改变，跟下单强相关</td>
<td style="text-align:left">数据一致性容忍度较低</td>
<td style="text-align:left">尽量不要进行本地缓存</td>
</tr>
</tbody>
</table>
<p><strong>二、存在的问题</strong></p>
<p>1、本地缓存数据一致性问题</p>
<blockquote>
<p>商品中心库存访问量巨大，Redis承受压力大。</p>
<p>由于库存是否还有剩余跟用户能否下单相关联，在一致性上面希望能尽量准确，所以通过本地缓存能减少Redis压力，但是在一定程度上又希望库存量能够保证一致性，两者是相悖的。所以要么本地缓存时间尽可能小，要么解决数据一致性的问题。</p>
</blockquote>
<p>1、方案一：库存本地缓存时间尽量小，尽可能保证数据一致性。但不能解决问题</p>
<blockquote>
<p>由于辅导在售规格超过百万，业务会定期来刷新数据，所以在这样场景下，本地缓存时间设置得很小（比如1s），缓存命中的几率也十分小，因此并不能解决问题。</p>
<p>说明：中台作为基础业务系统，机器数量较多，业务方的打到机器1后，下一台打到这台机器的概率大约为 1/机器数。</p>
<p>业务方每10秒进行刷新，则每秒有 业务方机器数/10 个相同请求。所以命中率大概为：1/中台机器数 * 业务方机器数/ 10，不及 10%</p>
</blockquote>
<p>2、方案二：通过消息广播解决数据一致性问题</p>
<blockquote>
<ol>
<li>
<p>通过广播消息把每台服务器的本地缓存置为失效，库存本地缓存主动失效时间可以设置以分为单位</p>
</li>
<li>
<p>准备数据修复任务，防止数据错误，手动修复</p>
</li>
</ol>
</blockquote>
<p><img src="/images/798.png" alt="图片10"></p>
<p>2、本地缓存大小问题[可暂不解决]</p>
<blockquote>
<p>以当前的数据量：在售规格数为百万，与之对应的库存数也是百万。如果全部放在本地缓存里，大约100M，所以能够支撑。</p>
<p>但是如果后续业务发展迅速，则不能有多少在售库存数就缓存多少</p>
</blockquote>
<p>3、广播消息性能问题[可暂不解决]</p>
<blockquote>
<p>库存广播消息目前跟下单的qps有关，当库存发生变化后 ，会进行广播消息，如果下单量特别大，则存在单台服务器会不断消费消息。</p>
<p>目前下单量不超过100 QPS，所以单台服务器也能够支撑</p>
</blockquote>
<p>3、最终方案</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">数据特点</th>
<th style="text-align:left">信息</th>
<th style="text-align:left">缓存特点</th>
<th style="text-align:left">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">不存在数据一致性问题：不会变更</td>
<td style="text-align:left">skuId- spuId映射关系</td>
<td style="text-align:left"><code>缓存时间以天为单位``缓存大小：在售规格大小``失效策略：基于时间写入后失效``缓存命中率接近 100%</code></td>
<td style="text-align:left">46w → 23w</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">数据一致性容忍度比较高&amp;&amp; 请求量不高</td>
<td style="text-align:left">spu信息</td>
<td style="text-align:left"><code>缓存时间以秒为单位``缓存大小：偏小``失效策略：基于时间写入后失效``缓存命中率较低</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">数据一致性容忍度较低或者请求量巨大</td>
<td style="text-align:left">sku信息库存信息</td>
<td style="text-align:left"><code>缓存时间以分为单位``缓存大小：在售规格大小``失效策略：基于时间写入后失效 &amp;&amp; 更新后失效【消息广播】``缓存命中率：高</code></td>
<td style="text-align:left">sku：360w → 20w  库存：320w → 10w</td>
</tr>
</tbody>
</table>
<p><strong>后续展望</strong></p>
<p>后续业务持续发展，可能会存在以下两方面的问题：</p>
<p>(1) 内存方面：在目前的业务下，在售规格数量全部放进本地缓存里暂时还能接受</p>
<p>(2) 性能方面：下单引发的库存更新会导致所有服务器需要处理广播消息</p>
<p>但是如果后续业务不断发展，下单的qps过高，则这种方案就会存在内存和性能方面的问题</p>
<p><strong>1、库存本地缓存数量的大小 [内存]</strong></p>
<p>问题：在售库存数太多，不能够全部放进本地缓存里</p>
<p>目标：减少库存本地缓存的数量</p>
<p>方式：筛选热点数据，只针对热点数据进行本地缓存。</p>
<blockquote>
<ul>
<li>
<p><strong>方案一：Redis分布式统计</strong></p>
<p>**特点：**能够筛选出全局下的热点数据，但是通过Redis计数反而会增加Redis压力</p>
<p><strong>实现方案</strong>：本地先统计，定时上报至Redis，比如30s上报一次，可通过异步方式实现。通过zset可以快速获取到热点数据</p>
</li>
<li>
<p><strong>方案二：单机内存统计</strong></p>
<p>**特点：**只能筛选单机下的热点数据，下次请求可能并不会请求到本地缓存机器众多，缓存命中率预计不会太理想</p>
</li>
</ul>
</blockquote>
<p><strong>2、库存变更频繁 [性能]</strong></p>
<p>问题：下单QPS变高，导致库存数变更频繁，单机消费广播消息可能会遇到瓶颈</p>
<p>目标：减少库存广播的频率</p>
<p>方式：</p>
<blockquote>
<ol>
<li>
<p>只针对热点数据进行库存变更的广播</p>
</li>
<li>
<p>之所以库存跟下单强相关，是在库存将要售罄时才会有强关联关系，其他时候其实关系并不大。可以当库存使用占比达到某个阈值时才进行消息广播 ？但需要业务支持</p>
</li>
<li>
<p>压缩广播：间隔几秒广播一次，相同资源只广播一次</p>
</li>
</ol>
</blockquote>

	</div>
	<!--打赏-->
        <div class="reward">
       <div class="reward-button">赏 <span class="reward-code">
        <span class="alipay-code"> <img class="alipay-img wdp-appear" src="/alipay.png"><b>支付宝打赏</b> </span> 
        <span class="wechat-code"> <img class="wechat-img wdp-appear" src="/weipay.jpeg"><b>微信打赏</b> </span> 
       </div>
      <p class="reward-notice">如果文章对你有帮助，欢迎点击上方按钮打赏作者！</p>
      </div>
      <!--打赏-->
</div>


    <div class="post-guide">
        <div class="item left">
            
              <a href="/2024/05/21/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E8%90%A5%E9%94%80%E7%B3%BB%E7%BB%9F/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  营销系统
              </a>
            
        </div>
        <div class="item right">
            
              <a href="/2024/05/20/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%88%97%E8%A1%A8%E7%B3%BB%E7%BB%9F/">
                列表系统
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>






<script>

    //document.oncontextmenu=new Function("event.returnValue=false");
	//document.onselectstart=new Function("event.returnValue=false");

	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?7eeb54583579fabc0878be210d6ad60a";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();

	

	$(function () {
		const btw = new BTWPlugin();
	    btw.init({
	        id: 'container',
	        blogId: '22377-1713171226726-221',
	        name: '月伴飞鱼',
	        qrcode: '/小程序码.jpg',
	        keyword: '验证码',
	        btnText: '为防止机器刷接口，需要完成人机检测',
        	cookieAge: 1
	    });

	    var contents = document.getElementsByClassName("content999");
	    //监听文章内容的copy事件
	    contents[0].addEventListener('copy',function(e){
	        setClipboardText(e);
	    });

	    function setClipboardText(event){
	        // clipboardData 对象是为通过编辑菜单、快捷菜单和快捷键执行的编辑操作所保留的，也就是你复制或者剪切内容
	        let clipboardData = event.clipboardData || window.clipboardData;

	        // 如果未复制或者未剪切，则return出去
	        if (!clipboardData) { return; }

	        event.preventDefault();

	        // Selection 对象，表示用户选择的文本范围或光标的当前位置。
	        // 声明一个变量接收 -- 用户输入的剪切或者复制的文本转化为字符串
	        let text = window.getSelection().toString();
	    
	        if (text) {
	            // 如果文本存在则先取消文本默认事件
	            event.preventDefault();
	            // 通过调用常clipboardData对象的 setData(format, data) 方法；来设置相关文本
	            // format: 一个DOMString 表示要添加到 drag object的拖动数据的类型。
	            // data: 一个 DOMString表示要添加到 drag object的数据。
	            var copyright = '\n\n'
	            + '\n著作权归作者所有。'
	            + '\n商业转载请联系作者获得授权，非商业转载请注明出处。'
	            + '\n作者: 月伴飞鱼'
	            + '\n原文地址: http://hardyfish.top/2024/05/21/%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3/%E5%95%86%E5%93%81%E7%B3%BB%E7%BB%9F/'
	    
	            clipboardData.setData('text/plain', text + copyright);
	    
	        }
	    };
	});

	
</script>

<script>
    const btw = new BTWPlugin();
    btw.init({
        id: 'container',
        blogId: '22377-1713171226726-221',
        name: '月伴飞鱼',
        qrcode: '/小程序码.jpg',
        keyword: '验证码',
        btnText: '为防止机器刷接口，需要完成人机检测',
        cookieAge: 1
    });

	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?7eeb54583579fabc0878be210d6ad60a";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
</script>
	</div>
	<div id="footer">
	<p>
	©2019-<span id="footerYear"></span> 
	<a href="/">月伴飞鱼</a> 
	
	
		|
		<span id="busuanzi_container_site_pv">
			PV 180986
		</span>
		|
		<span id="busuanzi_container_site_uv"> 
			UV 10079
		</span>
	
	<br>
	微信搜索 <a href="https://xiaoflyfish.oss-cn-beijing.aliyuncs.com/image/个人公众号.jpg" target="_blank">月伴飞鱼</a> 关注我
	</p>
</div>
<script type="text/javascript"> 
	document.getElementById('footerYear').innerHTML = new Date().getFullYear() + '';
</script>
	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>