<!DOCTYPE html>
<html lang="en" oncontextmenu="return false;">

<head oncontextmenu="return false;">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="baidu-site-verification" content="codeva-QodU0Nk5F7" />
	<meta name="google-site-verification" content="DbSTw8OJwtH5Qei7n8Jnew0YyQ5naPzdLAPiscu7zQE" />
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">

	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?7eeb54583579fabc0878be210d6ad60a";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>

	
	<!-- title -->
	
	<title>
	
		阿里Java开发手册 | 
	 
	月伴飞鱼
	</title>
	
	<!-- keywords,description -->
	 

	<!-- favicon -->
	
	<link rel="shortcut icon" href="/%E5%A4%B4%E5%83%8F.jpg">
	
  
  	
<link rel="stylesheet" href="/css/main.css">

  	
<link rel="stylesheet" href="/css/reward.css">

	
<link rel="stylesheet" href="/css/jquery.fancybox.min.css">

	
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="/lib/highlight/darcula.css">

	
<link rel="stylesheet" href="/css/clipboard-use.css">


	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">


	
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>


	
<script src="/lib/highlight/highlight.min.js"></script>


	
<script src="https://readmore.openwrite.cn/js/readmore-2.0.js"></script>

	
<script src="/lib/jquery-3.4.1.min.js"></script>

	
<script src="/lib/jquery.pjax.js"></script>


	
<script src="/js/main.js"></script>

	
<script src="/js/jquery.fancybox.min.js"></script>

	
		
<script src="/lib/valine/av-3.0.4-min.js"></script>

		
<script src="/lib/valine/Valine-1.3.10-min.js"></script>

	
	
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
	
<script src="/js/clipboard.min.js"></script>

<meta name="generator" content="Hexo 6.3.0"></head>

<body oncontextmenu="return false;">
	<header id="header" oncontextmenu="return false;">
    <a id="title" href="/" class="logo">公众号月伴飞鱼</a>

	<ul id="menu">
		<li class="menu-item">
			<a href="/about" class="menu-item-link">关于我</a>
		</li>

		<li class="menu-item">
			<a href="/个人微信.jpeg" class="menu-item-link">联系作者</a>
		</li>

	    <li class="menu-item">
			<a href="/site" class="menu-item-link">关于网站</a>
		</li>

		<li class="menu-item">
			<a href="/个人公众号.jpg" class="menu-item-link" target="_blank">我的公众号</a>
		</li>
		
		<li class="menu-item">
			<a href="https://tech.meituan.com/" class="menu-item-link" target="_blank">
				美团技术团队
			</a>
		</li>
		<li class="menu-item">
			<a href="https://tech.youzan.com/" class="menu-item-link" target="_blank">
				有赞技术团队
			</a>
		</li>
		<!--<li class="menu-item">
			<select class="menu-item-link menu-item-select">
				<option class="menu-item-link"  value="volvo">Volvo</option>
				<option class="menu-item-link"  value="saab">Saab</option>
				<option class="menu-item-link"  value="fiat">Fiat</option>
				<option class="menu-item-link"  value="audi">Audi</option>
			</select>
		</li>-->
	</ul>
</header>

	<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="text" placeholder="按目录搜索一下">
		<div id="tree">
			

			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										AI相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/01/14/AI%E7%9B%B8%E5%85%B3/AIGC/">
										AIGC
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/07/AI%E7%9B%B8%E5%85%B3/Sora/">
										Sora
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/01/AI%E7%9B%B8%E5%85%B3/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/">
										提示词工程
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										中间件
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/30/%E4%B8%AD%E9%97%B4%E4%BB%B6/Dubbo/">
										Dubbo
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/12/19/%E4%B8%AD%E9%97%B4%E4%BB%B6/Elasticsearch/">
										Elasticsearch
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/30/%E4%B8%AD%E9%97%B4%E4%BB%B6/Netty/">
										Netty
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/25/%E4%B8%AD%E9%97%B4%E4%BB%B6/Solr/">
										Solr
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/19/%E4%B8%AD%E9%97%B4%E4%BB%B6/ZooKeeper/">
										ZooKeeper
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										产品相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/18/%E4%BA%A7%E5%93%81%E7%9B%B8%E5%85%B3/%E5%B9%BF%E5%91%8A%E4%B8%9A%E5%8A%A1/">
										广告业务
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/18/%E4%BA%A7%E5%93%81%E7%9B%B8%E5%85%B3/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/">
										推荐系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/06/%E4%BA%A7%E5%93%81%E7%9B%B8%E5%85%B3/%E7%94%A8%E6%88%B7%E5%A2%9E%E9%95%BF/">
										用户增长
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										代码思想
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/12/15/%E4%BB%A3%E7%A0%81%E6%80%9D%E6%83%B3/CodeReview/">
										CodeReview
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/02/%E4%BB%A3%E7%A0%81%E6%80%9D%E6%83%B3/%E4%BB%A3%E7%A0%81%E9%87%8D%E6%9E%84/">
										代码重构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										前端相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/CSS/">
										CSS
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/26/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/React/">
										React
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/26/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/Vue/">
										Vue
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/12/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">
										小程序
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										基础知识
									</a>
									
							<ul>
								<li class="file">
									<a href="/2022/11/27/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/JVM/">
										JVM
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%88%86%E5%B8%83%E5%BC%8F/">
										分布式
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/12/10/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">
										并发编程
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">
										设计模式
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										大数据相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/21/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/DataX/">
										DataX
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/25/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Doris/">
										Doris
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/20/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Flink/">
										Flink
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/21/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Hadoop/">
										Hadoop
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/07/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Hive/">
										Hive
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/23/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/SQOOP/">
										SQOOP
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/20/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/Spark/">
										Spark
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										学习专栏
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/16/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%9E%B6%E6%9E%84/">
										从0开始学架构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/31/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/%E4%BB%A3%E7%A0%81%E4%B9%8B%E4%B8%91/">
										代码之丑
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/26/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97/">
										大厂晋升指南
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/19/%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/%E5%A6%82%E4%BD%95%E6%88%90%E4%B8%BA%E5%AD%A6%E4%B9%A0%E9%AB%98%E6%89%8B/">
										如何成为学习高手
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										学习书籍
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/05/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/HBase%E4%B8%8D%E7%9D%A1%E8%A7%89%E4%B9%A6/">
										HBase不睡觉书
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/02/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98/">
										Java并发编程实战
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/02/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E7%9A%84%E8%89%BA%E6%9C%AF/">
										Java并发编程的艺术
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file active">
									<a href="/2023/11/16/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/Java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C/">
										Java开发手册
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/05/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/">
										代码整洁之道
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/03/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E5%A4%A7%E5%9E%8B%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84/">
										大型网站技术架构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/07/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E5%A4%A7%E5%9E%8B%E7%BD%91%E7%AB%99%E7%B3%BB%E7%BB%9F/">
										大型网站系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/06/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/">
										深入理解Java虚拟机
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/08/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/%E8%8B%B1%E8%AF%AD%E9%AD%94%E6%B3%95%E5%B8%88%E4%B9%8B%E8%AF%AD%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8/">
										英语魔法师之语法俱乐部
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										工具相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/11/09/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/Arthas/">
										Arthas
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/24/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/ChatGPT/">
										ChatGPT
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/21/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/GIT/">
										GIT
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/21/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/Hexo/">
										Hexo
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/21/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/MAC/">
										MAC
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/01/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/Maven/">
										Maven
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/09/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/PlantUML/">
										PlantUML
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/22/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/UTools/">
										UTools
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/">
										实用工具
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										成长相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/31/%E6%88%90%E9%95%BF%E7%9B%B8%E5%85%B3/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/">
										技术学习
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/07/%E6%88%90%E9%95%BF%E7%9B%B8%E5%85%B3/%E8%AF%BB%E4%B9%A6%E8%AE%A1%E5%88%92/">
										读书计划
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/09/%E6%88%90%E9%95%BF%E7%9B%B8%E5%85%B3/%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/">
										面试相关
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										数据库
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/02/06/%E6%95%B0%E6%8D%AE%E5%BA%93/ClickHouse/">
										ClickHouse
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/27/%E6%95%B0%E6%8D%AE%E5%BA%93/HBase/">
										HBase
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/09/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/">
										MongoDB
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/12/02/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">
										MySQL
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/21/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/">
										Redis
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										文章速读
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/03/10/%E6%96%87%E7%AB%A0%E9%80%9F%E8%AF%BB/%E8%85%BE%E8%AE%AF/">
										腾讯
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/03/10/%E6%96%87%E7%AB%A0%E9%80%9F%E8%AF%BB/%E9%98%BF%E9%87%8C/">
										阿里
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										服务器
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E6%9C%8D%E5%8A%A1%E5%99%A8/Docker/">
										Docker
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/09/%E6%9C%8D%E5%8A%A1%E5%99%A8/Nginx/">
										Nginx
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/03/%E6%9C%8D%E5%8A%A1%E5%99%A8/Tomcat/">
										Tomcat
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/09/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E8%BF%90%E7%BB%B4%E7%9F%A5%E8%AF%86/">
										运维知识
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										架构相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/21/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/DDD/">
										DDD
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/02/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E6%9E%B6%E6%9E%84%E5%9B%BE/">
										架构图
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/02/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E6%9E%B6%E6%9E%84%E5%AD%A6%E4%B9%A0/">
										架构学习
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/26/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E4%BF%9D%E9%9A%9C/">
										系统保障
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/31/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E6%80%A7%E8%83%BD/">
										系统性能
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/26/%E6%9E%B6%E6%9E%84%E7%9B%B8%E5%85%B3/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">
										系统设计
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										框架相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/01/07/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Caffeine/">
										Caffeine
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/06/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Guava/">
										Guava
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/15/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/JWT/">
										JWT
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/08/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/MyBatis/">
										MyBatis
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/14/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/RPC%E6%A1%86%E6%9E%B6/">
										RPC框架
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/26/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Seata/">
										Seata
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/03/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/ShardingSphere/">
										ShardingSphere
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/14/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Spring/">
										Spring
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/03/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/Thrift/">
										Thrift
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/29/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/XXLJOB/">
										XXLJOB
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/10/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/">
										开源框架
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										消息队列
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/KAFKA/">
										KAFKA
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/20/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/RabbitMQ/">
										RabbitMQ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/07/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/RocketMQ/">
										RocketMQ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										源码相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/12/13/%E6%BA%90%E7%A0%81%E7%9B%B8%E5%85%B3/RocketMQ/">
										RocketMQ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										生活相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/27/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E4%B9%A6%E7%B1%8D/">
										书籍
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/12/17/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E5%81%9A%E8%8F%9C/">
										做菜
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/24/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E6%B3%95%E5%BE%8B/">
										法律
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/10/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E7%94%B5%E5%BD%B1/">
										电影
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/10/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E7%94%B5%E8%A7%86%E5%89%A7/">
										电视剧
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/11/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E7%BA%AA%E5%BD%95%E7%89%87/">
										纪录片
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/09/%E7%94%9F%E6%B4%BB%E7%9B%B8%E5%85%B3/%E9%9F%B3%E4%B9%90/">
										音乐
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										算法相关
									</a>
									
							<ul>
								<li class="file">
									<a href="/2022/11/26/%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3/LeetCode/">
										LeetCode
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/11/26/%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3/%E5%89%91%E6%8C%87OFFER/">
										剑指OFFER
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/11/25/%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3/%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95/">
										面试算法
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										编程语言
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/11/11/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go%E5%9F%BA%E7%A1%80/">
										Go基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/11/21/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java%E5%9F%BA%E7%A1%80/">
										Java基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/01/29/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python%E5%9F%BA%E7%A1%80/">
										Python基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										英语相关
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										摩登家庭
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/03/05/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E6%91%A9%E7%99%BB%E5%AE%B6%E5%BA%AD/%E7%AC%AC%E4%B8%80%E5%AD%A3/">
										第一季
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										老友记
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/08/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E8%80%81%E5%8F%8B%E8%AE%B0/%E7%AC%AC%E4%B8%80%E5%AD%A3/">
										第一季
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/08/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E8%80%81%E5%8F%8B%E8%AE%B0/%E7%AC%AC%E4%B8%89%E5%AD%A3/">
										第三季
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/11/23/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E8%80%81%E5%8F%8B%E8%AE%B0/%E7%AC%AC%E4%BA%94%E5%AD%A3/">
										第五季
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										雅思
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/01/25/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E9%9B%85%E6%80%9D/%E5%89%91%E6%A1%A5%E9%9B%85%E6%80%9D%E5%90%AC%E5%8A%9B%E7%9C%9F%E9%A2%9815/">
										剑桥雅思听力真题15
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/12/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E9%9B%85%E6%80%9D/%E5%89%91%E6%A1%A5%E9%9B%85%E6%80%9D%E5%90%AC%E5%8A%9B%E7%9C%9F%E9%A2%984/">
										剑桥雅思听力真题4
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/02/08/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E5%85%B3/%E9%9B%85%E6%80%9D/%E9%9B%85%E6%80%9D%E9%98%85%E8%AF%BB538%E8%80%83%E7%82%B9%E8%AF%8D/">
										雅思阅读538考点词
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										计算机基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2023/10/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
										操作系统
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
										数据结构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2023/10/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%AE%97%E6%B3%95%E7%9F%A5%E8%AF%86/">
										算法知识
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/12/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/">
										网络基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content">
		<h1 id="article-title" oncontextmenu="return false;">

	Java开发手册
</h1>
<div class="article-meta" oncontextmenu="return false;">
	<span>月伴飞鱼</span>
	<span>2023-11-16 14:15:41</span>
    
		<div id="article-categories">
            
                
                    <span>
                        <i class="fa fa-folder" aria-hidden="true"></i>
                        <a href="/categories/学习书籍/">学习书籍</a>
						
                    </span>
                
            
		</div>
    
</div>

<div id="container" class = "content999" oncontextmenu="return false;">
<!--打赏-->
        <div class="reward">
       <div class="reward-button">赏 <span class="reward-code">
        <span class="alipay-code"> <img class="alipay-img wdp-appear" src="/alipay.png"><b>支付宝打赏</b> </span> 
        <span class="wechat-code"> <img class="wechat-img wdp-appear" src="/weipay.jpeg"><b>微信打赏</b> </span> 
       </div>
      <p class="reward-notice">如果文章对你有帮助，欢迎点击上方按钮打赏作者！</p>
      </div>
      <!--打赏-->
	<div id="article-content">
		<p>下载地址：<a target="_blank" rel="noopener" href="https://github.com/alibaba/p3c/tree/master">https://github.com/alibaba/p3c/tree/master</a></p>
<h1 id="编程规约"><a href="#编程规约" class="headerlink" title="编程规约"></a>编程规约</h1><h2 id="命名风格"><a href="#命名风格" class="headerlink" title="命名风格"></a>命名风格</h2><blockquote>
<p>所有编程相关的命名均不能以下划线或美元符号开始，也不能以下划线或美元符号结束。 </p>
<p>如:<code>_name / __name / $Object / name_ / name$ / Object$</code></p>
</blockquote>
<hr>
<blockquote>
<p>类名使用 UpperCamelCase 风格。</p>
<ul>
<li>以下情形例外：DO &#x2F; PO &#x2F; DTO &#x2F; BO &#x2F; VO &#x2F; UID 等。</li>
</ul>
<p>正例:</p>
<ul>
<li><code>ForceCode / UserDO / HtmlDTO / XmlService / TcpUdpDeal / TaPromotion</code>。</li>
</ul>
<p>反例:</p>
<ul>
<li><code>forcecode / UserDo / HTMLDto / XMLService / TCPUDPDeal / TAPromotion</code>。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>方法名、参数名、成员变量、局部变量都统一使用 lowerCamelCase 风格。 </p>
<p>正例:</p>
<ul>
<li><code>localValue / getHttpMessage() / inputUserId</code></li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>常量命名应该全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。 </p>
<p>正例:</p>
<ul>
<li><code>MAX_STOCK_COUNT / CACHE_EXPIRED_TIME</code></li>
</ul>
<p>反例:</p>
<ul>
<li><code>MAX_COUNT / EXPIRED_TIME</code></li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>抽象类命名使用 Abstract 或 Base 开头。</p>
<p>异常类命名使用 Exception 结尾。</p>
<p>测试类命名以它要 测试的类的名称开始，以 Test 结尾。</p>
</blockquote>
<hr>
<blockquote>
<p>POJO 类中的任何布尔类型的变量，都不要加 is 前缀，否则部分框架解析会引起序列化错误。 </p>
<p>定义为布尔类型 <code>Boolean isDeleted</code> 的字段，它的 getter 方法也是 <code>isDeleted()</code>，部分框架在反向解析时，误以为 对应的字段名称是 <code>deleted</code>，导致字段获取不到，得到意料之外的结果或抛出异常。</p>
</blockquote>
<hr>
<blockquote>
<p>包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。</p>
<p>包名统一使用单数形式，但是类名如果有复数含义，类名可以使用复数形式。</p>
<p>正例：</p>
<ul>
<li>应用工具类包名为 <code>com.alibaba.ei.kunlun.aap.util</code>。</li>
<li>类名为 <code>MessageUtils</code>(此规则参考 spring 的框架结构)。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>杜绝完全不规范的英文缩写，避免望文不知义。</p>
<p>反例:</p>
<ul>
<li><code>AbstractClass</code> 缩写 成 <code>AbsClass</code>。</li>
<li><code>condition</code> 缩写 成 <code>condi</code>。</li>
<li><code>Function</code> 缩写 成 <code>Fu</code>，此类随意缩写 严重降低了代码的可阅读性。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>在常量与变量命名时，表示类型的名词放在词尾，以提升辨识度。 </p>
<p>正例:</p>
<ul>
<li><code>startTime / workQueue / nameList / TERMINATED_THREAD_COUNT</code></li>
</ul>
<p>反例:</p>
<ul>
<li><code>startedAt / QueueOfWork / listName / COUNT_TERMINATED_THREAD</code></li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>如果模块、接口、类、方法使用了设计模式，在命名时要体现出具体模式。 </p>
<p>正例: </p>
<ul>
<li><code>public class OrderFactory;</code></li>
<li><code>public class LoginProxy;</code></li>
<li><code>public class ResourceObserver;</code></li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>对于 Service 和 DAO 类，基于 SOA 的理念，暴露出来的服务一定是接口，内部的实现类用 Impl 的后缀 与接口区别。</p>
<p>正例:</p>
<ul>
<li>CacheServiceImpl 实现 CacheService 接口。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>如果是形容能力的接口名称，取对应的形容词为接口名(通常是 <code>–able</code> 结尾的形容词)。 </p>
<p>正例:</p>
<ul>
<li>AbstractTranslator 实现 Translatable。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>枚举类名带上 Enum 后缀，枚举成员名称需要全大写，单词间用下划线隔开。 </p>
<ul>
<li>枚举其实就是特殊的常量类，且构造方法被默认强制是私有。</li>
</ul>
<p>正例:</p>
<ul>
<li>枚举名字为 <code>ProcessStatusEnum</code> 的成员名称：<code>SUCCESS / UNKNOWN_REASON</code></li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>Service &#x2F; DAO 层方法命名规约:</p>
<ul>
<li><p>获取单个对象的方法用 get 做前缀。 </p>
</li>
<li><p>获取多个对象的方法用 list 做前缀，复数结尾，如<code>:listObjects </code></p>
</li>
<li><p>获取统计值的方法用 count 做前缀。</p>
</li>
<li><p>插入的方法用 <code>save / insert</code> 做前缀。</p>
</li>
<li><p>删除的方法用 <code>remove / delete</code> 做前缀。</p>
</li>
<li><p>修改的方法用 <code>update</code> 做前缀。</p>
</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>领域模型命名规约:</p>
<ul>
<li><p>数据对象：xxxDO，xxx 即为数据表名。 </p>
</li>
<li><p>数据传输对象：xxxDTO，xxx 为业务领域相关的名称。 </p>
</li>
<li><p>展示对象：xxxVO，xxx 一般为网页名称。</p>
</li>
</ul>
<p>POJO 是 DO &#x2F; DTO &#x2F; BO &#x2F; VO 的统称，禁止命名成 xxxPOJO。</p>
</blockquote>
<h2 id="常量定义"><a href="#常量定义" class="headerlink" title="常量定义"></a>常量定义</h2><blockquote>
<p>不允许任何魔法值(即未经预先定义的常量)直接出现在代码中。</p>
</blockquote>
<hr>
<blockquote>
<p>long 或 Long 赋值时，数值后使用大写 L，不能是小写 l，小写容易跟数字混淆，造成误解。</p>
<p>比如：<code>public static final Long NUM = 2l;</code> 写的是数字的 21，还是 Long 型的 2?</p>
</blockquote>
<hr>
<blockquote>
<p>浮点数类型的数值后缀统一为大写的 D 或 F。</p>
<p>正例：</p>
<ul>
<li><p><code>public static final double HEIGHT = 175.5D;</code></p>
</li>
<li><p><code>public static final float WEIGHT = 150.3F;</code></p>
</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>不要使用一个常量类维护所有常量，要按常量功能进行归类，分开维护。</p>
<p>正例:</p>
<ul>
<li>缓存相关常量放在类 <code>CacheConsts</code> 下。</li>
<li>系统配置相关常量放在类 <code>SystemConfigConsts</code> 下。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>如果变量值仅在一个固定范围内变化用 <code>enum</code> 类型来定义。</p>
</blockquote>
<h2 id="OOP规约"><a href="#OOP规约" class="headerlink" title="OOP规约"></a>OOP规约</h2><blockquote>
<p>相同参数类型，相同业务含义，才可以使用的可变参数，参数类型避免定义为 Object。</p>
<ul>
<li><p>可变参数必须放置在参数列表的最后。</p>
</li>
<li><p>建议开发者尽量不用可变参数编程。</p>
</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>Object 的 <code>equals</code> 方法容易抛空指针异常，应使用常量或确定有值的对象来调用 equals。 </p>
<p>正例:</p>
<ul>
<li><code>&quot;test&quot;.equals(param);</code></li>
</ul>
<p>反例:</p>
<ul>
<li><code>param.equals(&quot;test&quot;);</code></li>
</ul>
<p>推荐使用 JDK7 引入的工具类 <code>java.util.Objects#equals(Object a, Object b)</code></p>
</blockquote>
<hr>
<blockquote>
<p>所有整型包装类对象之间值的比较，全部使用 <code>equals</code> 方法比较。</p>
</blockquote>
<hr>
<blockquote>
<p>任何货币金额，均以最小货币单位且为整型类型进行存储。</p>
</blockquote>
<hr>
<blockquote>
<p>浮点数之间的等值判断，基本数据类型不能使用 &#x3D;&#x3D; 进行比较，包装数据类型不能使用 <code>equals</code> 进行判断。</p>
<p>使用 <code>BigDecimal</code> 来定义值，再进行浮点数的运算操作。</p>
</blockquote>
<hr>
<blockquote>
<p>BigDecimal 的等值比较应使用 <code>compareTo()</code> 方法，而不是 <code>equals()</code> 方法。 </p>
<ul>
<li><code>equals()</code> 方法会比较值和精度(1.0 与 1.00 返回结果为 false)，而 <code>compareTo()</code> 则会忽略精度。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>定义数据对象 DO 类时，属性类型要与数据库字段类型相匹配。</p>
<p>正例:</p>
<ul>
<li>数据库字段的 bigint 必须与类属性的 Long 类型相对应。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>禁止使用构造方法 <code>BigDecimal(double)</code> 的方式把 double 值转化为 BigDecimal 对象。 </p>
<p><code>BigDecimal(double)</code> 存在精度损失风险，在精确计算或值比较的场景中可能会导致业务逻辑异常。</p>
<p>如: <code>BigDecimal g = new BigDecimal(0.1F);</code></p>
<ul>
<li>实际的存储值为:<code>0.100000001490116119384765625</code></li>
</ul>
<p>优先推荐入参为 String 的构造方法，或使用 <code>BigDecimal</code> 的 valueOf 方法，此方法内部其实执行了 Double 的 toString，而 <code>Double</code> 的 toString 按 double 的实际能表达的精度对尾数进行了截断。</p>
</blockquote>
<pre><code class="java">BigDecimal recommend1 = new BigDecimal(&quot;0.1&quot;); 
BigDecimal recommend2 = BigDecimal.valueOf(0.1);
</code></pre>
<hr>
<blockquote>
<p>基本数据类型与包装数据类型的使用标准: </p>
<ul>
<li><p>所有的 POJO 类属性必须使用包装数据类型。</p>
</li>
<li><p>RPC 方法的返回值和参数必须使用包装数据类型。</p>
</li>
<li><p>所有的局部变量使用基本数据类型。</p>
</li>
</ul>
<p>POJO 类属性没有初值是提醒使用者在需要使用时，必须自己显式地进行赋值，任何 NPE 问题，或者入库检查， 都由使用者来保证。</p>
<p>正例:</p>
<ul>
<li>数据库的查询结果可能是 <code>null</code>，因为自动拆箱，用基本数据类型接收有 NPE 风险。</li>
</ul>
<p>反例:</p>
<ul>
<li><p>某业务的交易报表上显示成交总额涨跌情况，即正负 <code>x%</code>，x 为基本数据类型，调用的 RPC 服务，调用不成功时，返回的是默认值，页面显示为 <code>0%</code>，这是不合理的，应该显示成中划线<code>-</code>。</p>
</li>
<li><p>所以包装数据类型的 <code>null</code> 值，能够表示额外的信息，如：远程调用失败，异常退出。</p>
</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>定义 DO &#x2F; PO &#x2F; DTO &#x2F; VO 等 POJO 类时，不要设定任何属性默认值。</p>
<p>反例:</p>
<ul>
<li><p>某业务的 DO 的 createTime 默认值为 <code>new Date();</code></p>
</li>
<li><p>但是这个属性在数据提取时并没有置入具体值，在更新其它字段时又附带更新了此字段，导致创建时间被修改成当前时间。</p>
</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>序列化类新增属性时，不要修改 <code>serialVersionUID</code> 字段，避免反序列失败。</p>
<p>如果完全不兼容升级，避免反序列化混乱，需要修改 <code>serialVersionUID</code> 值。</p>
<ul>
<li><code>serialVersionUID</code> 不一致会抛出序列化运行时异常。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>构造方法里面禁止加入任何业务逻辑，如果有初始化逻辑，放在 <code>init</code> 方法中。</p>
</blockquote>
<hr>
<blockquote>
<p>POJO 类必须写 <code>toString</code> 方法。</p>
<p>使用 IDE 中的工具 <code>source &gt; generate toString</code> 时，如果继 承了另一个 POJO 类，注意在前面加一下<code>super.toString()</code>。</p>
<ul>
<li>在方法执行抛出异常时，可以直接调用 POJO 的 <code>toString()</code> 方法打印其属性值，便于排查问题。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>禁止在 POJO 类中，同时存在对应属性 xxx 的 <code>isXxx()</code> 和 <code>getXxx()</code> 方法。</p>
<ul>
<li>框架在调用属性 xxx 的提取方法时，并不能确定哪个方法一定是被优先调用到。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>使用索引访问用 String 的 split 方法得到的数组时，需做最后一个分隔符后有无内容的检查，</p>
<p>否则会有抛 <code>IndexOutOfBoundsException</code> 的风险。</p>
<ul>
<li>由于<code>String.Split()</code>的特性，忽略了空值，导致异常。</li>
</ul>
</blockquote>
<pre><code class="java">String str = &quot;a,b,c,,&quot;;
String[] ary = str.split(&quot;,&quot;);
// 预期大于 3，结果等于 3 
System.out.println(ary.length);
</code></pre>
<hr>
<blockquote>
<p>当一个类有多个构造方法，或者多个同名方法，这些方法应该按顺序放置在一起，便于阅读。</p>
</blockquote>
<hr>
<blockquote>
<p>类内方法定义的顺序依次是：<code>公有方法或保护方法 &gt; 私有方法 &gt; getter / setter 方法</code>。 </p>
</blockquote>
<hr>
<blockquote>
<p>setter 方法中，参数名称与类成员变量名称一致，<code>this.成员名=参数名</code>。</p>
<p>在 <code>getter/setter</code> 方 法中，不要增加业务逻辑，增加排查问题的难度。</p>
</blockquote>
<hr>
<blockquote>
<p>循环体内，字符串的连接方式，使用 <code>StringBuilder</code> 的 <code>append</code> 方法进行扩展。</p>
</blockquote>
<hr>
<blockquote>
<p>慎用 Object 的 <code>clone</code> 方法来拷贝对象。</p>
<p>对象 clone 方法默认是浅拷贝，若想实现深拷贝需覆写 <code>clone</code> 方法实现域对象的深度遍历式拷贝。</p>
</blockquote>
<h2 id="集合处理"><a href="#集合处理" class="headerlink" title="集合处理"></a>集合处理</h2><blockquote>
<p>hashCode 和 equals 的处理，遵循如下规则:</p>
<ul>
<li>只要覆写 equals，就必须覆写 hashCode。<ul>
<li>因为 Set 存储的是不重复的对象，依据 <code>hashCode</code> 和 <code>equals</code> 进行判断，所以 Set 存储的对象必须覆写这两种方法。</li>
</ul>
</li>
</ul>
<p>如果自定义对象作为 Map 的键，那么必须覆写 hashCode 和 equals。</p>
</blockquote>
<hr>
<blockquote>
<p>判断所有集合内部的元素是否为空，使用 <code>isEmpty()</code> 方法，而不是 <code>size() == 0</code> 的方式。 </p>
<ul>
<li>在某些集合中，前者的时间复杂度为 <code>O(1)</code>，而且可读性更好。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>在使用 <code>java.util.stream.Collectors</code> 类的 toMap() 方法转为 Map 集合时，要注意当 value 为 null 时会抛 NPE 异常。</p>
</blockquote>
<hr>
<blockquote>
<p>ArrayList 的 subList 结果不可强转成 ArrayList，否则会抛出 ClassCastException 异常。</p>
<p><code>subList()</code> 返回的是 ArrayList 的内部类 SubList，并不是 <code>ArrayList</code> 本身，而是 ArrayList 的一个视图，对于 SubList的所有操作最终会反映到原列表上。</p>
</blockquote>
<hr>
<blockquote>
<p>使用 Map 的方法 <code>keySet()/values()/entrySet()</code> 返回集合对象时，不可以对其进行添加元素 操作，否则会抛出<code>UnsupportedOperationException</code> 异常。</p>
</blockquote>
<hr>
<blockquote>
<p>Collections 类返回的对象，如:<code>emptyList()/singletonList()</code> 等都是 <code>immutable list</code>，不可对其进行添加或者删除元素的操作。</p>
<p>一旦集合中进行了添加元素的操作，就会触发 <code>UnsupportedOperationException</code> 异常。</p>
</blockquote>
<hr>
<blockquote>
<p>在 <code>subList</code> 场景中，高度注意对父集合元素的增加或删除，均会导致子列表的遍历、增加、删除产生<code>ConcurrentModificationException</code> 异常。</p>
</blockquote>
<hr>
<blockquote>
<p>使用集合转数组的方法，必须使用集合的 <code>toArray(T[] array)</code>，传入的是类型完全一致、长度为 0 的空数组。</p>
</blockquote>
<pre><code class="java">List&lt;String&gt; list = new ArrayList&lt;&gt;(2);
list.add(&quot;guan&quot;);
list.add(&quot;bao&quot;);
String[] array = list.toArray(new String[0]);
</code></pre>
<hr>
<blockquote>
<p>使用 <code>Collection</code> 接口任何实现类的 <code>addAll()</code> 方法时，要对输入的集合参数进行 NPE 判断。</p>
</blockquote>
<hr>
<blockquote>
<p>使用工具类 <code>Arrays.asList()</code> 把数组转换成集合时，不能使用其修改集合相关的方法，它的 <code>add/remove/clear</code> 方法会抛出 <code>UnsupportedOperationException</code> 异常。</p>
</blockquote>
<hr>
<blockquote>
<p>泛型通配符<code>&lt;? extends T&gt;</code>来接收返回的数据，此写法的泛型集合不能使用 add 方法。</p>
<p><code>&lt;? super T&gt;</code>不能使用 get 方法，两者在接口调用赋值的场景中容易出错。</p>
</blockquote>
<hr>
<blockquote>
<p>不要在 <code>foreach</code> 循环里进行元素的 <code>remove/add</code> 操作。</p>
<p>remove 元素使用 <code>iterator</code> 方式。</p>
<ul>
<li>如果并发操作，需要对 iterator 对象加锁。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>集合初始化时，指定集合初始值大小。</p>
</blockquote>
<hr>
<blockquote>
<p>使用 <code>entrySet</code> 遍历 Map 类集合 KV，而不是 <code>keySet</code> 方式进行遍历。</p>
</blockquote>
<hr>
<blockquote>
<p>注意 Map 类集合 <code>K/V</code> 能不能存储 null 值的情况。</p>
</blockquote>
<table>
<thead>
<tr>
<th align="left">集合类</th>
<th align="left">Key</th>
<th align="left">Value</th>
<th align="left">Super</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Hashtable</td>
<td align="left">不允许为null</td>
<td align="left">不允许为null</td>
<td align="left">Dictionary</td>
<td align="left">线程安全</td>
</tr>
<tr>
<td align="left">ConcurrentHashMap</td>
<td align="left">不允许为null</td>
<td align="left">不允许为null</td>
<td align="left">AbstractMap</td>
<td align="left">锁分段技术（JDK8:CAS）</td>
</tr>
<tr>
<td align="left">TreeMap</td>
<td align="left">不允许为null</td>
<td align="left">允许为null</td>
<td align="left">AbstractMap</td>
<td align="left">线程不安全</td>
</tr>
<tr>
<td align="left">HashMap</td>
<td align="left">允许为null</td>
<td align="left">允许为null</td>
<td align="left">AbstractMap</td>
<td align="left">线程不安全</td>
</tr>
</tbody></table>
<hr>
<blockquote>
<p>利用 Set 元素唯一的特性，可以快速对一个集合进行去重操作，避免使用 List 的 <code>contains()</code> 进行遍历去重或者判断包含操作。</p>
</blockquote>
<h2 id="并发处理"><a href="#并发处理" class="headerlink" title="并发处理"></a>并发处理</h2><blockquote>
<p>获取单例对象需要保证线程安全，其中的方法也要保证线程安全。</p>
</blockquote>
<hr>
<blockquote>
<p>创建线程或线程池时请指定有意义的线程名称，方便出错时回溯。</p>
</blockquote>
<hr>
<blockquote>
<p>线程资源必须通过线程池提供，不允许在应用中自行显式创建线程。</p>
</blockquote>
<hr>
<blockquote>
<p>线程池不允许使用 <code>Executors</code> 去创建，而是通过 <code>ThreadPoolExecutor</code> 的方式，这样的处理方式让写的同学更加明确线程池的运行规则，规避资源耗尽的风险。</p>
</blockquote>
<hr>
<blockquote>
<p><code>SimpleDateFormat</code> 是线程不安全的类，一般不要定义为 static 变量。</p>
<p>如果定义为 static，必须 加锁，或者使用 <code>DateUtils</code> 工具类。</p>
<p>如果是 JDK8 的应用，可以使用 Instant 代替 Date，<code>LocalDateTime</code> 代替 Calendar。</p>
<p>DateTimeFormatter 代替 <code>SimpleDateFormat</code>。</p>
</blockquote>
<pre><code class="java">private static final ThreadLocal&lt;DateFormat&gt; dateStyle = new ThreadLocal&lt;DateFormat&gt;() &#123;
    @Override
    protected DateFormat initialValue() &#123;
        return new SimpleDateFormat(&quot;yyyy-MM-dd&quot;); 
    &#125;
&#125;;
</code></pre>
<hr>
<blockquote>
<p>必须回收自定义的 ThreadLocal 变量记录的当前线程的值，尤其在线程池场景下，线程经常会被复用。</p>
<p>如果不清理自定义的 ThreadLocal 变量，可能会影响后续业务逻辑和造成内存泄露等问题。</p>
<p>尽量在代码中使用 <code>try-finally</code> 块进行回收。</p>
</blockquote>
<pre><code class="java">objectThreadLocal.set(userInfo);
try &#123;
    // ...
&#125; finally &#123; 
  objectThreadLocal.remove();
&#125;
</code></pre>
<hr>
<blockquote>
<p>高并发时，同步调用应该去考量锁的性能损耗。</p>
<p>能用无锁数据结构，就不要用锁。</p>
<p>能锁区块，就不要锁整个方法体，能用对象锁，就不要用类锁。</p>
<p>尽可能使加锁的代码块工作量尽可能的小，避免在锁代码块中调用 RPC 方法。</p>
</blockquote>
<hr>
<blockquote>
<p>对多个资源、数据库表、对象同时加锁时，需要保持一致的加锁顺序，否则可能会造成死锁。</p>
<p>线程一需要对表 A、B、C 依次全部加锁后才可以进行更新操作，那么线程二的加锁顺序也必须是 A、B、C，否则可能出现死锁。</p>
</blockquote>
<hr>
<blockquote>
<p>在使用阻塞等待获取锁的方式中，必须在 try 代码块之外，并且在加锁方法与 try 代码块之间没有任何可能抛出异常的方法调用，避免加锁成功后，在 finally 中无法解锁。</p>
<ul>
<li>在 lock 方法与 try 代码块之间的方法调用抛出异常，无法解锁，造成其它线程无法成功获取锁。</li>
<li>如果 lock 方法在 try 代码块之内，可能由于其它方法抛出异常，导致在 finally 代码块中，unlock 对未加锁的对象解锁，它会调用 AQS 的 <code>tryRelease</code> 方法(取决于具体实现类)，抛出 <code>IllegalMonitorStateException</code> 异常。 </li>
<li>在 Lock 对象的 lock 方法实现中可能抛出 <code>unchecked</code> 异常，产生的后果与二相同。</li>
</ul>
</blockquote>
<p>正例：</p>
<pre><code class="java">Lock lock = new XxxLock();
// ...
lock.lock();
try &#123;
    doSomething();
    doOthers();
&#125; finally &#123;
    lock.unlock();
&#125;
</code></pre>
<p>反例：</p>
<pre><code class="java">Lock lock = new XxxLock();
// ...
try &#123;
    // 如果在此抛出异常，会直接执行 finally 块的代码
    doSomething();
    // 不管锁是否成功，finally 块都会执行
    lock.lock();
    doOthers();

&#125; finally &#123;
    lock.unlock();
&#125;
</code></pre>
<blockquote>
<p>在使用尝试机制来获取锁的方式中，进入业务代码块之前，必须先判断当前线程是否持有锁。</p>
<ul>
<li>锁的释放规则与锁的阻塞等待方式相同。</li>
</ul>
<p>Lock 对象的 <code>unlock</code> 方法在执行时，它会调用 AQS 的 <code>tryRelease</code> 方法(取决于具体实现类)，如果当前线程不持有锁，则抛出 <code>IllegalMonitorStateException</code> 异常。</p>
</blockquote>
<pre><code class="java">Lock lock = new XxxLock();
// ...
boolean isLocked = lock.tryLock();
    if (isLocked) &#123;
         try &#123;
             doSomething();
             doOthers();
     	&#125; finally &#123;
         	lock.unlock();
         &#125;
&#125;
</code></pre>
<blockquote>
<p>并发修改同一记录时，避免更新丢失，需要加锁。</p>
<p>要么在应用层加锁，要么在缓存加锁，要么在数据库层使用乐观锁，使用 <code>version</code> 作为更新依据。</p>
<ul>
<li>如果每次访问冲突概率小于 20%，推荐使用乐观锁，否则使用悲观锁。</li>
<li>乐观锁的重试次数不得小于 3 次。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>资金相关的金融敏感信息，使用悲观锁策略。</p>
<p>乐观锁在获得锁的同时已经完成了更新操作，校验逻辑容易出现漏洞，另外，乐观锁对冲突的解决策略有较复杂的要求，处理不当容易造成系统压力或数据异常，所以资金相关的金融敏感信息不建议使用乐观锁更新。 </p>
</blockquote>
<hr>
<blockquote>
<p>避免 <code>Random</code> 实例被多线程使用，虽然共享该实例是线程安全的，但会因竞争同一<code>seed</code> 导致的性能下降。</p>
</blockquote>
<hr>
<blockquote>
<p>通过双重检查锁(<code>double-checked locking</code>)，实现延迟初始化需要将目标属性声明为 <code>volatile</code> 型，(比如修改 helper 的属性声明为 <code>private volatile Helper helper = null;</code>)。</p>
</blockquote>
<pre><code class="java">public class LazyInitDemo &#123;
    private volatile Helper helper = null;
    public Helper getHelper() &#123;
    if (helper == null) &#123;    
        synchronized(this) &#123;  
            if (helper == null) &#123;   
                helper = new Helper();   
            &#125;    
        &#125;   
    &#125;   
    return helper;   
&#125;    
// other methods and fields...   
&#125;
</code></pre>
<blockquote>
<p>volatile 解决多线程内存不可见问题对于一写多读，是可以解决变量同步问题，但是如果多写，同样无法解决线程安全问题。</p>
<p>如果是 <code>count++</code> 操作，使用如下类实现:</p>
<ul>
<li>如果是 JDK8，推荐使用 <code>LongAdder</code> 对象，比 <code>AtomicLong</code> 性能更好(减少乐观锁的重试次数)。</li>
</ul>
</blockquote>
<pre><code class="java">AtomicInteger count = new AtomicInteger();
count.addAndGet(1);
</code></pre>
<hr>
<blockquote>
<p>HashMap 在容量不够进行 <code>resize</code> 时由于高并发可能出现死链，导致 CPU 飙升，在开发过程中注意规避此风险。</p>
</blockquote>
<hr>
<blockquote>
<p>ThreadLocal 对象使用 static 修饰，<code>ThreadLocal</code> 无法解决共享对象的更新问题。</p>
<p>这个变量是针对一个线程内所有操作共享的，所以设置为静态变量，所有此类实例共享此静态变量，也就是说在类第一次被使用时装载，只分配一块存储空间，所有此类的对象(只要是这个线程内定义的)都可以操控这个变量。</p>
</blockquote>
<h2 id="控制语句"><a href="#控制语句" class="headerlink" title="控制语句"></a>控制语句</h2><blockquote>
<p>当 <code>switch</code> 括号内的变量类型为 String 并且此变量为外部参数时，必须先进行 null 判断。</p>
</blockquote>
<hr>
<blockquote>
<p>三目运算符 condition ? 表达式 1:表达式 2 中，高度注意表达式 1 和 2 在类型对齐时，可能抛出因自动拆箱导致的 NPE 异常。 </p>
<p>以下两种场景会触发类型对齐的拆箱操作:</p>
<ul>
<li>表达式 1 或 表达式 2 的值只要有一个是原始类型。</li>
<li>表达式 1 或 表达式 2 的值的类型不一致，会强制拆箱升级成表示范围更大的那个类型。</li>
</ul>
</blockquote>
<pre><code class="java">Integer a = 1;
Integer b = 2;
Integer c = null;
Boolean flag = false;
// a*b的结果是int类型，那么c会强制拆箱成int类型，抛出NPE异常 
Integer result = (flag ? a * b : c);
</code></pre>
<blockquote>
<p>在高并发场景中，避免使用 等于 判断作为中断或退出的条件。 </p>
<p>如果并发控制没有处理好，容易产生等值判断被 击穿 的情况，使用大于或小于的区间判断条件来代替。 </p>
<p>如：判断剩余奖品数量等于 0 时，终止发放奖品，但因为并发处理错误导致奖品数量瞬间变成了负数，这样的话，活动无法终止。</p>
</blockquote>
<hr>
<blockquote>
<p>循环体中的语句要考量性能，以下操作尽量移至循环体外处理：</p>
<ul>
<li>如定义对象、变量、获取数据库连接，进行不必要的 <code>try-catch</code> 操作(这个 <code>try-catch</code> 是否可以移至循环体外)。</li>
</ul>
</blockquote>
<h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><h2 id="建表规约"><a href="#建表规约" class="headerlink" title="建表规约"></a>建表规约</h2><blockquote>
<p>表达是与否概念的字段，必须使用 <code>is_xxx</code> 的方式命名，数据类型是 <code>unsigned tinyint</code>(1 表示是，0 表示否)。</p>
<ul>
<li>任何字段如果为非负数，必须是 unsigned。</li>
<li>表达逻辑删除的字段名 <code>is_deleted</code>，1 表示删除，0 表示未删除。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>表名、字段名必须使用小写字母或数字，禁止出现数字开头禁止两个下划线中间只出现数字。</p>
<p>正例:</p>
<ul>
<li>aliyun_admin，rdc_config，level3_name</li>
</ul>
<p>反例:</p>
<ul>
<li>AliyunAdmin，rdcConfig，level_3_name</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>表名不使用复数名词。</p>
<p>表名应该仅仅表示表里面的实体内容，不应该表示实体数量，对应于 DO 类名也是单数形式，符合表达习惯。</p>
</blockquote>
<hr>
<blockquote>
<p>主键索引名为 <code>pk_</code>字段名。</p>
<p>唯一索引名为 <code>uk_</code>字段名。</p>
<p>普通索引名为 <code>idx_</code>字段名。</p>
</blockquote>
<hr>
<blockquote>
<p>小数类型为 decimal，禁止使用 float 和 double。</p>
<p>在存储的时候，float 和 double 都存在精度损失的问题，很可能在比较值的时候，得到不正确的结果。</p>
<p>如果存储的数据范围超过 decimal 的范围，建议将数据拆成整数和小数并分开存储。</p>
</blockquote>
<hr>
<blockquote>
<p>如果存储的字符串长度几乎相等，使用 <code>char</code> 定长字符串类型。</p>
</blockquote>
<hr>
<blockquote>
<p>varchar 是可变长字符串，不预先分配存储空间，长度不要超过 5000，如果存储长度大于此值，定义字段类型为 text，独立出来一张表，用主键来对应，避免影响其它字段索引率。</p>
</blockquote>
<hr>
<blockquote>
<p>表必备三字段:<code>id，create_time，update_time</code>。</p>
<p>其中 id 必为主键，类型为 bigint unsigned、单表时自增、步长为 1。</p>
<p><code>create_time，update_time</code> 的类型均为 datetime 类型，如果要记录时区信息，那么类型设置为 timestamp。</p>
</blockquote>
<hr>
<blockquote>
<p>在数据库中不能使用物理删除操作，要使用逻辑删除。 </p>
<p>逻辑删除在数据删除后可以追溯到行为操作。</p>
<p>不过会使得一些情况下的唯一主键变得不唯一，需要根据情况来酌情解决。</p>
</blockquote>
<hr>
<blockquote>
<p>表的命名最好是遵循 业务名称_表的作用。 </p>
<p>正例:</p>
<ul>
<li><code>alipay_task / force_project / trade_config / tes_question</code></li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>库名与应用名称尽量一致。</p>
</blockquote>
<hr>
<blockquote>
<p>单表行数超过 500 万行或者单表容量超过 2GB，才推荐进行分库分表。</p>
<ul>
<li>如果预计三年后的数据量根本达不到这个级别，请不要在创建表时就分库分表。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>合适的字符存储长度，不但节约数据库表空间、节约索引存储，更重要的是提升检索速度。 </p>
<ul>
<li>无符号值可以避免误存负数，且扩大了表示范围。</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th align="center">对象</th>
<th align="center">年龄区间</th>
<th align="center">类型</th>
<th align="center">字节</th>
<th align="center">表示范围</th>
</tr>
</thead>
<tbody><tr>
<td align="center">人</td>
<td align="center">150 岁之内</td>
<td align="center">tinyint unsigned</td>
<td align="center">1</td>
<td align="center">无符号值：0 到 255</td>
</tr>
<tr>
<td align="center">龟</td>
<td align="center">数百岁</td>
<td align="center">smallint unsigned</td>
<td align="center">2</td>
<td align="center">无符号值：0 到 65535</td>
</tr>
<tr>
<td align="center">恐龙化石</td>
<td align="center">数千万年</td>
<td align="center">int unsigned</td>
<td align="center">4</td>
<td align="center">无符号值：0 到约 42.9 亿</td>
</tr>
<tr>
<td align="center">太阳</td>
<td align="center">约 50 亿年</td>
<td align="center">bigint unsigned</td>
<td align="center">8</td>
<td align="center">无符号值：0 到约 10 的 19 次方</td>
</tr>
</tbody></table>
<h2 id="索引规约"><a href="#索引规约" class="headerlink" title="索引规约"></a>索引规约</h2><blockquote>
<p>业务上具有唯一特性的字段，即使是组合字段，也必须建成唯一索引。</p>
<p>不要以为唯一索引影响了 insert 速度，这个速度损耗可以忽略，但提高查找速度是明显的。</p>
<p>另外，即使在应用层做了非常完善的校验控制，只要没有唯一索引，根据墨菲定律，必然有脏数据产生。</p>
</blockquote>
<hr>
<blockquote>
<p>超过三个表禁止 join。</p>
<p>需要 join 的字段，数据类型保持绝对一致。</p>
<p>多表关联查询时，保证被关联的字段需要有索引。</p>
<ul>
<li>即使双表 join 也要注意表索引、SQL 性能。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>在 varchar 字段上建立索引时，必须指定索引长度，没必要对全字段建立索引，根据实际文本区分度决定索引长度。</p>
<p>索引的长度与区分度是一对矛盾体，一般对字符串类型数据，长度为 20 的索引，区分度会高达 90% 以上，可以使用 <code>count(distinct left(列名，索引长度)) / count(*)</code> 的区分度来确定。</p>
</blockquote>
<hr>
<blockquote>
<p>页面搜索严禁左模糊或者全模糊，如果需要走搜索引擎来解决。 </p>
<ul>
<li>索引文件具有 B-Tree 的最左前缀匹配特性，如果左边的值未确定，那么无法使用此索引。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>如果有 order by 的场景，请注意利用索引的有序性。</p>
<p>order by 最后的字段是组合索引的一部分，并且放在索引组合顺序的最后，避免出现 filesort 的情况，影响查询性能。</p>
<p>正例:</p>
<ul>
<li><code>where a = ? and b = ? order by c;索引:a_b_c </code></li>
</ul>
<p>反例:</p>
<ul>
<li>索引如果存在范围查询，那么索引有序性无法利用，如:<code>WHERE a &gt; 10 ORDER BY b;</code>索引 a_b 无法排序。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>利用覆盖索引来进行查询操作，避免回表。</p>
<p>用 explain 的结果，extra 列会出现:<code>using index</code>。</p>
</blockquote>
<hr>
<blockquote>
<p>利用延迟关联或者子查询优化超多分页场景。</p>
<p>先快速定位需要获取的 id 段，然后再关联:</p>
<p><code>SELECT t1.* FROM 表 1 as t1 , (select id from 表 1 where 条件 LIMIT 100000 , 20) as t2 where t1.id = t2.id</code></p>
</blockquote>
<hr>
<blockquote>
<p>SQL 性能优化的目标:至少要达到 <code>range</code> 级别，要求是 <code>ref</code> 级别，如果可以是 <code>const</code> 最好。 </p>
<ul>
<li>consts 单表中最多只有一个匹配行(主键或者唯一索引)，在优化阶段即可读取到数据。</li>
<li>ref 指的是使用普通的索引(normal index)。</li>
<li>range 对索引进行范围检索。</li>
</ul>
<p>explain 表的结果，<code>type = index</code>，索引物理文件全扫描，速度非常慢。</p>
<p>这个 index 级别比较 range 还低，与全表扫描是小巫见大巫。</p>
</blockquote>
<hr>
<blockquote>
<p>建组合索引的时候，区分度最高的在最左边。</p>
<p>正例:</p>
<ul>
<li>如果 <code>where a = ? and b = ?</code>，a 列的几乎接近于唯一值，那么只需要单建 <code>idx_a</code> 索引即可。</li>
</ul>
<p>存在非等号和等号混合判断条件时，在建索引时，请把等号条件的列前置。</p>
<p>如:<code>where c &gt; ? and d = ?</code> 那么即使 c 的区分度更高，也必须把 d 放在索引的最前列，即建立组合索引 <code>idx_d_c</code>。</p>
</blockquote>
<hr>
<blockquote>
<p>防止因字段类型不同造成的隐式转换，导致索引失效。</p>
</blockquote>
<h2 id="SQL语句"><a href="#SQL语句" class="headerlink" title="SQL语句"></a>SQL语句</h2><blockquote>
<p>不要使用 count(列名) 或 count(常量) 来替代 <code>count(*)</code>，<code>count(*)</code> 是 SQL92 定义的标准统计行数的语法，跟数据库无关，跟 NULL 和非 NULL 无关。</p>
<ul>
<li><code>count(*)</code> 会统计值为 NULL 的行，而 count(列名) 不会统计此列为 NULL 值的行。</li>
</ul>
</blockquote>
<hr>
<blockquote>
<p><code>count(distinct col)</code> 计算该列除 NULL 之外的不重复行数。</p>
<p>注意 <code>count(distinct col1 , col2)</code> 如果其中一列全为 NULL，那么即使另一列有不同的值，也返回为 0。</p>
</blockquote>
<hr>
<blockquote>
<p>当某一列的值全是 NULL 时，<code>count(col)</code> 的返回结果为 0。</p>
<p>但 <code>sum(col)</code> 的返回结果为 NULL，因此使用 sum() 时需注意 NPE 问题。</p>
<p>可以使用如下方式来避免 sum 的 NPE 问题:</p>
<ul>
<li><code>SELECT IFNULL(SUM(column) , 0) FROM table;</code></li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>SQL 语句中表的别名前加 as，并且以 t1、t2、t3、…的顺序依次命名。 </p>
<p>别名可以是表的简称，或者是依照表在 SQL 语句中出现的顺序，以 t1、t2、t3 的方式命名。 </p>
<p>别名前加 as 使别名更容易识别。</p>
<p>正例:</p>
<ul>
<li><code>select t1.name from first_table as t1 , second_table as t2 where t1.id = t2.id;</code></li>
</ul>
</blockquote>
<hr>
<blockquote>
<p>in 操作能避免则避免，若实在避免不了，需要仔细评估 in 后边的集合元素数量，控制在 1000 个之内。</p>
</blockquote>
<hr>
<blockquote>
<p>因国际化需要，所有的字符存储与表示，均采用 <code>utf8mb4</code> 字符集，字符计数方法需要注意。 </p>
<p>说明:</p>
<ul>
<li><p><code>SELECT LENGTH(&quot;轻松工作&quot;);--返回为 12</code></p>
</li>
<li><p><code>SELECT CHARACTER_LENGTH(&quot;轻松工作&quot;);--返回为 4</code></p>
</li>
</ul>
<p>表情需要用 <code>utf8mb4</code> 来进行存储，注意它与 utf8 编码的区别。</p>
</blockquote>
<hr>
<blockquote>
<p><code>TRUNCATE TABLE</code> 比 DELETE 速度快，且使用的系统和事务日志资源少，但 TRUNCATE 无事务且不触发 trigger，有可能造成事故，故不建议在开发代码中使用此语句。</p>
<p><code>TRUNCATE TABLE</code> 在功能上与不带 WHERE 子句的 DELETE 语句相同。</p>
</blockquote>

	</div>
</div>


    <div class="post-guide">
        <div class="item left">
            
              <a href="/2023/11/21/%E5%B7%A5%E5%85%B7%E7%9B%B8%E5%85%B3/Hexo/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  Hexo
              </a>
            
        </div>
        <div class="item right">
            
              <a href="/2023/11/15/%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3/JWT/">
                JWT
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>




<script>

    //document.oncontextmenu=new Function("event.returnValue=false");
	//document.onselectstart=new Function("event.returnValue=false");

	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?7eeb54583579fabc0878be210d6ad60a";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();

	

	$(function () {
		const btw = new BTWPlugin();
	    btw.init({
	        id: 'container',
	        blogId: '22377-1706525467336-300',
	        name: '月伴飞鱼',
	        qrcode: '/小程序码.jpg',
	        keyword: '验证码',
	        btnText: '为防止机器刷接口，需要完成人机检测',
        	cookieAge: 1
	    });

	    var contents = document.getElementsByClassName("content999");
	    //监听文章内容的copy事件
	    contents[0].addEventListener('copy',function(e){
	        setClipboardText(e);
	    });

	    function setClipboardText(event){
	        // clipboardData 对象是为通过编辑菜单、快捷菜单和快捷键执行的编辑操作所保留的，也就是你复制或者剪切内容
	        let clipboardData = event.clipboardData || window.clipboardData;

	        // 如果未复制或者未剪切，则return出去
	        if (!clipboardData) { return; }

	        event.preventDefault();

	        // Selection 对象，表示用户选择的文本范围或光标的当前位置。
	        // 声明一个变量接收 -- 用户输入的剪切或者复制的文本转化为字符串
	        let text = window.getSelection().toString();
	    
	        if (text) {
	            // 如果文本存在则先取消文本默认事件
	            event.preventDefault();
	            // 通过调用常clipboardData对象的 setData(format, data) 方法；来设置相关文本
	            // format: 一个DOMString 表示要添加到 drag object的拖动数据的类型。
	            // data: 一个 DOMString表示要添加到 drag object的数据。
	            var copyright = '\n\n'
	            + '\n著作权归作者所有。'
	            + '\n商业转载请联系作者获得授权，非商业转载请注明出处。'
	            + '\n作者: 月伴飞鱼'
	            + '\n原文地址: http://hardyfish.top/2023/11/16/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D/Java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C/'
	    
	            clipboardData.setData('text/plain', text + copyright);
	    
	        }
	    };
	});

	
</script>

<script>
    const btw = new BTWPlugin();
    btw.init({
        id: 'container',
        blogId: '22377-1706525467336-300',
        name: '月伴飞鱼',
        qrcode: '/小程序码.jpg',
        keyword: '验证码',
        btnText: '为防止机器刷接口，需要完成人机检测',
        cookieAge: 1
    });

	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?7eeb54583579fabc0878be210d6ad60a";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
</script>
	</div>
	<div id="footer">
	<p>
	©2019-<span id="footerYear"></span> 
	<a href="/">月伴飞鱼</a> 
	
	
		|
		<span id="busuanzi_container_site_pv">
			PV 180986
		</span>
		|
		<span id="busuanzi_container_site_uv"> 
			UV 10079
		</span>
	
	<br>
	微信搜索 <a href="https://xiaoflyfish.oss-cn-beijing.aliyuncs.com/image/个人公众号.jpg" target="_blank">月伴飞鱼</a> 关注我
	</p>
</div>
<script type="text/javascript"> 
	document.getElementById('footerYear').innerHTML = new Date().getFullYear() + '';
</script>
	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>